
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="39035a18-42e8-5418-963f-d0630ce6fa6b")}catch(e){}}();
(self.jq8j4cslk5=self.jq8j4cslk5||[]).push([[34],{16829:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>TU});var XU=AU(149),hU=AU.n(XU),jp=(AU(15678),AU(16379)),SU=AU(14902);const uU=hU().create(),BU=hU().create(),vU=hU().pB(0,-1,0);function TU(UU){let pU=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const AU=(0,jp.b)("GB",{radius:.75,tessellation:30});AU.rotationQuaternion=SU.Quaternion.FromEulerAngles(Math.PI/2,0,0);{const pU=UU.Qp.mv("shadow_component_mat");pU.diffuseColor.set(0,0,0),pU.ambientColor.set(0,0,0),pU.alpha=.5,pU.disableLighting=!0,AU.material=pU,pU.freeze()}const XU=UU.Qp.EB;return XU.newObjectType("GB",AU,{lp:32,capacityIsConst:!1,strides:{matrix:16}}),AU.rotationQuaternion.set(0,0,0,1),UU.Qp.zB(AU),AU.rB(),{name:"GB",order:80,state:{size:.5,enabledCombinator:null,_thinObjectId:null,_positionY:null,_scale:1,_enabled:!1},DB:function(UU,pU){pU._thinObjectId=XU.instantiate("GB")},dp:function(UU,pU){XU.delete(pU._thinObjectId),pU._thinObjectId=null},system:function(AU,hU){UU.camera.JB(uU);for(let uU=0;uU<hU.length;uU++){var jp,SU,BU;const AU=hU[uU],vU=UU.oB.RB(AU.KB);AU.KB===UU.iA||vU&&(null!==(jp=null===(SU=vU.FB)||void 0===SU?void 0:SU.iv)&&void 0!==jp?jp:null===(BU=vU.mesh)||void 0===BU?void 0:BU.isEnabled())?QU(UU,XU,pU,AU):(yU(XU,AU,!1),AU._positionY=null)}},NB:function(pU,AU){for(let hU=0;hU<AU.length;hU++){const pU=AU[hU];if(null===pU._positionY)continue;const jp=UU.oB.IB(pU.KB).LB;XU.setPositionX(pU._thinObjectId,jp[0]),XU.setPositionZ(pU._thinObjectId,jp[2])}}}}function QU(UU,pU,AU,XU){const jp=UU.oB.IB(XU.KB),SU=UU.oB.PB(XU.KB);let TU;if(SU&&(SU.body.resting[1]<0||Number.isInteger(jp.LB[1])))TU=jp.LB[1];else{const hU=UU.xB(jp.LB,vU,AU);if(!hU)return void yU(pU,XU,!1);TU=hU.position[1]-UU.qB[1]}TU=Math.floor(TU),BU[0]=jp.WB[0],BU[1]=TU,BU[2]=jp.WB[2];const QU=jp.WB[1]-TU,OU=hU().squaredDistance(uU,BU);TU+=Math.min(.01+OU/1600*.1,.1),XU._positionY!==TU&&(XU._positionY=TU,pU.setPositionY(XU._thinObjectId,TU));const fU=.7*XU.size*(1-QU/AU);XU._scale!==fU&&(XU._scale=fU,pU.setScale(XU._thinObjectId,fU,fU,fU)),yU(pU,XU,!0)}function yU(UU,pU,AU){var XU,hU;const jp=null!==(XU=null===(hU=pU.enabledCombinator)||void 0===hU?void 0:hU.setBooleanType("placeToPutShadowExists",AU))&&void 0!==XU?XU:AU;pU._enabled!==jp&&(pU._enabled=jp,UU.YB(pU._thinObjectId,jp))}},16540:(UU,pU,AU)=>{"use strict";AU.d(pU,{c:()=>vU,d:()=>OU});var XU=AU(15049),hU=AU(14877),jp=AU(15501),SU=AU(15983),uU=AU(14902),BU=AU(15383);class vU{constructor(UU){this.jp=UU,this._defaultMat=void 0,this.allMaterials=void 0,this._blockMatIDtoTerrainID=void 0,this._idCounter=void 0,this._terrainIDtoMatObject=void 0,this._texURLtoTerrainID=void 0,this._renderMatToTerrainID=void 0,this._defaultMat=UU.Qp.mv("base-terrain"),this._defaultMat.freeze(),this.allMaterials=[this._defaultMat],this._idCounter=1e3,this._blockMatIDtoTerrainID={},this._terrainIDtoMatObject={},this._texURLtoTerrainID={},this._renderMatToTerrainID=new Map}VB(UU){if(UU in this._blockMatIDtoTerrainID)return this._blockMatIDtoTerrainID[UU];var pU=function(UU,pU){var AU=UU.jp.eU.cB(pU);if(AU.sB){var XU=AU.sB;return UU._renderMatToTerrainID.has(XU)||UU._renderMatToTerrainID.set(XU,UU._idCounter++),UU._renderMatToTerrainID.get(XU)}if(AU.tB.length){var hU=AU.tB[0];return hU in UU._texURLtoTerrainID||(UU._texURLtoTerrainID[hU]=UU._idCounter++),UU._texURLtoTerrainID[hU]}var jp=AU.alpha;return jp>0&&jp<1?10+Math.round(100*jp):1}(this,UU);if(!(pU in this._terrainIDtoMatObject)){var AU=function(UU,pU){const{jp:AU}=UU;var XU=AU.eU.cB(pU);if(XU.sB)return XU.sB;if(0===XU.tB.length){if(!(XU.alpha>0&&XU.alpha<1))return UU._defaultMat;var jp="terrain-alpha-"+pU,SU=AU.Qp.mv(jp);return SU.alpha=XU.alpha,SU.freeze(),SU}const{Cp:uU}=AU.Qp;var vU=AU.Qp.mv("terrain-textured-"+pU),TU=hU.d.NEAREST_NEAREST_MIPLINEAR;const QU=[];for(const OU of XU.tB){const UU=new hU.d(OU,uU,!1,!1,TU);QU.push(UU),XU.bB&&(vU.fB=BU.c.MATERIAL_ALPHATEST,vU.useAlphaFromDiffuseTexture=!0,UU.OB=!0)}vU.diffuseTexture=QU[0];const{Uv:yU}=XU;if(XU.pv>=0){if(new OU(vU,QU,yU,AU.Qp.tu(),!0),XU.tB.some((UU=>AU.eU.Av(UU))))for(const hU of QU)vU.fB=BU.c.MATERIAL_ALPHATEST,vU.useAlphaFromDiffuseTexture=!0,hU.OB=!0}else yU&&new fU(vU,yU[0]+1);return vU.freeze(),vU}(this,UU);this.allMaterials.push(AU),this._terrainIDtoMatObject[pU]=AU}return this._blockMatIDtoTerrainID[UU]=pU,pU}VU(){let UU=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this._terrainIDtoMatObject[UU]}}class TU{constructor(UU){this.SU=!1,this.parentFactory=void 0,this.parentFactory=UU}getAnimTick(){return this.parentFactory.animTick}dispose(){this.SU?console.error(new Error("AnimTicker already disposed")):(this.SU=!0,this.parentFactory.onAnimTickerDisposed())}}const QU=new uU.Op(0,100,0),yU=new class{constructor(UU){this.animTickStride=UU,this.animTick=void 0,this.numActiveAnimTickers=void 0,this.animTickInterval=void 0,this.numActiveAnimTickers=0}setUp(){this.animTick=0,this.animTickInterval=setInterval((()=>{this.animTick++}),this.animTickStride)}tearDown(){clearInterval(this.animTickInterval)}createAnimTicker(){return 0===this.numActiveAnimTickers&&this.setUp(),this.numActiveAnimTickers++,new TU(this)}onAnimTickerDisposed(){this.numActiveAnimTickers--,0===this.numActiveAnimTickers&&this.tearDown()}}(100);class OU extends jp.b{constructor(UU,pU,AU,XU,hU){super(UU,"TestPlugin",200,{NOA_TWOD_ARRAY_TEXTURE:!1}),this.textureAtlases=void 0,this.animDataPerTex=void 0,this.animTicker=void 0,this.imagesPerAtlas=void 0,this.animData=void 0,this.useWebGL2=void 0,this.greedyMeshed=void 0,this.textureAtlases=pU.map(((UU,pU)=>(UU.onLoadObservable.add((UU=>{this.setTextureArrayData(UU,pU)})),XU?null:UU))),this.animDataPerTex=AU?Float32Array.from(AU):null,this.animTicker=AU?yU.createAnimTicker():null,this.animData=AU?QU.clone():null,this.imagesPerAtlas=[],this.useWebGL2=XU,this.greedyMeshed=hU,this._enable(!0)}setTextureArrayData(UU,pU){let{width:AU,height:jp}=UU.getSize();const uU=Math.round(jp/AU);jp=AU;const BU=UU._readPixelsSync(),vU=XU.d.TEXTUREFORMAT_RGBA,TU=hU.d.NEAREST_NEAREST_MIPLINEAR,QU=UU.yp();this.useWebGL2&&(this.textureAtlases[pU]=new SU.d(BU,AU,jp,uU,vU,QU,true,false,TU)),this.imagesPerAtlas[pU]=uU}prepareDefines(UU,pU,AU){UU.NOA_TWOD_ARRAY_TEXTURE=!0}getClassName(){return"TerrainMaterialPluginName"}getSamplers(UU){for(let pU=0;pU<this.textureAtlases.length;pU++)UU.push("textureAtlas".concat(pU))}getAttributes(UU){UU.push("texAtlasIndices")}getUniforms(){if(this.animDataPerTex)return{ubo:[{name:"uAnimData",size:3,type:"vec3"},{name:"uAnimDataPerTex",size:1,type:"highp float",arraySize:this.animDataPerTex.length}],vertex:"\n                uniform highp vec3 uAnimData;\n                uniform highp float uAnimDataPerTex[".concat(this.animDataPerTex.length,"];\n            ")}}bindForSubMesh(UU,pU,AU,XU){if(this.animDataPerTex){const pU=this.animDataPerTex.length/3-1;this.animData.z=pU,UU.updateFloatArray("uAnimDataPerTex",this.animDataPerTex)}for(let hU=0;hU<this.textureAtlases.length;hU++)this.textureAtlases[hU]&&UU.setTexture("textureAtlas".concat(hU),this.textureAtlases[hU]);if(this.animTicker){const UU=this.animTicker.getAnimTick();this.animData.x=UU}this.animDataPerTex&&UU.updateVector3("uAnimData",this.animData)}dispose(UU){var pU;super.dispose(UU),null===(pU=this.animTicker)||void 0===pU||pU.dispose()}getCustomCode(UU){var pU,AU;const XU=null!==(pU=this.textureAtlases)&&void 0!==pU?pU:[null],hU=null!==(AU=this.imagesPerAtlas)&&void 0!==AU?AU:[256];return"vertex"===UU?{CUSTOM_VERTEX_MAIN_BEGIN:this.animDataPerTex?"\n                    float animTick = uAnimData.x;\n                    float animTickStride = uAnimData.y;\n                    float numAnimTextures = uAnimData.z;\n                    float animParamIndex = 3.0 * min(numAnimTextures, floor(texAtlasIndices));\n                    float animStateMask = uAnimDataPerTex[int(animParamIndex)];\n                    float animTexIndexStart = uAnimDataPerTex[int(animParamIndex + 1.0)];\n                    float animInterval = max(animTickStride, uAnimDataPerTex[int(animParamIndex + 2.0)]);\n                    float animTickForTex = floor((animTickStride / animInterval) * animTick);\n                    ".concat("float animState = mod(animTickForTex, animStateMask + 1.0);\n                    float isAnimTex = min(1.0, animState);\n                    float isNonAnimTex = 1.0 - isAnimTex;\n\n                    texAtlasIndex = isNonAnimTex * texAtlasIndices + isAnimTex * (animTexIndexStart + animState - 1.0);\n                "):"\n                    texAtlasIndex = texAtlasIndices;\n                ",CUSTOM_VERTEX_DEFINITIONS:"\n                ".concat(XU.map(((UU,pU)=>"uniform highp ".concat(this.useWebGL2?"sampler2DArray":"sampler2D"," textureAtlas").concat(pU,";"))).join("\n"),"\n                attribute float texAtlasIndices;\n                varying float texAtlasIndex;\n            ")}:"fragment"===UU?{"!baseColor\\=texture2D\\(diffuseSampler,vDiffuseUV\\+uvOffset\\);":XU.length>1?XU.map(((UU,pU)=>"\n                        if (texAtlasIndex < ".concat(hU[0]*(pU+1)-.5,") {\n                            baseColor = texture").concat(this.useWebGL2?"":"2D","(\n                                textureAtlas").concat(pU,",\n                                ").concat(this.useWebGL2?"vec3(vDiffuseUV, texAtlasIndex".concat(pU>0?" - ".concat(hU[0].toFixed(1)," * ").concat(pU.toFixed(1)):"",")"):this.greedyMeshed?"vec2(vDiffuseUV.x, (fract(vDiffuseUV.y) + texAtlasIndex".concat(pU>0?" - ".concat(hU[0].toFixed(1)," * ").concat(pU.toFixed(1)):"",") / ").concat(hU[pU].toFixed(1),")"):"vDiffuseUV - vec2(0.0, ".concat(pU.toFixed(1),")"),"\n                            );\n                        }").concat(pU+1<XU.length?" else ":""))).join(""):"baseColor = texture".concat(this.useWebGL2?"":"2D","(textureAtlas0, ").concat(this.useWebGL2?"vec3(vDiffuseUV, texAtlasIndex)":"vec2(vDiffuseUV.x, ".concat(this.greedyMeshed?"fract":"","(vDiffuseUV.y) + texAtlasIndex) / ").concat(hU[0].toFixed(1)||"1.0",")"),");"),CUSTOM_FRAGMENT_DEFINITIONS:"\n                ".concat(XU.map(((UU,pU)=>"uniform highp ".concat(this.useWebGL2?"sampler2DArray":"sampler2D"," textureAtlas").concat(pU,";"))).join("\n"),"\n                varying float texAtlasIndex;\n            ")}:null}}class fU extends jp.b{constructor(UU,pU){super(UU,"AnimatedMaterialPlugin",200,{ANIM_STATES_NUM:"".concat(pU,".0")}),this.animTicker=void 0,this.animTicker=yU.createAnimTicker(),this._enable(!0)}getClassName(){return"AnimatedMaterialPluginName"}getUniforms(){return{ubo:[{name:"uAnimTick",size:1,type:"highp float"}],vertex:"\n\t\t\t\tuniform highp float uAnimTick;\n\t\t\t"}}bindForSubMesh(UU,pU,AU,XU){UU.updateFloat("uAnimTick",this.animTicker.getAnimTick())}dispose(UU){super.dispose(UU),this.animTicker.dispose()}getCustomCode(UU){return"vertex"===UU?{CUSTOM_VERTEX_MAIN_END:"\n                float animTexIndex = mod(uAnimTick, ANIM_STATES_NUM);\n                vMainUV1.y = (vMainUV1.y + animTexIndex) / ANIM_STATES_NUM;\n            "}:"fragment"===UU?{"!baseColor\\=texture2D\\(diffuseSampler,vDiffuseUV\\+uvOffset\\);":"baseColor = texture2D(diffuseSampler, vMainUV1);"}:null}}},16640:(UU,pU,AU)=>{"use strict";AU.d(pU,{c:()=>BU,e:()=>yU});var XU=AU(47),hU=AU(37),jp=AU(1140),SU=AU(13),uU=AU(505);const BU=(0,XU.memo)((function(){var UU,pU,AU;const{isTouchScreen:BU}=(0,SU.g)(["isTouchScreen"]),vU=(0,XU.useRef)(null),TU=(0,XU.useRef)(!1),QU=(0,hU.j)("cameraZoomSet",0);(0,hU.j)("newLocalPlayerHeldItem",null),(0,hU.i)("mouseState",(UU=>{let{isDown:pU}=UU;TU.current=pU,vU.current&&(vU.current.style.transform=pU?"scale(1.4)":"scale(1)")}));const yU=(0,jp.jA)(),OU=null===(UU=yU.oB.Xv(yU.iA))||void 0===UU?void 0:UU.hv,CU=QU>1,gU=(null===OU||void 0===OU?void 0:OU.gunTypeObj)||(null===OU||void 0===OU||null===(pU=OU.typeObj)||void 0===pU?void 0:pU.holdAsAiming)&&!(null!==OU&&void 0!==OU&&null!==(AU=OU.typeObj)&&void 0!==AU&&AU.hideAimingUI),MU="Gun"===yU.oB.Xv(yU.iA).heldType;return BU&&!gU?null:(0,uU.jsxs)(uU.Fragment,{children:[MU&&(0,uU.jsx)(fU,{}),!MU&&!CU&&(0,uU.jsx)("div",{className:"Crosshair",ref:vU,style:{transform:TU.current?"scale(1.4)":"scale(1)"},children:"+"})]})})),vU=[{current:null},{current:null},{current:null},{current:null}],TU={current:null};let QU=0;function yU(UU){vU[0].current||TU.current?OU(UU):QU=UU}function OU(UU){if(vU[0].current){const pU="".concat(Math.max(.1*UU,1),"vh");vU[0].current.style.transform="translateX(calc(0px - ".concat(pU,"))"),vU[1].current.style.transform="translateX(calc(0px + ".concat(pU,"))"),vU[2].current.style.transform="translateY(calc(0px - ".concat(pU,"))"),vU[3].current.style.transform="translateY(calc(0px + ".concat(pU,"))")}TU.current&&(TU.current.style.filter="blur(".concat(Math.round(UU/10),"px)"))}function fU(){const UU=(0,hU.j)("aimingOverlay","none"),pU=.6,AU=.15,jp="".concat(1.2,"vh"),SU="".concat(.3,"vh");return(0,XU.Xp)((()=>{QU&&OU(QU)}),[]),(0,uU.jsxs)(uU.Fragment,{children:["sniper"===UU&&(0,uU.jsxs)("div",{ref:TU,className:"GunCrosshairOverlayWrapper",children:[(0,uU.jsx)("div",{className:"GunCrosshairOverlay"}),(0,uU.jsx)("div",{className:"GunCrosshairOverlayLine1"}),(0,uU.jsx)("div",{className:"GunCrosshairOverlayLine2"}),(0,uU.jsx)("div",{className:"GunCrosshairOverlayDot"})]}),(0,uU.jsxs)("div",{className:"GunCrosshairWrapper",style:{opacity:"sniper"===UU?0:1},children:[(0,uU.jsx)("div",{className:"GunCrosshair",style:{width:jp,height:SU,top:"".concat(49.85,"vh"),left:"calc(50vw - ".concat(pU,"vh)")},ref:vU[0]}),(0,uU.jsx)("div",{className:"GunCrosshair",style:{width:jp,height:SU,top:"".concat(49.85,"vh"),left:"calc(50vw - ".concat(pU,"vh)")},ref:vU[1]}),(0,uU.jsx)("div",{className:"GunCrosshair",style:{width:SU,height:jp,top:"".concat(49.4,"vh"),left:"calc(50vw - ".concat(AU,"vh)")},ref:vU[2]}),(0,uU.jsx)("div",{className:"GunCrosshair",style:{width:SU,height:jp,top:"".concat(49.4,"vh"),left:"calc(50vw - ".concat(AU,"vh)")},ref:vU[3]})]})]})}},15879:(UU,pU,AU)=>{"use strict";AU.d(pU,{b:()=>yU,c:()=>OU});var XU=AU(47),hU=AU(517),jp=AU(37),SU=AU(1140),uU=AU(64),BU=AU(531),vU=AU.n(BU),TU=AU(505);const QU={},yU=(0,XU.memo)((function(){const UU=(0,hU.S)();return(0,jp.i)("damagedByOtherPlayer",(pU=>{let{SS:AU,direction:XU}=pU;const hU=AU||"nonDirectional";if(QU[hU]){const pU=QU[hU];clearTimeout(pU.timeout),pU.direction=XU,pU.timeout=setTimeout((()=>{delete QU[hU],UU()}),800)}else QU[hU]={direction:XU,jT:null,timeout:setTimeout((()=>{delete QU[hU],UU()}),800)};UU()})),(0,jp.i)("playerKilled",(pU=>{let{deadEId:AU,killerEId:XU}=pU;XU===(0,SU.jA)().Fp&&AU in QU&&(clearTimeout(QU[AU].timeout),delete QU[AU],UU())})),(0,XU.Xp)((()=>()=>{for(const UU in QU)clearTimeout(QU[UU].timeout),delete QU[UU]}),[]),(0,TU.jsx)("div",{className:"DirectionalDamage",children:Object.entries(QU).map((UU=>{let[pU,AU]=UU;const XU=(0,uU.r)(AU.direction);return(0,TU.jsx)("div",{ref:UU=>{QU[pU]&&(QU[pU].jT=UU)},className:vU()("DamageIndicator",{DamageIndicatorFullCircle:XU})},pU)}))})}));function OU(UU){for(const pU in QU){const{direction:AU,jT:XU}=QU[pU];if((0,uU.r)(AU))continue;const hU=AU-UU.camera.heading;XU.style.rotate="".concat(hU,"rad")}}},15854:(UU,pU,AU)=>{"use strict";AU.d(pU,{c:()=>wU,f:()=>kp,j:()=>lU});var XU=AU(597),hU=AU(47),jp=AU(517),SU=AU(523),uU=AU(647),BU=AU(98),vU=AU(37),TU=AU(388),QU=AU(81),yU=AU(531),OU=AU.n(yU),fU=AU(401),CU=AU(1140),gU=AU(15863),MU=AU(13),nU=AU(505);const wU=(0,hU.memo)((function(){const[UU,pU]=(0,hU.Ap)(0),AU=(0,jp.db)("useFullInventory"),SU=(0,CU.jA)(),[BU,QU]=(0,jp.X)("changedHotbarUsingNumkeys",!(0,TU.K)()),[yU,fU]=(0,hU.Ap)(SU.oB.Sv(SU.iA).getHotBar()),MU=yU[UU],[wU,lU]=(0,hU.Ap)(!1),eU=(0,jp.S)(),ZU=(0,hU.useRef)(null);(0,vU.i)("inventoryComponentVisible",(UU=>{lU(UU)})),(0,vU.i)("inventoryDraggedItemUpdated",(UU=>{ZU.current=UU,eU()})),(0,vU.i)("ScrollInventorySlot",(pU=>{let AU=UU+pU;AU<0?AU=9:AU>9&&(AU=0),aU(AU)})),(0,vU.i)("setSelectedInventorySlotI",(UU=>{aU(UU),QU(!1)})),(0,vU.i)("updatedInventory",(()=>{const UU=SU.oB.Sv(SU.iA);(0,CU.getBloxd)().updateGliderStatus(),fU(UU.getHotBar())})),(0,hU.Xp)((()=>{const pU=vU.h.subscribe("DropHotbarItem",(pU=>{if(MU){var AU;const XU=pU&&null!==(AU=MU.amount)&&void 0!==AU?AU:1;SU.oB.uv(SU.iA).removeItemClient(UU,XU,!0)}}));return()=>{vU.h.unsubscribe(pU)}}),[MU,UU,SU.iA]);const aU=UU=>{SU.oB.Sv(SU.iA).setSelectedSlotIndex(UU),pU(UU),function(UU){(0,XU.nc)(uU.Jg,UU)}(UU)};let GU,mp=null,EU=null,zU=UU=>UU=>{},rU=UU=>pU=>{aU(UU)},DU=UU=>UU=>{};if(wU){const UU=ZU.current;if(null===UU||void 0===UU||!UU.setHovered)return(0,nU.jsx)("div",{className:"HotBarContainer",children:(0,nU.jsx)("div",{className:"HotBar"})});mp=UU.draggedInfo,EU=UU.specialItemInfo,zU=UU.setHovered,rU=UU.pointerDown,DU=UU.pointerUp,GU=UU.variation}return(0,nU.jsxs)("div",{className:"HotBarContainer",children:[(0,nU.jsxs)("div",{className:"HotBar",children:[(0,nU.jsx)(kp,{}),(0,nU.jsx)("div",{className:"HotBarFiller"}),(0,nU.jsx)("div",{className:"HotBarGameItemsContainer",children:new Array(10).fill(0).map(((pU,AU)=>(0,nU.jsx)(gU.e,{idx:AU,draggedInfo:mp,specialItemInfo:EU,setHovered:zU(AU),pointerDown:rU(AU),pointerUp:DU(AU),variation:GU,isSelected:AU===UU,showNumber:BU},AU)))}),(0,nU.jsx)("div",{className:"HotBarFiller"}),(0,nU.jsx)("div",{className:OU()("HotBarItem ButtonHotBarItem",{HiddenButtonHotBarItem:!AU}),onPointerDown:()=>{vU.h.Sp("toggleMenu","inventory")},children:(0,nU.jsx)(dU,{})})]}),(0,nU.jsx)(HU,{Wj:MU})]})}));function kp(){const UU=(0,jp.db)("shopInfo");return(0,nU.jsx)("div",{className:OU()("HotBarItem ButtonHotBarItem",{HiddenButtonHotBarItem:(0,XU.yc)(UU)}),onPointerDown:()=>{MU.d.set({openMenuName:fU.m.SHOP})},children:(0,nU.jsx)(jp.P,{icon:(0,BU.Nb)(),noaAction:"OpenShop",onClick:UU=>{MU.d.set({openMenuName:fU.m.SHOP}),UU.stopPropagation()},showTouchTutorialPubSubId:"showShopTouchTutorial",showRedDotPubSubId:"showShopIconRedDot",touchIconPosition:"topleft"})})}function dU(){const UU=()=>{const UU=(0,CU.jA)().oB.Bv((0,CU.jA)().iA);if(null!==UU&&void 0!==UU&&UU.inventory){const pU=UU.inventory;return BU.mc.some((UU=>pU.getAmountOfItem(UU)>0))}return!1};return(0,vU.i)("updatedInventory",(pU=>{(0,CU.jA)().hp.creative||QU.k.getItem("LogInInventoryRedDotTutorialComplete")||(UU()?(vU.h.Sp("RedDotOpenInventoryIcon",!0),vU.h.Sp("TouchTutorialOpenInventoryIcon",!0)):(vU.h.Sp("RedDotOpenInventoryIcon",!1),vU.h.Sp("TouchTutorialOpenInventoryIcon",!1)))})),(0,vU.i)("toggleMenu",(pU=>{null!==pU&&void 0!==pU&&pU.startsWith("inventory")&&UU()?(QU.k.setItem("LogInInventoryRedDotTutorialComplete",!0),vU.h.Sp("RedDotOpenInventoryIcon",!1),vU.h.Sp("TouchTutorialOpenInventoryIcon",!1)):"shop"===pU&&vU.h.Sp("showShopTouchTutorial",!1)})),(0,nU.jsx)("div",{className:"HotBarButton",onPointerDown:()=>{vU.h.Sp("toggleMenu","inventory")},children:(0,nU.jsx)(jp.P,{icon:"backpack",noaAction:"OpenInventory",keyboardButtonClassname:"HotBarButtonPrompt OpenInventoryButtonPrompt",onPointerDown:UU=>{vU.h.Sp("toggleMenu","inventory"),UU.stopPropagation()},showRedDotPubSubId:"RedDotOpenInventoryIcon",showTouchTutorialPubSubId:"TouchTutorialOpenInventoryIcon",touchIconPosition:"topleft"})})}function HU(UU){var pU,AU,XU,uU,TU,QU;let{Wj:yU}=UU;const[fU,gU]=(0,hU.Ap)(!1),MU=(0,hU.useRef)(null),[wU,kp]=(0,hU.Ap)(null),[dU,HU]=(0,hU.Ap)(null),lU=(0,jp.db)("maxAuraLevel"),eU=yU?(0,CU.getBloxd)().getMetaInfo(yU.name):null,ZU=null!==(pU=null===eU||void 0===eU?void 0:eU.rootName)&&void 0!==pU?pU:null,aU=(0,CU.jA)(),GU=aU.oB.Sv(aU.iA),mp="RequiresAmmo"===(null===eU||void 0===eU?void 0:eU.metaStr),EU=null!==(AU=null===GU||void 0===GU?void 0:GU.getAmountOfItem("Ammo"))&&void 0!==AU?AU:0,zU=(0,jp.S)(),rU=(0,hU.useCallback)((()=>{var UU;if(clearTimeout(MU.current),yU){var pU,AU,XU,hU,jp,SU,uU,vU,TU;const UU=null!==(pU=null===(AU=yU.attributes)||void 0===AU?void 0:AU.customDisplayName)&&void 0!==pU?pU:(0,CU.getBloxd)().getItemStat((0,CU.jA)().iA,(0,CU.getBloxd)().getMetaInfo(yU.name).rootName,"displayName"),OU=[],fU=Array.isArray(UU)?UU:[UU],gU={fontStyle:null!==(XU=yU.attributes)&&void 0!==XU&&null!==(hU=XU.customAttributes)&&void 0!==hU&&hU.author?"italic":"normal"};for(const pU of fU)pU.str?OU.push(pU):OU.push({str:pU,style:gU});if(null!==(jp=yU.attributes)&&void 0!==jp&&null!==(SU=jp.customAttributes)&&void 0!==SU&&SU.enchantments){OU.push(" ");const UU=Object.entries(yU.attributes.customAttributes.enchantments).sort(((UU,pU)=>pU[1]-UU[1]));for(const[pU,AU]of UU){var QU;if(AU<4)for(let UU=0;UU<AU;UU++)OU.push({icon:"".concat(pU," Enchantment"),style:{fontSize:"1.5em"}});else OU.push({icon:"".concat(pU," Enchantment"),style:{fontSize:"1.5em"}}),OU.push(null!==(QU=(0,BU.K)(AU))&&void 0!==QU?QU:AU.toString())}}kp(OU),HU(null!==(uU=null===(vU=yU.attributes)||void 0===vU||null===(TU=vU.customAttributes)||void 0===TU?void 0:TU.enchantmentTier)&&void 0!==uU?uU:null)}else kp(null),HU(null);gU(!0),zU();const OU=null===yU||void 0===yU||null===(UU=yU.attributes)||void 0===UU?void 0:UU.customAttributes;void 0===(null===OU||void 0===OU?void 0:OU.shotsLeft)&&(MU.current=setTimeout((()=>{gU(!1)}),2e3))}),[yU]);(0,hU.Xp)((()=>(rU(),()=>{clearTimeout(MU.current),gU(!1)})),[yU,rU]),(0,vU.i)("serverOption|".concat(ZU,"DisplayName"),(()=>{rU(),gU(!0)}));const[DU,JU]=(0,hU.Ap)(null===yU||void 0===yU||null===(XU=yU.attributes)||void 0===XU||null===(uU=XU.customAttributes)||void 0===uU?void 0:uU.shotsLeft);(0,hU.Xp)((()=>{var UU,pU;JU(null===yU||void 0===yU||null===(UU=yU.attributes)||void 0===UU||null===(pU=UU.customAttributes)||void 0===pU?void 0:pU.shotsLeft)}),[yU]),(0,vU.i)("localPlayerNewShotsLeft",(UU=>{JU(UU)}));const RU=(0,SU.g)();return(0,nU.jsx)(nU.Fragment,{children:fU&&yU?(0,nU.jsxs)("div",{className:OU()("SelectedItemName SmallTextBold",{NoAuraBar:0===lU,Enchanted:null!==dU}),style:{bottom:"".concat(Math.min(Math.round(.05*RU),70),"px"),"--enchantmentColour":null!==(TU=BU.W[dU])&&void 0!==TU?TU:BU.W.None,"--duration":BU.T["Tier 5"]/(null!==(QU=BU.T[dU])&&void 0!==QU?QU:BU.T.None)+"s"},children:[dU&&(0,nU.jsxs)("div",{className:"SelectedItemNameGradient",children:[(0,nU.jsx)(jp.J,{text:wU}),void 0!==DU?(0,nU.jsx)("div",{className:"SelectedItemShotsLeft",children:"".concat(DU,"|").concat((mp?EU:1)*yU.typeObj.clipSize)}):null]}),(0,nU.jsxs)("div",{className:"SelectedItemNameNormal",children:[(0,nU.jsx)(jp.J,{text:wU}),void 0!==DU?(0,nU.jsx)("div",{className:"SelectedItemShotsLeft",children:"".concat(DU,"|").concat((mp?EU:1)*yU.typeObj.clipSize)}):null]})]}):null})}function lU(UU){return UU.typeObj.stackable?UU.amount:0}},15872:(UU,pU,AU)=>{"use strict";AU.d(pU,{b:()=>sU,f:()=>xU,i:()=>YU});var XU=AU(463),hU=AU(21),jp=AU(47),SU=AU(517),uU=AU(597),BU=AU(15854),vU=AU(15876),TU=AU(399),QU=AU(540),yU=AU(15881),OU=AU(647),fU=AU(37),CU=AU(1706),gU=AU(550),MU=AU(557),nU=AU(98),wU=AU(121),kp=AU(1140),dU=AU(1372),HU=AU(64),lU=AU(1335),eU=AU(1441),ZU=AU(15863),aU=AU(505);function GU(UU){let{specialItemInfo:pU,setHovered:AU,pointerDown:XU,pointerUp:hU,enchantingTablePosition:BU,enchantingTableBlockName:vU}=UU;const{t:TU}=(0,lU.q)(),[yU,CU]=(0,jp.Ap)(null),[gU,MU]=(0,jp.Ap)(null),[wU,dU]=(0,jp.Ap)(0),HU=(0,SU.db)("auraPerLevel");(0,fU.i)("serverOption|_aura",(UU=>{const pU=Math.floor(UU/HU);dU(pU)})),(0,jp.Xp)((()=>{dU((0,kp.jA)().hp._aura/HU)}),[HU]);(0,jp.Xp)((()=>{if(pU){var UU,AU;if(!(0,kp.getBloxd)().enchantingManager.canUseEnchantingTable((0,kp.jA)().iA,pU.idx,vU))return void CU({isEnchantable:!1,possibleEnchantments:[],options:[],isAlreadyEnchanted:!1});const XU=(0,kp.getBloxd)().enchantingManager.getPossibleEnchantments((0,kp.jA)().iA,pU.name);if(!XU.length)return void CU({isEnchantable:!1,possibleEnchantments:[],options:[],isAlreadyEnchanted:!1});const hU=[];for(let UU=0;UU<3;UU++){const{commonProb:pU,uncommonProb:AU,rareProb:XU,epicProb:jp,legendaryProb:SU,level:uU}=(0,kp.getBloxd)().enchantingManager.getDistributionAtBounds(vU,UU);hU.push({level:uU,possibilities:{"Tier 1":100*pU,"Tier 2":100*AU,"Tier 3":100*XU,"Tier 4":100*jp,"Tier 5":100*SU}})}const jp={isEnchantable:!0,possibleEnchantments:XU,options:hU,isAlreadyEnchanted:void 0!==(null===(UU=pU.attributes)||void 0===UU||null===(AU=UU.customAttributes)||void 0===AU?void 0:AU.enchantmentTier)};CU(jp),(UU=>{const pU=UU.options.map((UU=>Object.entries(UU.possibilities).map((UU=>{let[pU,AU]=UU;return{str:"".concat(pU,": ").concat(AU>0?AU<.01?AU.toPrecision(1):AU.toFixed(2):0,"%\n"),style:{color:nU.W[pU]}}}))));MU(pU)})(jp)}else CU(null)}),[pU,BU,vU]);const GU=[];for(let jp=0;jp<3;jp++){const UU=null===yU||void 0===yU?void 0:yU.options[jp],XU=!UU||UU.level>wU;GU.push((0,aU.jsx)(eU.d,{className:"EnchantmentButton",onPointerEnter:UU?UU=>null===AU||void 0===AU?void 0:AU()(!0,{name:"",desc:gU[jp]},UU):void 0,onPointerLeave:UU?()=>null===AU||void 0===AU?void 0:AU()(!1):void 0,onClick:XU?void 0:()=>{(0,uU.nc)(OU.Of,{TX:pU.idx,yX:UU.level,QX:BU}),CU(null)},disabled:XU,children:UU?(0,aU.jsxs)(aU.Fragment,{children:[(0,aU.jsxs)("h1",{className:"EnchantmentLevels",children:[(0,aU.jsxs)("span",{className:"EnchantmentLevelsCost",children:[TU("enchantments:cost"),": "]})," ",TU("enchantments:levels",{level:UU.level})]}),(0,aU.jsxs)("div",{className:"EnchantmentPossibilities",children:[(0,aU.jsxs)("div",{className:"EnchantmentPossibilitiesRow",children:[(0,aU.jsx)("span",{className:"EnchantmentPossibilitiesTitle",children:TU("enchantments:tier")}),Object.entries(UU.possibilities).map((UU=>{let[pU,AU]=UU;return 0===AU?null:(0,aU.jsx)("span",{className:"EnchantmentPossibilitiesValue",style:{color:nU.W[pU]},children:pU},pU)}))]}),(0,aU.jsxs)("div",{className:"EnchantmentPossibilitiesRow",children:[(0,aU.jsx)("span",{className:"EnchantmentPossibilitiesTitle",children:TU("enchantments:odds")}),Object.entries(UU.possibilities).map((UU=>{let[pU,AU]=UU;return 0===AU?null:(0,aU.jsxs)("span",{className:"EnchantmentPossibilitiesValue",style:{color:nU.W[pU]},children:[AU>0&&AU<.1?"<0.1":AU.toFixed(0<AU&&AU<.95?1:0),"%"]},pU)}))]})]})]}):!1===(null===yU||void 0===yU?void 0:yU.isEnchantable)?(0,aU.jsx)("h1",{className:"EnchantmentLevels",children:TU("enchantments:notEnchantable")}):(0,aU.jsx)("h1",{className:"EnchantmentLevels",children:TU("enchantments:enterItem")})},jp))}return(0,aU.jsxs)("div",{className:"EnchantingTable",children:[(0,aU.jsx)("div",{className:"InvenLeftSideHeader SmallTextBold",children:vU}),(0,aU.jsxs)("div",{className:"EnchantingTableBody",children:[(0,aU.jsxs)("div",{className:"EnchantingTableLeft",children:[(0,aU.jsx)(ZU.e,{idx:xU,setHovered:UU=>{null===AU||void 0===AU||AU(xU)(UU)},pointerDown:XU,pointerUp:hU,draggedInfo:null,specialItemInfo:pU,variation:"Enchanting Table"}),yU&&yU.possibleEnchantments.length>0&&(0,aU.jsxs)("div",{className:"PossibleEnchantments",children:[(0,aU.jsx)("h2",{children:"Possible Perks:"}),yU.possibleEnchantments.map((UU=>(0,aU.jsxs)(jp.Fragment,{children:[(0,aU.jsxs)("div",{className:"PossibleEnchantmentName",children:[(0,aU.jsx)("div",{className:"PossibleEnchantmentIcon",children:(0,aU.jsx)(QU.e,{itemName:"".concat(UU," Enchantment"),amount:1})}),(0,aU.jsx)("div",{className:"PossibleEnchantmentNameText",children:UU})]}),(0,aU.jsx)("div",{className:"PossibleEnchantmentDescription",children:TU((0,kp.getBloxd)().enchantingManager.getDescription(UU).translationKey)})]},UU)))]})]}),(0,aU.jsxs)("div",{className:"EnchantmentOptions",children:[yU&&yU.isAlreadyEnchanted&&(0,aU.jsx)("div",{className:"AlreadyEnchantedWarning",children:TU("enchantments:alreadyEnchanted")}),GU]})]})]})}function mp(UU){var pU;let{specialItemInfo:AU,setSpecialItemInfo:XU,setHovered:hU,pointerDown:BU,pointerUp:vU}=UU;const TU=(0,kp.jA)(),yU=TU.oB.Sv(TU.iA),{t:CU}=(0,lU.q)(),gU=(0,SU.S)(),[MU,nU]=(0,jp.Ap)(null);return(0,jp.Xp)((()=>{if(AU){const UU=(0,kp.getBloxd)().craftingManager.getSalvageableItem(AU.name,AU.amount);nU({salvageable:!!UU,produces:UU})}else nU(null)}),[AU,null===AU||void 0===AU?void 0:AU.name,null===AU||void 0===AU?void 0:AU.amount]),(0,fU.i)("updatedInventory",(UU=>{gU()})),(0,aU.jsxs)("div",{className:"SalvagingTable",children:[(0,aU.jsx)("div",{className:"InvenLeftSideHeader SmallTextBold",children:CU("item:salvagingTable")}),(0,aU.jsxs)("div",{className:"SalvagingTableBody",children:[(0,aU.jsx)("div",{className:"SalvagingTableLeft",children:(0,aU.jsx)(ZU.e,{idx:xU,setHovered:UU=>{null===hU||void 0===hU||hU(xU)(UU)},pointerDown:BU,pointerUp:vU,draggedInfo:null,specialItemInfo:AU,variation:"Salvaging Table"})}),(0,aU.jsx)("div",{className:"SalvagingTableRight",children:(0,aU.jsx)(eU.d,{className:"SalvageButton",onClick:null!==MU&&void 0!==MU&&MU.salvageable?()=>{(0,kp.getBloxd)().craftingManager.salvageItem((0,kp.jA)().iA,AU.idx,AU.name,AU.amount)&&((0,uU.nc)(OU.yh,{Qj:AU.idx,yj:AU.amount}),nU(null),XU(null))}:void 0,disabled:!(null!==MU&&void 0!==MU&&MU.salvageable)||(null===MU||void 0===MU||null===(pU=MU.produces)||void 0===pU?void 0:pU.some((UU=>{let{amt:pU}=UU;return pU<1}))),children:MU?MU.salvageable?MU.produces.some((UU=>{let{amt:pU}=UU;return pU<1}))?(0,aU.jsx)("div",{className:"SalvageButtonText",children:(0,aU.jsx)("div",{className:"SalvageText Error",children:CU("salvagingTable:notEnoughResources")})}):yU.getNumFreeSlots()<MU.produces.length?(0,aU.jsx)("div",{className:"SalvageButtonText",children:(0,aU.jsx)("div",{className:"SalvageText Error",children:CU("salvagingTable:notEnoughInventorySpace")})}):(0,aU.jsxs)("div",{className:"SalvageButtonText",children:[(0,aU.jsx)("div",{className:"SalvageText",children:CU("salvagingTable:salvage")}),(0,aU.jsx)("div",{className:"SalvageIcons",children:MU.produces.map(((UU,pU)=>{let{item:AU,amt:XU}=UU;return(0,aU.jsx)("div",{className:"SalvageIcon",children:(0,aU.jsx)(QU.e,{itemName:AU,amount:Math.floor(XU)})},pU)}))})]}):(0,aU.jsx)("div",{className:"SalvageButtonText",children:(0,aU.jsx)("div",{className:"SalvageText Error",children:CU("salvagingTable:unsalvageable")})}):(0,aU.jsx)(aU.Fragment,{})})})]})]})}function EU(UU){return 0===UU.button||void 0===UU.button}function zU(UU){return!!UU.shiftKey}function rU(UU){return"touches"in UU||"touch"===UU.pointerType||"pen"===UU.pointerType}var DU=AU(531),JU=AU.n(DU);function RU(UU){let{onClick:pU,itemName:AU,isSelected:XU,haveIngredients:hU,setHovered:jp}=UU;return(0,aU.jsx)("div",{className:JU()("InvenItem",{CraftableItemNotEnoughIngredients:!hU}),onClick:pU,style:{cursor:XU?null:"pointer"},onPointerEnter:()=>{null===jp||void 0===jp||jp(!0,AU)},onPointerLeave:()=>{null===jp||void 0===jp||jp(!1)},children:(0,aU.jsx)(QU.e,{itemName:AU,amount:1})})}function oU(UU){let{show:pU,recipeItem:{name:AU,JX:XU},onCraft:hU,setHovered:BU}=UU;const vU=(0,kp.jA)(),TU=vU.oB.Sv(vU.iA),yU=0===(0,kp.getBloxd)().craftingManager.getCraftTimesInAvailableSpace(vU.iA,TU,AU,XU,1),fU=(0,kp.getBloxd)().craftingManager.getMaxCraftTimesFromIngredientAmt(vU.iA,TU,AU,XU),CU=(0,kp.getBloxd)().craftingManager.getRecipesForPlayer(vU.iA)[AU];let gU="4rem";3===CU[XU].requires.length?gU="3.75rem":CU[XU].requires.length>=4&&(gU="3.25rem");const MU=UU=>{const pU=zU(UU)?1/0:1,jp=(0,kp.getBloxd)().craftingManager.craftItem(vU.iA,TU,AU,XU,pU);jp>0&&(hU(),(0,uU.nc)(OU.Jf,{DX:AU,JX:XU,RX:jp}))},nU=(0,jp.useRef)(null);(0,jp.Xp)((()=>()=>{clearInterval(nU.current)}),[]);const[wU,dU]=(0,jp.Ap)(0),[HU,lU]=(0,jp.Ap)(null);(0,jp.Xp)((()=>{if(!0===pU){dU(0);const UU=setInterval((()=>{dU((UU=>UU+1))}),1e3);return()=>{clearInterval(UU)}}return()=>{}}),[pU]),(0,jp.Xp)((()=>{HU&&(null===BU||void 0===BU||BU(!0,HU[wU%HU.length]))}),[HU,wU,BU]);const ZU=(0,kp.getBloxd)().getItemStat(vU.iA,AU,"displayName");return(0,aU.jsxs)("div",{className:"CraftableInfo SmallTextBold",children:[(0,aU.jsx)("div",{className:"CraftableHeader",children:(0,aU.jsx)(SU.J,{text:ZU})}),CU[XU].requires.map((UU=>{let{items:pU,amt:AU}=UU;const XU=pU.filter((UU=>TU.getAmountOfItem(UU)>0));return 0===XU.length&&XU.push(pU[0]),(0,aU.jsx)("div",{className:"CraftingRecipeItemReq",style:{width:gU,height:gU},onPointerEnter:()=>{lU(XU)},onPointerLeave:()=>{lU(null),null===BU||void 0===BU||BU(!1)},children:(0,aU.jsx)(QU.e,{itemName:XU[wU%XU.length],amount:AU})},XU[wU%XU.length])})),(!fU||yU)&&(0,aU.jsxs)("div",{className:"CantCraftInfo",children:[!fU&&"Missing ingredients",(0,aU.jsx)("br",{}),yU&&"Inventory is full"]}),(0,aU.jsx)(eU.d,{className:"DoCraftButton",onPointerDown:UU=>{MU(UU),clearInterval(nU.current),nU.current=setTimeout((()=>{nU.current=setInterval((()=>{MU(UU)}),100)}),400)},onPointerUp:UU=>{clearInterval(nU.current)},onPointerLeave:UU=>{clearInterval(nU.current)},disabled:!fU||yU,children:(0,aU.jsx)("div",{className:"DoCraftItem",onPointerEnter:()=>{null===BU||void 0===BU||BU(!0,AU)},onPointerLeave:()=>{null===BU||void 0===BU||BU(!1)},children:(0,aU.jsx)(QU.e,{itemName:AU,amount:CU[XU].produces})})})]})}function KU(UU){let{show:pU,onCraft:AU,dispatchSelectedCraftable:XU,selectedCraftable:hU,craftingStation:uU,setHovered:BU}=UU;const vU=(0,kp.jA)(),{t:TU}=(0,lU.q)(),QU=vU.oB.Sv(vU.iA),yU=(0,kp.getBloxd)().craftingManager.getItemsHavingOneIngredientOf(vU.iA,QU,uU);let OU=hU;return yU.length>0&&null===hU&&(OU=yU[0]),(0,jp.Xp)((()=>{var UU;yU.some((UU=>UU.name===(null===hU||void 0===hU?void 0:hU.name)&&UU.JX===(null===hU||void 0===hU?void 0:hU.JX)))||XU(null!==(UU=yU[0])&&void 0!==UU?UU:null)})),(0,aU.jsxs)("div",{className:"Craftables",children:[(0,aU.jsx)("div",{className:"InvenLeftSideHeader SmallTextBold",children:uU||TU("classicGame:handCrafting")}),(0,aU.jsx)("div",{className:"CraftablesBody",children:yU.length>0&&(0,aU.jsxs)(aU.Fragment,{children:[(0,aU.jsx)("div",{className:"CraftablesLeftSide",children:(0,aU.jsx)(SU.C,{lazyLoadedClassName:"CraftableItems",observerUpdateDeps:[JSON.stringify(yU)],children:yU.map((UU=>{const{name:pU,JX:AU,haveIngredients:hU}=UU;return(0,aU.jsx)(RU,{itemName:pU,onClick:()=>{XU(UU)},isSelected:OU.name===pU&&OU.JX===AU,haveIngredients:hU,setHovered:BU},"".concat(pU,"_").concat(AU))}))})}),(0,aU.jsx)(oU,{show:pU,recipeItem:OU,onCraft:AU,setHovered:BU})]})})]})}var FU=AU(16649),ip=AU(388),NU=AU(1531);const LU=(0,jp.memo)((function(UU){let{creativeScrollDiv:pU,tj:AU,getSetHoveringForIdx:XU,getPointerDownForIdx:hU,getPointerUpForIdx:BU,creativeSearchVal:vU,setCreativeSearchVal:TU}=UU;const QU=(0,FU.f)(vU,(0,uU.sb)(kp.singletons.connectedLobbyName),(0,kp.jA)().hp),yU=(0,jp.useRef)(null),OU=(0,jp.useRef)(null),fU=(0,jp.useRef)(null),CU=(0,jp.useCallback)((function UU(){"up"===fU.current?pU.current.scrollTop-=10:"down"===fU.current&&(pU.current.scrollTop+=10),fU.current&&requestAnimationFrame(UU)}),[pU]),gU=(0,jp.useCallback)((function(UU){fU.current||(fU.current=UU,CU())}),[CU]);function MU(){fU.current=null}return(0,jp.Xp)((()=>{yU.current&&(yU.current.addEventListener("pointerdown",(()=>{gU("up")})),yU.current.addEventListener("pointerleave",MU),yU.current.addEventListener("pointerup",MU)),OU.current&&(OU.current.addEventListener("pointerdown",(()=>{gU("down")})),OU.current.addEventListener("pointerleave",MU),OU.current.addEventListener("pointerup",MU))}),[yU,OU,gU]),(0,aU.jsxs)("div",{className:"CreativeItemSlotsWrapper",children:[(0,aU.jsx)("div",{className:"CreativeItemSlotsSearchWrapper",children:(0,aU.jsx)(NU.e,{className:"CreativeItemSlotsSearch",placeholderText:"Search",defaultValue:vU,maxLength:1e4,onValueChange:(UU,pU)=>{TU(UU)},blurOnEnter:!0})}),(0,aU.jsxs)("div",{className:"CreateItemSlotsScrollable",children:[(0,ip.O)()&&(0,aU.jsxs)("div",{className:"CreativeScrollButtons",children:[(0,aU.jsx)("div",{ref:yU,className:"CreativeScrollButton Up",children:(0,aU.jsx)("i",{className:"fas fa-arrow-up"})}),(0,aU.jsx)("div",{ref:OU,className:"CreativeScrollButton Down",children:(0,aU.jsx)("i",{className:"fas fa-arrow-up"})})]}),(0,aU.jsx)("div",{className:"CreativeItemSlots",ref:pU,children:(0,aU.jsx)(SU.C,{lazyLoadedClassName:"CreativeItemSlotsInner",observerUpdateDeps:[vU],observerRoot:"CreativeItemSlots",children:QU.map((UU=>{const pU=AU.numSlots+UU;return(0,aU.jsx)(ZU.e,{idx:pU,draggedInfo:null,specialItemInfo:null,setHovered:XU(pU),pointerDown:hU(pU),pointerUp:BU(pU)},pU)}))})})]})]})}));var IU=AU(17015);const PU=["style"],xU=-2,qU={Helmet:"empty_armor_slot_helmet",Chestplate:"empty_armor_slot_chestplate",Gauntlets:"empty_armor_slot_gauntlets",Leggings:"empty_armor_slot_leggings",Boots:"empty_armor_slot_boots"};let WU=0;function YU(UU){return UU.hp.useInventory&&UU.hp.useFullInventory&&UU.oB.vv(UU.iA)}fU.h.subscribe("noaTick",(()=>{Date.now()-WU>9200&&((0,uU.nc)(OU.kf,(0,uU.z)(),!0),WU=Date.now())}));let VU=null;window.setShowInventoryAdsOverride=UU=>{VU=UU};const cU=24e4;const sU=(0,jp.memo)((function(UU){var pU;let{show:AU,onOpen:XU,onClose:QU,variation:eU}=UU;const DU=(0,kp.jA)(),{userContext:JU}=(0,SU.hb)(),{t:RU}=(0,lU.q)(),oU=DU.oB.Sv(DU.iA),FU=DU.oB.uv(DU.iA),ip=FU.bj,NU=(0,jp.useRef)(null),IU=(0,jp.useRef)(null),PU=function(){const[UU,pU]=(0,jp.Ap)(!0),AU=(0,jp.useRef)(null),XU=(0,jp.useRef)(null),hU=(0,SU.db)("_shield"),uU=(0,jp.useRef)(null),BU=(0,SU.db)("_health"),vU=(0,jp.useRef)(null);function TU(UU){const hU=Date.now()+UU;hU<XU.current||(pU(!1),clearTimeout(AU.current),XU.current=hU,AU.current=setTimeout((()=>{pU(!0)}),UU))}return(0,jp.Xp)((()=>{TU(cU);const UU=fU.h.subscribe("requestingPlayVideoAd",(()=>{TU(cU)}));return()=>{clearTimeout(AU.current),fU.h.unsubscribe(UU)}}),[]),(0,jp.Xp)((()=>{(uU.current>hU||vU.current>BU)&&TU(6e4),uU.current=hU,vU.current=BU}),[hU,BU]),UU}();(0,jp.Xp)((()=>{if(fU.h.Sp("inventoryComponentVisible",AU),!AU&&(rp(null)(!1),FU.bj)){(0,uU.nc)(OU.wf,null),FU.chestClosed();yU.b.play("chestClose",1).rate(.8+.4*Math.random())}}),[AU]);const WU=(0,jp.useCallback)((()=>{Lp.current&&(Ip.current=Lp.current.scrollTop),QU()}),[QU]);(0,fU.i)("chestToggleFromServer",(UU=>{if(UU?XU():AU&&WU(),UU){yU.b.play("chestOpen",1).rate(.8+.4*Math.random())}}));const[YU,sU]=(0,jp.Ap)(null),Ap=(0,jp.useCallback)(((UU,pU)=>{var AU;jA.current&&(jA.current.idx===UU?jA.current.idx=pU:jA.current.idx===pU&&(jA.current.idx=UU),jA.current.attributes=null===(AU=FU.getItemAtIdx(jA.current.idx))||void 0===AU?void 0:AU.attributes,YU===xU&&rp(xU)(!0))}),[FU,YU]);(0,fU.i)("updatedInventory",(UU=>{var pU;(null!==YU&&rp(YU)(!0),jA.current)&&(jA.current.attributes=null===(pU=UU[jA.current.idx])||void 0===pU?void 0:pU.attributes);vp()}));const Xp=(0,jp.useRef)(null),hp=(0,jp.useRef)(null),jA=(0,jp.useRef)(null),Sp=(0,jp.useRef)(null),[upU,Bp]=(0,jp.useReducer)((UU=>UU+1),0),vp=(0,jp.useCallback)((()=>{AU&&Bp()}),[AU,Bp]),Tp=(0,SU.db)("inventoryItemsMoveable"),Qp=(0,SU.db)("canCraft"),yp=(0,jp.useCallback)(((UU,pU)=>{const AU=FU.movePosWithAmtClient(hp.current.idx,UU,pU);return AU?(hp.current.amount-=pU,hp.current.amount<=0&&Zp()):console.error("movePosWithAmtClient failed"),AU}),[FU]),Op=(0,jp.useRef)(0),fp=(0,jp.useRef)(null),Cp=(0,jp.useRef)(null);(0,jp.Xp)((()=>{clearTimeout(fp.current)}),[AU]);const gp=(0,jp.useCallback)(((UU,pU)=>{const AU=(0,kp.jA)(),XU=FU.getItemAtIdx(pU),hU=EU(UU);if(-1===pU)if(hp.current){const UU=hU&&hp.current.amount||1;FU.removeItemClient(hp.current.idx,UU,!0)&&(hp.current.amount-=UU,hp.current.amount<=0&&Zp())}else hU&&WU();else if(pU===xU)if(zU(UU)&&jA.current)jA.current=null;else if(hp.current&&jA.current&&hp.current.name===jA.current.name&&hp.current.amount>0&&jA.current.amount>0&&jA.current.amount<TU.i.maxItemStackSize)if(hp.current.idx===jA.current.idx){if(hU){const UU=Math.min(hp.current.amount,TU.i.maxItemStackSize-jA.current.amount);jA.current.amount+=UU,hp.current.amount-=UU}else hp.current.amount--,jA.current.amount++;hp.current.amount<=0&&Zp()}else if(hU){const UU=Math.min(hp.current.amount,TU.i.maxItemStackSize-jA.current.amount);yp(jA.current.idx,UU)&&(jA.current.amount+=UU)}else{yp(jA.current.idx,1)&&jA.current.amount++}else if(!hp.current||jA.current||hU){const UU=hp.current;hp.current=jA.current,jA.current=UU}else hp.current.amount--,jA.current={idx:hp.current.idx,name:hp.current.name,attributes:hp.current.attributes,amount:1};else if(zU(UU)){var jp,SU;if(!XU)return;let UU=XU.amount;if(pU===(null===(jp=hp.current)||void 0===jp?void 0:jp.idx)&&(UU=hp.current.amount<=0?0:XU.amount-hp.current.amount),pU===(null===(SU=jA.current)||void 0===SU?void 0:SU.idx)&&(UU=jA.current.amount<=0?0:XU.amount-jA.current.amount),0===UU)return;if(!Qp||"Enchanting Table"!==eU&&"Salvaging Table"!==eU){const hU=(0,nU.ib)(XU.name),jp=hU?(0,nU.fb)(hU):null;!wU.d.includes(hU)||pU!==jp&&null!==FU.getItemAtIdx(jp)?ip?pU<oU.numSlots?FU.moveItemIntoIdxsClient(oU.numSlots,oU.numSlots+ip.numSlots,pU,UU):FU.moveItemIntoIdxsClient(0,oU.numSlots-wU.d.length,pU,UU):FU.inCreative?pU<10?FU.moveItemIntoIdxsClient(10,oU.numSlots-wU.d.length,pU,UU):pU<oU.numSlots?FU.moveItemIntoIdxsClient(0,10,pU,UU):FU.moveItemIntoIdxsClient(0,oU.numSlots-wU.d.length,pU,(0,kp.getBloxd)().getItemStat(AU.iA,XU.typeObj.name,"stackable")?TU.i.maxItemStackSize:null):pU<10?FU.moveItemIntoIdxsClient(10,oU.numSlots-wU.d.length,pU,UU):FU.moveItemIntoIdxsClient(0,10,pU,UU):pU<oU.numSlots-wU.d.length||pU>=oU.numSlots?(FU.swapPosClient(jp,pU),Ap(jp,pU)):(FU.moveItemIntoIdxsClient(0,oU.numSlots-wU.d.length,jp,UU),yU.b.play("equip_leather1",1).rate(.9+.3*Math.random()))}else jA.current={idx:pU,name:XU.typeObj.name,attributes:XU.attributes,amount:XU.typeObj.stackable?UU:0}}else if(hp.current){const UU=hp.current.idx;if(XU&&hp.current.name===XU.name&&hp.current.amount>0&&(0,BU.j)(XU)>0&&(XU.amount<TU.i.maxItemStackSize||pU===UU))hU?XU.amount+hp.current.amount<=TU.i.maxItemStackSize||pU===UU?yp(pU,hp.current.amount):yp(pU,TU.i.maxItemStackSize-XU.amount):yp(pU,1);else if(hp.current.amount>0&&!XU)yp(pU,hU?hp.current.amount:1);else if(hU||XU||0===hp.current.amount)if(FU.inCreative&&!FU.bj&&pU>=oU.numSlots){const UU=0===hp.current.amount?1:hp.current.amount;FU.removeItemClient(hp.current.idx,UU,!1)&&Zp()}else{if(FU.swapPosClient(pU,hp.current.idx)){var uU;const AU=FU.getItemAtIdx(UU),XU=!FU.bj&&FU.inCreative&&hp.current.idx>=FU.playerInventory.numSlots,hU=(null===(uU=jA.current)||void 0===uU?void 0:uU.idx)===pU;if(AU&&hp.current.idx!==pU&&!XU){let UU=(0,BU.j)(AU);hU&&(UU-=jA.current.amount),hp.current=hU&&0===UU?null:{idx:hp.current.idx,name:AU.typeObj.name,attributes:AU.attributes,amount:UU}}else Zp();Ap(UU,pU)}}else yp(pU,1)}else{var vU;if(!XU)return;let UU=(0,BU.j)(XU);const AU=(null===(vU=jA.current)||void 0===vU?void 0:vU.idx)===pU;AU&&(UU-=jA.current.amount),hU||(UU=Math.ceil(UU/2)),hp.current=AU&&0===UU?null:{idx:pU,name:XU.typeObj.name,attributes:XU.attributes,amount:UU}}vp()}),[Qp,Ap,FU,WU,yp,ip,oU,eU,vp]),Mp=()=>{Xp.current.style.transform="translate(0.5rem, 0.5rem)"},np=(0,jp.useCallback)(((UU,pU)=>{const AU=dp.current;if(AU.x=UU,AU.y=pU,Xp.current)!Hp.current.isTouch||Hp.current.itemBeingDragged&&!Cp.current?(Xp.current.style.transform="translate(".concat(AU.x,"px, ").concat(AU.y,"px)"),Ep(Hp.current.isTouch&&!Cp.current)):(Mp(),Ep(!0));else if(Sp.current){const AU=Sp.current;let XU=UU+10,hU=pU+10;const jp=AU.offsetWidth,SU=AU.offsetHeight;XU+jp>window.innerWidth&&(XU=UU-jp-10),hU+SU>window.innerHeight&&(hU=pU-SU-10),XU<0&&(XU=0),hU<0&&(hU=0),Sp.current.style.transform="translate(".concat(XU,"px, ").concat(hU,"px)")}}),[]),wp=(0,jp.useCallback)((UU=>{const pU=(0,kp.jA)();return AU=>{const XU=rU(AU);if(XU||np(AU.pageX,AU.pageY),Tp){if(lp(AU),Op.current=Date.now(),XU&&(Hp.current.itemBeingDragged=!0,FU.getItemAtIdx(UU)&&FU.getItemAtIdx(UU).amount&&FU.getItemAtIdx(UU).amount>0)){const XU=AU.pageX,hU=AU.pageY,jp=dp.current.x,SU=dp.current.y;clearTimeout(fp.current),fp.current=setTimeout((()=>{if(hp.current&&hp.current.idx===UU&&(Math.abs(XU-dp.current.x)<20&&Math.abs(hU-dp.current.y)<20||jp===dp.current.x&&SU===dp.current.y)&&Hp.current.itemBeingDragged){const UU=FU.inCreative&&!FU.bj&&hp.current.idx>=TU.i.numInvenSlots&&(0,kp.getBloxd)().getItemStat(pU.iA,hp.current.name,"stackable")?TU.i.maxItemStackSize:hp.current.amount;Cp.current={initTouchX:AU.pageX,initTouchY:AU.pageY,maxAmount:UU},hp.current.amount=Math.ceil(hp.current.amount/2),Mp(),Ep(!0),vp()}}),500)}gp(AU,UU)}else-1===UU&&EU(AU)&&WU()}}),[np,gp,FU,Tp,WU,vp]),kA=(0,jp.useCallback)((UU=>UU=>{const pU=rU(UU);if(lp(UU),Hp.current.itemBeingDragged=!1,clearTimeout(fp.current),Cp.current)return Cp.current=null,void vp();if(pU&&hp.current&&Date.now()-Op.current>150){const pU=document.elementFromPoint(UU.clientX,UU.clientY),AU=pU.getAttribute("data-inven-idx");null!==AU?gp(UU,parseInt(AU)):pU.classList.contains("InventoryBackgroundScreen")&&gp(UU,-1)}np(UU.pageX,UU.pageY)}),[np,gp,vp]),dp=(0,jp.useRef)({x:0,y:0}),Hp=(0,jp.useRef)({isTouch:!1,itemBeingDragged:!1}),lp=UU=>{Hp.current.isTouch=rU(UU)};(0,jp.Xp)((()=>{let UU;if(AU){if(!Hp.current.isTouch){const UU=dp.current;np(UU.x,UU.y)}UU=UU=>{UU.preventDefault(),lp(UU),np(UU.pageX,UU.pageY),Cp.current&&ep(UU)},document.addEventListener("pointermove",UU)}return()=>{document.removeEventListener("pointermove",UU)}}));const ep=UU=>{const{initTouchX:pU,maxAmount:AU}=Cp.current,XU=(UU.pageX-pU)*Cp.current.maxAmount/160,hU=Math.ceil(AU/2)+Math.ceil(XU);hp.current.amount=Math.min(AU,Math.max(1,hU)),vp()},Zp=()=>{hp.current=null,Cp.current=null,vp()};(0,jp.Xp)((()=>(vU.e.setInventoryOpen(AU),()=>{vU.e.setInventoryOpen(!1)})),[AU]);const[ap,Gp]=(0,jp.Ap)(null),[mA,Ep]=(0,jp.Ap)(!1),zp=(0,jp.useCallback)((UU=>{var pU,AU,XU,hU,jp,SU,uU,BU,vU,TU;const QU=(0,kp.jA)(),yU=UU.attributes,OU=(0,kp.getBloxd)().getMetaInfo(UU.name).rootName,fU=null!==(pU=null!==(AU=yU.customDisplayName)&&void 0!==AU?AU:(0,kp.getBloxd)().getItemStat(QU.iA,UU.name,"displayName"))&&void 0!==pU?pU:(0,kp.getBloxd)().getItemStat(QU.iA,OU,"displayName");let CU=fU;const gU=null===(XU=yU.customAttributes)||void 0===XU?void 0:XU.enchantmentTier;gU&&(CU=[{str:fU,style:{colour:nU.W[gU]}}]);const MU=null!==(hU=null!==(jp=null!==(SU=yU.customDescription)&&void 0!==SU?SU:(0,kp.getBloxd)().getItemStat(QU.iA,UU.name,"description"))&&void 0!==jp?jp:(0,kp.getBloxd)().getItemStat(QU.iA,OU,"description"))&&void 0!==hU?hU:"";let wU=MU;if(null!==(uU=yU.customAttributes)&&void 0!==uU&&uU.enchantments){const UU=Object.entries(yU.customAttributes.enchantments).sort(((UU,pU)=>pU[1]-UU[1]));wU=[{str:MU},{str:MU?"\n\n":"\n"}];for(const[pU,AU]of UU){var dU;wU.push({icon:"".concat(pU," Enchantment"),style:{fontSize:"1.5rem"}}),wU.push({str:"".concat(pU," ").concat(null!==(dU=(0,nU.K)(AU))&&void 0!==dU?dU:AU,"\n")})}wU.push({str:"\n"});for(const[pU,AU]of UU)wU.push({icon:"".concat(pU," Enchantment"),style:{fontSize:"1.25rem",opacity:.75}}),wU.push({str:(0,kp.getBloxd)().enchantingManager.getDescription(pU),style:{fontSize:"0.8em",fontWeight:"normal",opacity:.75}}),wU.push({str:"\n"})}else if((0,kp.getBloxd)().enchantingManager.getPossibleEnchantments((0,kp.jA)().iA,OU).length>0)wU=[{str:MU},{str:"\n"}],wU.push({str:"Enchantable",style:{fontSize:"0.8em",fontWeight:"normal",opacity:.4}});else if(null!==(BU=yU.customAttributes)&&void 0!==BU&&BU.fullMobSettings||null!==(vU=yU.customAttributes)&&void 0!==vU&&vU.mobSettings){var lU,eU;const UU=yU.customAttributes.fullMobSettings||yU.customAttributes.mobSettings;var ZU,aU;if(wU=[],(0,HU.r)(yU.customAttributes.health)||(wU.push({str:"\n"}),wU.push({icon:"Health",style:{fontSize:"1.5em"}}),wU.push({str:" "}),wU.push({str:yU.customAttributes.health.toString()}),(0,HU.r)(UU.maxHealth)||(wU.push({str:"/"}),wU.push({str:UU.maxHealth.toString()}))),!(0,HU.r)(UU.attackDamage)&&UU.attackDamage>0&&(wU.push({str:"\n"}),wU.push({icon:"Iron Sword",style:{fontSize:"1.5em"}}),wU.push({str:" "}),wU.push({str:UU.attackDamage.toString()})),!(0,HU.r)(UU.secondaryAttackDamage)&&UU.secondaryAttackDamage>0&&(wU.push({str:"\n"}),wU.push({icon:"Stone Crossbow",style:{fontSize:"1.5em"}}),wU.push({str:" "}),wU.push({str:UU.secondaryAttackDamage.toString()})),(0,HU.r)(UU.baseRunningSpeed)||(wU.push({str:"\n"}),wU.push({icon:"Speed",style:{fontSize:"1.5em"}}),wU.push({str:" "}),wU.push({str:UU.baseRunningSpeed.toFixed(2)})),"Saddled"===UU.metaInfo)wU.push({str:"\n"}),wU.push({str:{translationKey:"general:has"}}),wU.push({str:" "}),wU.push({icon:null!==(ZU=null===(aU=UU.tameInfo)||void 0===aU?void 0:aU.saddleItemName)&&void 0!==ZU?ZU:"Saddle",style:{fontSize:"1.5em"}});if(wU.push({str:"\n"}),wU.push({str:"\n"}),UU.petInfo&&null!==(lU=UU.tameInfo)&&void 0!==lU&&lU.supportsFriendship){const pU=nU.k.getIconsFromFriendshipPoints(UU.petInfo.friendshipPoints);for(const UU of pU)wU.push({icon:UU,style:{fontSize:"1.5em"}});wU.push({str:"\n"});const AU=nU.k.getMobHungerLevel(UU.petInfo.lastFedAt);for(const UU of nU.k.hungerLevelIcons[AU])wU.push({icon:UU,style:{fontSize:"1.5em"}});wU.push({str:" "}),wU.push({str:nU.k.hungerLevelTranslations[AU],style:{fontWeight:"bolder"}})}if(UU.tameInfo&&null!==(eU=UU.tameInfo)&&void 0!==eU&&eU.supportsFriendship){var GU,mp;let pU=null!==(GU=UU.tameInfo.likedFoods)&&void 0!==GU?GU:[];wU.push({str:"\n"}),wU.push({icon:"Pixelated Heart",style:{fontSize:"1.5em",color:nU.k.feedColourInfo[nU.k.MobFoodType.Superliked].textColour}}),wU.push({str:" "}),null!==(mp=UU.petInfo)&&void 0!==mp&&mp.superlikedFoodKnown?(wU.push({icon:UU.petInfo.superlikedFood,style:{fontSize:"1.5em"}}),pU=pU.filter((pU=>pU!==UU.petInfo.superlikedFood))):wU.push({icon:"Question Mark",style:{fontSize:"1.5em"}}),wU.push({str:"\n"}),wU.push({icon:"Pixelated Heart",style:{fontSize:"1.5em",color:nU.k.feedColourInfo[nU.k.MobFoodType.Liked].textColour}}),wU.push({str:" "});for(const UU of pU)wU.push({icon:UU,style:{fontSize:"1.5em"}});wU.push({str:"\n"}),wU.push({icon:"Pixelated Heart",style:{fontSize:"1.5em",color:nU.k.feedColourInfo[nU.k.MobFoodType.Neutral].textColour}}),wU.push({str:" "});for(const AU of null!==(EU=UU.tameInfo.neutralFoods)&&void 0!==EU?EU:[]){var EU;wU.push({icon:AU,style:{fontSize:"1.5em"}})}wU.push({str:"\n"}),wU.push({icon:"Pixelated Heart",style:{fontSize:"1.5em",color:nU.k.feedColourInfo[nU.k.MobFoodType.Disliked].textColour}}),wU.push({str:" "});for(const AU of null!==(zU=UU.tameInfo.dislikedFoods)&&void 0!==zU?zU:[]){var zU;wU.push({icon:AU,style:{fontSize:"1.5em"}})}}wU.length>0?wU[0]={str:MU}:wU=[{str:MU}]}return{name:CU,desc:wU,fontStyle:null!==(TU=yU.customAttributes)&&void 0!==TU&&TU.author?"italic":"normal"}}),[]),rp=(0,jp.useCallback)((UU=>{const pU=(0,kp.jA)();return(AU,XU,hU)=>{if(sU(AU&&void 0!==UU?UU:null),AU){if(void 0===UU&&!XU)return void pU.Tv("Error in invenComp",new Error("isHovering true but no idx or itemName").stack);if(void 0!==UU){var jp;let pU;if(pU=UU===xU?jA.current?FU.getItemAtIdx(jA.current.idx):null:FU.getItemAtIdx(UU),!pU)return void Gp(null);if((null===(jp=jA.current)||void 0===jp?void 0:jp.idx)===UU){if(0===(0,BU.j)(pU)-jA.current.amount)return void Gp(null)}Gp(zp(pU))}else if("object"===typeof XU)Gp({name:XU.name,desc:XU.desc,fontStyle:"normal"});else{const UU=(0,kp.getBloxd)().getItemStat(pU.iA,XU,"displayName");Gp({name:UU,desc:(0,kp.getBloxd)().getItemStat(pU.iA,XU,"description"),fontStyle:"normal"})}}else Gp(null);hU&&setTimeout((()=>{np(hU.pageX,hU.pageY)}),0)}}),[zp,FU,np]);(0,fU.i)("DropInvenItem",(UU=>{if(null!==YU&&null!==FU.getItemAtIdx(YU)){var pU,AU,XU;const hU=FU.getItemAtIdx(YU),jp=UU&&null!==(pU=hU.amount)&&void 0!==pU?pU:1;FU.removeItemClient(YU,jp,!0),YU===(null===(AU=hp.current)||void 0===AU?void 0:AU.idx)&&(hp.current.amount-=jp,hp.current.amount<=0&&Zp(),vp()),YU===(null===(XU=jA.current)||void 0===XU?void 0:XU.idx)&&(jA.current=null,vp())}})),(0,fU.i)("numkeyPressed",(UU=>{const pU=UU-1;if(null!==YU&&AU){let UU=YU;if(YU===xU){if(!jA.current)return;UU=jA.current.idx}const AU=FU.swapPosClient(pU,UU);if(AU&&hp.current&&(hp.current.idx===UU?hp.current.idx=pU:hp.current.idx===pU&&(hp.current.idx=UU)),AU&&YU===xU){const pU=FU.getItemAtIdx(UU);jA.current=pU?{idx:UU,name:pU.typeObj.name,attributes:pU.attributes,amount:pU.amount}:null}vp()}})),(0,jp.Xp)((()=>{AU||(jA.current=null,Zp(),Gp(null))}),[AU]),(0,jp.Xp)((()=>{YU===xU&&rp(xU)(!0)}),[jA.current,YU]),(0,fU.i)("syncedInvenFromServer",(()=>{jA.current=null,Zp(),vp()})),(0,fU.i)("craftingRecipesEdited",(UU=>{let{itemName:pU,recipesForItem:AU}=UU;((0,HU.r)(pU)||(null===Kp||void 0===Kp?void 0:Kp.name)===pU&&(null===Kp||void 0===Kp?void 0:Kp.JX)>=AU.length)&&Fp(null),vp()}));const[Dp,Jp]=(0,jp.Ap)(null),[Rp,op]=(0,jp.Ap)(null);(0,fU.i)("enchantingTable",(UU=>{let{position:pU,NX:AU}=UU;Jp([...pU]),op((0,kp.getBloxd)().getMetaInfo(AU).rootName)}));const[Kp,Fp]=(0,jp.useReducer)(((UU,pU)=>(null===UU||void 0===UU?void 0:UU.name)!==(null===pU||void 0===pU?void 0:pU.name)||(null===UU||void 0===UU?void 0:UU.JX)!==(null===pU||void 0===pU?void 0:pU.JX)?pU:UU),null),[iA,Np]=(0,jp.Ap)(""),Lp=(0,jp.useRef)(null),Ip=(0,jp.useRef)(0);let Pp,xp;if((0,jp.Xp)((()=>{AU&&Lp.current&&(Lp.current.scrollTop=Ip.current)}),[AU]),ip){const UU=FU.pS,pU=FU.US;let AU=!1,XU=null;if("Iron"===pU){var qp,Wp,Yp;const pU=(0,kp.getBloxd)().blockDataOwner.getBlockData(UU[0],UU[1],UU[2]);AU=(null===pU||void 0===pU||null===(qp=pU.persisted)||void 0===qp||null===(Wp=qp.shared)||void 0===Wp?void 0:Wp.ownerDbId)===JU.whamm,XU=null!==(Yp=(0,kp.getBloxd)().client.ironChestPasskeyCache.getCachedPasskeyForChest(UU))&&void 0!==Yp?Yp:[0,0,0,0]}Pp="InvenLeftSideChest".concat(pU),xp=(0,aU.jsxs)("div",{className:"ChestItemSlotsWrapper",children:[AU&&(0,aU.jsx)(pp,{GA:UU,initialPasskey:XU}),(0,aU.jsxs)("div",{className:"ChestItemSlots",children:[(0,aU.jsx)("div",{className:"InvenLeftSideHeader SmallTextBold",children:RU("Moonstone"===pU?"item:moonstoneChest":"Iron"===pU?"item:ironChest":"item:chest")}),(0,aU.jsx)("div",{className:"GridItemSlots",children:new Array(FU.bj.numSlots).fill(0).map(((UU,pU)=>{const AU=oU.numSlots+pU;return(0,aU.jsx)(ZU.e,{idx:AU,draggedInfo:hp.current,specialItemInfo:jA.current,setHovered:rp(AU),pointerDown:wp(AU),pointerUp:kA(AU)},AU)}))})]})]})}else!FU.inCreative||eU&&Qp?Qp&&"Enchanting Table"===eU?(Pp="InvenLeftSide".concat((null!==Rp&&void 0!==Rp?Rp:"").replace(/ /gi,"")),xp=(0,aU.jsx)(GU,{specialItemInfo:jA.current,setHovered:rp,pointerDown:wp(xU),pointerUp:kA(xU),enchantingTablePosition:Dp,enchantingTableBlockName:Rp})):Qp&&"Salvaging Table"===eU?(Pp="InvenLeftSideSalvagingTable",xp=(0,aU.jsx)(mp,{specialItemInfo:jA.current,setSpecialItemInfo:UU=>{jA.current=UU},setHovered:rp,pointerDown:wp(xU),pointerUp:kA(xU)})):Qp&&(Pp="InvenLeftSide".concat((null!==eU&&void 0!==eU?eU:"HandCrafting").replace(/ /gi,"")),xp=(0,aU.jsx)(KU,{show:AU,onCraft:()=>{(()=>{if(hp.current){const{idx:UU,name:pU,amount:AU}=hp.current;(null===FU.getItemAtIdx(UU)||FU.getItemAtIdx(UU).name!==pU||FU.getItemAtIdx(UU).amount<AU)&&Zp()}})()},craftingStation:eU,selectedCraftable:Kp,dispatchSelectedCraftable:Fp,setHovered:rp()})):(Pp="InvenLeftSideCreative",xp=(0,aU.jsx)(LU,{creativeScrollDiv:Lp,tj:oU,getSetHoveringForIdx:rp,getPointerDownForIdx:wp,getPointerUpForIdx:kA,creativeSearchVal:iA,setCreativeSearchVal:Np}));return(0,jp.Xp)((()=>{fU.h.Sp("inventoryDraggedItemUpdated",{draggedInfo:hp.current,specialItemInfo:jA.current,setHovered:rp,pointerDown:wp,pointerUp:kA,variation:Qp?eU:void 0})})),(0,aU.jsxs)("div",{style:(0,hU.d)((0,hU.d)({touchAction:AU?"none":null},(0,dU.A)(AU)),{},{pointerEvents:AU?void 0:"none"}),children:[hp.current&&(0,aU.jsx)(tU,{draggedInfo:hp.current,toAddRef:Xp}),hp.current&&mA&&(0,aU.jsx)(bU,{className:"DraggedInvenItemName",displayInfo:zp(hp.current),domRef:null}),!hp.current&&ap&&(0,aU.jsx)(bU,{displayInfo:ap,domRef:Sp}),Cp.current&&(0,aU.jsx)(Up,{info:Cp.current,draggedInfo:hp.current,forceRerender:Bp}),(0,aU.jsx)(SU.p,{show:AU,className:"InventoryBackgroundScreen",globallyUniqueKey:"Inventory",close:WU,togglePointerLock:!1,closeOnPressBackground:!1,preventContextMenu:!0,pointerDown:wp(-1),pointerUp:kA(-1),doGameplayStartStopOnShow:!0}),(0,aU.jsx)("div",{className:"EntireInventoryWrapper",children:(0,aU.jsxs)("div",{className:"InventoryWrapper",children:[(0,aU.jsx)("div",{className:"InventoryAdOuter",children:(0,aU.jsx)("div",{ref:NU,className:"InventoryAd",children:(0,aU.jsx)("div",{className:"InventoryAdInner",children:(0,aU.jsx)(CU.c,{info:{adType:"skyscraper",adId:1},sizeInfo:{parentRef:NU},showing:null!==(pU=VU)&&void 0!==pU?pU:AU&&PU,noFillShowSuperRankAdProbability:0})})})}),(0,aU.jsxs)("div",{className:"Inventory",children:[(0,aU.jsx)("div",{className:"InventoryFiller"}),(0,aU.jsxs)("div",{className:"InvenBody",children:[!(0,HU.r)(xp)&&(0,aU.jsx)("div",{className:"InvenLeftSide ".concat(Pp),children:xp}),(0,aU.jsxs)("div",{className:"InvenBodyRight",children:[(0,aU.jsx)("div",{className:"ArmourItemSlots",children:new Array(wU.d.length).fill(0).map(((UU,pU)=>{var AU;const XU=oU.numSlots-wU.d.length+pU,hU=null===(AU=hp.current)||void 0===AU?void 0:AU.name,jp=wU.d[pU],SU=wp(XU),uU=kA(XU);return(0,aU.jsx)(ZU.e,{idx:XU,draggedInfo:hp.current,specialItemInfo:jA.current,setHovered:rp(XU),pointerDown:UU=>{hU&&(0,nU.ib)(hU)!==jp||SU(UU)},pointerUp:UU=>{hU&&hU.split(" ")[1]!==jp||uU(UU)},defaultIconB64:gU.e.getTexture(qU[jp],MU.k.ITEM).url,variation:Qp?eU:void 0},XU)}))}),(0,aU.jsx)("div",{className:"GridItemSlots",children:new Array(oU.numSlots-10-wU.d.length).fill(0).map(((UU,pU)=>{const AU=oU.numSlots-wU.d.length-pU-1;return(0,aU.jsx)(ZU.e,{idx:AU,draggedInfo:hp.current,specialItemInfo:jA.current,setHovered:rp(AU),pointerDown:wp(AU),pointerUp:kA(AU),variation:Qp?eU:void 0},AU)}))})]})]})]}),(0,aU.jsx)("div",{className:"InventoryAdOuter",children:(0,aU.jsx)("div",{ref:IU,className:"InventoryAd",children:(0,aU.jsx)("div",{className:"InventoryAdInner"})})})]})})]})}));function tU(UU){var pU;let{draggedInfo:{name:AU,attributes:XU,amount:hU},toAddRef:jp}=UU;return(0,aU.jsx)("div",{className:"DraggedInvenItem",ref:jp,children:(0,aU.jsx)(QU.e,{itemName:AU,amount:hU,enchantmentTier:null===XU||void 0===XU||null===(pU=XU.customAttributes)||void 0===pU?void 0:pU.enchantmentTier})})}function bU(UU){let{className:pU="",displayInfo:AU,domRef:jp}=UU;return(0,aU.jsxs)("div",{className:"InvenHoveredItemInfo SmallTextBold ".concat(pU),ref:jp,children:[(0,aU.jsx)(SU.J,{text:(0,nU.Xb)(AU.name)?AU.name.map((UU=>{let{style:pU}=UU,jp=(0,XU.b)(UU,PU);return(0,hU.d)((0,hU.d)({},jp),{},{style:(0,hU.d)({fontStyle:AU.fontStyle},pU)})})):[{str:AU.name,style:{fontStyle:AU.fontStyle}}]}),(0,aU.jsx)("div",{className:"InvenHoveredItemInfoDescription",children:(0,aU.jsx)(SU.J,{text:AU.desc})})]})}function Up(UU){let{info:pU,draggedInfo:AU}=UU;return(0,aU.jsxs)("div",{className:"LongHoldSplitInfoUI SmallTextBold",style:{left:pU.initTouchX,top:pU.initTouchY},children:[(0,aU.jsx)("div",{className:"LongHoldSplitInfoUIInner",style:{width:"".concat(AU.amount/pU.maxAmount*100,"%")}}),(0,aU.jsxs)("div",{className:"LongHoldSplitInfoUIText",children:[AU.amount,"/",pU.maxAmount]})]})}function pp(UU){let{GA:pU,initialPasskey:AU}=UU;const{t:XU}=(0,lU.q)(),[hU,SU]=(0,jp.Ap)(AU),[BU,vU]=(0,jp.Ap)(AU);(0,jp.Xp)((()=>{SU(AU),vU(AU)}),[...pU]);return(0,aU.jsxs)("div",{className:"IronChestPasskeyEditorWrapper",children:[(0,aU.jsx)("div",{className:"SmallTextBold",children:XU("ironChest:currentPasskey",{currentPasskey:hU.join("")})}),(0,aU.jsx)(IU.d,{className:"IronChestPasskeyEditor",mX:BU,onPasskeyUpdated:vU,confirmText:"ironChest:changePasskey",onConfirm:()=>{(0,uU.nc)(OU.ff,{GA:pU,mX:BU}),SU([...BU])}})]})}},15863:(UU,pU,AU)=>{"use strict";AU.d(pU,{e:()=>yU});var XU=AU(47),hU=AU(531),jp=AU.n(hU),SU=AU(1140),uU=AU(540),BU=AU(15854),vU=AU(64),TU=AU(15872),QU=AU(505);const yU=(0,XU.memo)((function(UU){let{idx:pU,setHovered:AU,pointerDown:XU,pointerUp:hU,draggedInfo:yU,specialItemInfo:OU,defaultIconB64:fU=null,variation:CU,isSelected:gU=!1,showNumber:MU=!1}=UU;const nU=(0,SU.jA)(),wU=nU.oB.uv(nU.iA);let kp,dU,HU;if(pU===TU.f){var lU,eU;if(OU)kp=OU.name,dU=OU.amount,HU=null===(lU=OU.attributes)||void 0===lU||null===(eU=lU.customAttributes)||void 0===eU?void 0:eU.enchantmentTier}else{const UU=wU.getItemAtIdx(pU);var ZU,aU;if(UU)kp=UU.typeObj.name,dU=(0,BU.j)(UU),HU=null===(ZU=UU.attributes)||void 0===ZU||null===(aU=ZU.customAttributes)||void 0===aU?void 0:aU.enchantmentTier}let GU=dU;(null===yU||void 0===yU?void 0:yU.idx)===pU&&GU>0&&(GU-=yU.amount),(null===OU||void 0===OU?void 0:OU.idx)===pU&&GU>0&&(GU-=OU.amount);const mp=kp&&((null===yU||void 0===yU?void 0:yU.idx)!==pU&&(null===OU||void 0===OU?void 0:OU.idx)!==pU||GU>0),EU="Enchanting Table"===CU?function(UU){return(0,SU.getBloxd)().enchantingManager.getPossibleEnchantments((0,SU.jA)().iA,UU).length>0}(kp):"Salvaging Table"===CU&&function(UU){const pU=(0,SU.getBloxd)().craftingManager.getSalvageableItem(UU,1);return!(0,vU.r)(pU)}(kp);return(0,QU.jsxs)("div",{className:jp()("InvenItem",{Highlighted:mp&&EU,Selected:gU}),onPointerEnter:()=>{null===AU||void 0===AU||AU(!0)},onPointerLeave:()=>{null===AU||void 0===AU||AU(!1)},onPointerDown:XU,onPointerUp:hU,"data-inven-idx":pU,children:[mp&&(0,QU.jsx)(uU.e,{itemName:kp,amount:GU,enchantmentTier:HU}),MU&&(0,QU.jsx)("div",{className:"HotbarItemNumber SmallTextBold",children:pU<9?pU+1:0}),fU&&!mp&&(0,QU.jsx)("div",{className:"InvenItemUnfilled",style:{backgroundImage:"url(".concat(fU,")")}})]})}))},17015:(UU,pU,AU)=>{"use strict";AU.d(pU,{d:()=>CU,b:()=>fU});var XU=AU(47),hU=AU(37),jp=AU(517),SU=AU(597),uU=AU(647),BU=AU(1140),vU=AU(1335),TU=AU(1441),QU=AU(98),yU=AU(399),OU=AU(505);const fU=(0,XU.memo)((function(UU){let{show:pU,onOpen:AU,onClose:vU}=UU;const TU=(0,XU.useRef)({pos:null}),[QU,yU]=(0,XU.Ap)([0,0,0,0]),{userContext:fU}=(0,jp.hb)();(0,hU.i)("OpenIronChest",(UU=>{var pU,XU;let{pos:hU}=UU;TU.current.pos=hU;const jp=(0,BU.getBloxd)().blockDataOwner.getBlockData(hU[0],hU[1],hU[2]);if((null===jp||void 0===jp||null===(pU=jp.persisted)||void 0===pU||null===(XU=pU.shared)||void 0===XU?void 0:XU.ownerDbId)===fU.whamm)return void gU(QU);const SU=(0,BU.getBloxd)().client.ironChestPasskeyCache.getCachedPasskeyForChest(hU);if(null!==SU)return yU(SU),void gU(SU);AU()})),(0,hU.i)("EffectUpdate",(UU=>{let{RA:pU,name:AU}=UU;(0,SU.p)(pU)===(0,BU.jA)().iA&&"Thief"===AU&&vU()}));const gU=UU=>{const{pos:pU}=TU.current;(0,SU.nc)(uU.Mg,{GA:pU,mX:UU})};return(0,OU.jsx)(jp.p,{className:"IronChestPasskeyInputScreenOuter",close:vU,escDoesExit:!0,show:pU,togglePointerLock:!1,globallyUniqueKey:"IronChestPasskeyInputScreen",children:(0,OU.jsx)("div",{className:"IronChestPasskeyInputScreen",children:(0,OU.jsx)(CU,{mX:QU,onPasskeyUpdated:yU,confirmText:"ironChest:tryUnlock",onConfirm:()=>{gU(QU)}})})})}));function CU(UU){let{className:pU="",mX:AU,onPasskeyUpdated:XU,confirmText:hU,onConfirm:jp}=UU;const{t:SU}=(0,vU.q)();return(0,OU.jsxs)("div",{className:"".concat(pU," IronChestPasskeyInput"),children:[(0,OU.jsx)("div",{className:"SmallTextBold IronChestPasskeyInputTitle",children:SU("ironChest:passkeyInputTitle")}),(0,OU.jsx)("div",{className:"IronChestPasskeyInputRow",children:new Array(yU.i.ironChestPasskeyLength).fill(0).map(((UU,pU)=>(0,OU.jsx)(gU,{digit:AU[pU],onPasskeyDigitUpdated:UU=>{const hU=[...AU];hU[pU]=UU,XU(hU)}},pU)))}),(0,OU.jsx)(TU.j,{className:"IronChestPasskeyInputConfirmButton",onClick:jp,children:SU(hU)})]})}function gU(UU){let{digit:pU,onPasskeyDigitUpdated:AU}=UU;return(0,OU.jsx)("div",{className:"IronChestPasskeyDigitInputWrapper",children:(0,OU.jsxs)("div",{className:"IronChestPasskeyDigitInput",children:[(0,OU.jsx)(TU.j,{className:"IronChestPasskeyChangeDigitButton",onClick:()=>{AU(QU.e.mod(pU+1,10))},children:(0,OU.jsx)("i",{className:"fas fa-angle-up"})}),(0,OU.jsx)("div",{className:"SmallTextBold IronChestPasskeyDigit",children:pU}),(0,OU.jsx)(TU.j,{className:"IronChestPasskeyChangeDigitButton",onClick:()=>{AU(QU.e.mod(pU-1,10))},children:(0,OU.jsx)("i",{className:"fas fa-angle-down"})})]})})}},16867:(UU,pU,AU)=>{"use strict";AU.d(pU,{b:()=>eU,e:()=>RU});var XU=AU(47),hU=AU(1732),jp=AU(597),SU=AU(16874),uU=AU.n(SU),BU=AU(149),vU=AU.n(BU),TU=AU(399),QU=AU(517),yU=AU(531),OU=AU.n(yU),fU=AU(523),CU=AU(647),gU=AU(604),MU=AU(37),nU=AU(16296),wU=AU(13),kp=AU(1140),dU=AU(16527),HU=AU(15876),lU=AU(505);const eU=(0,XU.memo)((function(){const{clientEscMenuOptions:UU}=(0,wU.g)(["clientEscMenuOptions"]);return(0,XU.Xp)((()=>{hU.b.setMultiplierType("baseSensitivity",UU.touchscreenSensitivity);const pU=(0,kp.jA)().oB;return pU.getState((0,kp.jA)().iA,pU.names.receivesInputs).isTouchscreen=!0,()=>{hU.b.setMultiplierType("baseSensitivity",UU.touchscreenSensitivity),pU.getState((0,kp.jA)().iA,pU.names.receivesInputs).isTouchscreen=!1}}),[UU.mouseSensitivity,UU.touchscreenSensitivity]),(0,lU.jsxs)("div",{className:"TouchComponentsWrapper",children:[(0,lU.jsx)(EU,{}),(0,lU.jsx)(mp,{}),(0,lU.jsx)(oU,{}),(0,lU.jsx)(aU,{}),(0,lU.jsx)(GU,{}),(0,lU.jsx)(ZU,{})]})}));function ZU(){const UU=(0,kp.jA)();return(0,XU.Xp)((()=>{const pU=(pU,AU)=>{const{Cp:XU,Tp:hU}=UU.Qp,jp=hU.getRenderWidth(),SU=hU.getRenderHeight(),{canvas:uU}=UU.container;pU*=jp/uU.clientWidth,AU*=SU/uU.clientHeight;const BU=XU.createPickingRay(pU,AU,null,null),{origin:QU,direction:yU}=BU;UU.Qv=[QU.x,QU.y,QU.z],UU.yv=[isNaN(yU.x)?1:yU.x,isNaN(yU.y)?0:yU.y,isNaN(yU.z)?0:yU.z];const OU=[QU.x,QU.y,QU.z],fU=[yU.x,yU.y,yU.z];(0,kp.getBloxd)().Ov(OU,OU);const CU=UU.fv(OU,fU,UU.camera.Cv+TU.i.Ru,(UU=>0!==UU));if(CU){if(CU.gv&&vU().sU(CU.position,(0,kp.getBloxd)().getLifeformEyePos(UU.iA,!1))<=TU.i.Ru)return UU.Ru=UU.camera.Cv+TU.i.Ru,void UU.Mv()}UU.Ru=0},AU=document.getElementById("noa-container");let XU=null,hU=null,jp=!1;const SU=AU=>{var SU;if(hU=Date.now(),jp=function(UU,pU){for(const AU in KU)if(KU[AU](UU,pU))return!0;return!1}(AU.targetTouches[0].clientX,AU.targetTouches[0].clientY),jp)return UU.Qv=null,UU.yv=null,void(UU.Ru=TU.i.Ru);pU(AU.targetTouches[0].clientX,AU.targetTouches[0].clientY);const uU=null!==(SU=UU.yv)&&void 0!==SU?SU:UU.camera.nv(),BU=kp.singletons.localPlayerPickActionHelper.getPickEntityResult(uU);if(UU.wv||BU){var vU;const pU=null===(vU=UU.wv)||void 0===vU?void 0:vU.position.join("|");XU=setTimeout((()=>{var AU,hU;const jp=null!==(AU=UU.yv)&&void 0!==AU?AU:UU.camera.nv(),SU=kp.singletons.localPlayerPickActionHelper.getPickEntityResult(jp);if(!UU.wv&&!SU)return;const uU=null===(hU=UU.wv)||void 0===hU?void 0:hU.position.join("|");(pU===uU&&pU||BU===SU&&BU)&&((0,HU.q)(gU.e.TouchDownLong),UU.oB.kT(UU.iA).touchDownLong()),XU=null}),300)}},uU=UU=>{jp||pU(UU.targetTouches[0].clientX,UU.targetTouches[0].clientY)},BU=AU=>{jp?jp=!1:(pU(AU.changedTouches[0].clientX,AU.changedTouches[0].clientY),Date.now()-hU<200&&((0,HU.q)(gU.e.TouchShort),(0,dU.incrementClientClickCounter)(),UU.oB.kT(UU.iA).touchShort()),UU.oB.kT(UU.iA).upFirePrimary(),UU.Qv=null,UU.yv=null,UU.Ru=TU.i.Ru,clearTimeout(XU))};return AU.addEventListener("touchstart",SU,{passive:!0}),AU.addEventListener("touchmove",uU,{passive:!0}),AU.addEventListener("touchend",BU,{passive:!0}),()=>{AU.removeEventListener("touchstart",SU),AU.removeEventListener("touchmove",uU),AU.removeEventListener("touchend",BU),clearTimeout(XU)}}),[UU]),null}function aU(){const UU=(0,XU.useRef)(!1),pU=(0,XU.useRef)(!1),AU=(0,XU.useRef)(0),hU=(0,QU.S)(),jp=()=>{const AU=(0,kp.jA)();AU.oB.dv(AU.iA).setCrouching(UU.current||pU.current),JU(),hU()},SU=UU.current||pU.current;return(0,lU.jsx)("div",{className:"CrouchCircle TouchButton",children:(0,lU.jsx)("div",{className:OU()("TouchCrouch",{TouchCrouchDown:SU}),children:(0,lU.jsx)("i",{className:SU?"fas fa-angle-up":"fas fa-angle-down",onPointerDown:()=>{UU.current=!0,wU.d.get("clientEscMenuOptions").crouchIsToggle&&(pU.current=!pU.current),AU.current=Date.now(),jp()},onPointerUp:()=>{UU.current=!1,jp()}})})})}function GU(){return(0,lU.jsx)("div",{className:"TouchPOV TouchButton",children:(0,lU.jsx)("i",{className:"fas fa-video",onClick:()=>{MU.h.Sp("SwapCameraZoom")}})})}function mp(){return(0,lU.jsx)("div",{className:"JumpCircle TouchButton",onTouchStart:()=>{(0,kp.jA)().oB.dv((0,kp.jA)().iA).jumping=!0},onTouchEnd:()=>{(0,kp.jA)().oB.dv((0,kp.jA)().iA).jumping=!1},children:(0,lU.jsx)("i",{className:"fas fa-arrow-up JumpIcon"})})}function EU(){const UU=(0,kp.jA)(),pU=(0,XU.useRef)(null),[AU,hU]=(0,XU.Ap)(!1);return(0,XU.Xp)((()=>{const XU=uU().create({zone:pU.current,mode:AU?"dynamic":"static",color:"white",dynamicPage:!0,fadeTime:1,multitouch:!0,maxNumberOfNipples:1,restOpacity:1,position:{bottom:"50vh",left:"20vw"}});return XU.on("move",((pU,AU)=>{const XU=UU.oB,hU=XU.getState(UU.iA,XU.names.receivesInputs);hU.joystickHeading=AU.angle.radian,hU.joyStickMoveVec=AU.vector,rU=AU.distance/50,JU()})),XU.on("start",((UU,pU)=>{DU=!0})),XU.on("end",((pU,AU)=>{const XU=UU.oB,jp=XU.getState(UU.iA,XU.names.receivesInputs);jp.joyStickMoveVec.x=0,jp.joyStickMoveVec.y=0,rU=0,DU=!1,JU(),hU(!0)})),()=>{XU.destroy()}}),[AU]),(0,lU.jsx)(lU.Fragment,{children:(0,lU.jsx)("div",{id:"NippleZone",className:"NippleZone",ref:pU})})}let zU,rU=0,DU=!1;function JU(){const UU=(0,kp.jA)(),pU=UU.oB.dv(UU.iA);let AU=UU.hp.runningSpeed;const XU=UU.oB.Hv(UU.iA);(pU.crouching&&!XU.shouldIgnoreCrouchingSpeedReduction()||!UU.oB.getState(UU.iA,"receivesInputs").canRunCombinator.getTotalBooleanVal())&&(AU=UU.hp.crouchingSpeed);const hU=nU.k[XU.vehicle.type];hU.getMoveStateSpeedTouchscreen?pU.speed=hU.getMoveStateSpeedTouchscreen(AU,rU,DU):pU.speed=rU*AU,pU.speedMultiplier.setMultiplierType("serverSettingsSpeedMultiplier",UU.hp.speedMultiplier)}function RU(){var UU;null===(UU=zU)||void 0===UU||UU()}function oU(){var UU,pU,AU,hU;const SU=null===(UU=(0,kp.jA)().oB.Xv((0,kp.jA)().iA))||void 0===UU?void 0:UU.hv,uU=(0,QU.db)("touchscreenActionButton"),BU=null!==SU&&void 0!==SU&&SU.gunTypeObj?[{icon:"arrows-rotate"}]:uU;let vU=null;null!==SU&&void 0!==SU&&SU.gunTypeObj||null!==SU&&void 0!==SU&&null!==(pU=SU.typeObj)&&void 0!==pU&&pU.holdAsAiming&&(null===SU||void 0===SU||null===(AU=SU.typeObj)||void 0===AU||!AU.hideAimingUI)?vU=[{icon:"Arrow"}]:"Chargeable"===(null===SU||void 0===SU||null===(hU=SU.typeObj)||void 0===hU?void 0:hU.type)&&(vU=[{icon:SU.typeObj.name}]);const TU=null!==SU&&void 0!==SU&&SU.gunTypeObj?[{icon:"crosshairs"}]:null,[yU,OU]=(0,XU.useReducer)((UU=>UU+1),0);zU=OU,(0,XU.Xp)((()=>()=>{zU=void 0}),[]);const fU=[{bottom:6,right:15,size:5},{bottom:12,right:11,size:8},{bottom:15,right:5,size:5}],gU=[{onPointerDown:()=>{(0,jp.nc)(CU.Vh,!0),null!==SU&&void 0!==SU&&SU.gunTypeObj&&SU.reload()},onPointerUp:()=>{(0,jp.nc)(CU.Vh,!1)}},{onPointerDown:()=>{null===SU||void 0===SU||SU.touchDownSecondary()},onPointerUp:()=>{null===SU||void 0===SU||SU.touchUpSecondary()}},{onPointerDown:()=>{null===SU||void 0===SU||SU.touchDownTertiary()},onPointerUp:()=>{null===SU||void 0===SU||SU.touchUpTertiary()}}];return(0,lU.jsx)(lU.Fragment,{children:[BU,vU,TU].map(((UU,pU)=>{if(!UU)return null;const AU=fU[pU];return(0,lU.jsx)(FU,{icon:UU,bottom:AU.bottom,right:AU.right,size:AU.size,pointerDown:gU[pU].onPointerDown,pointerUp:gU[pU].onPointerUp},JSON.stringify(UU))}))})}const KU={};function FU(UU){let{icon:pU,bottom:AU,right:hU,size:jp,pointerDown:SU,pointerUp:uU}=UU;const BU=JSON.stringify(pU),vU=(0,XU.useRef)(!1),TU=(0,XU.useRef)({centreX:0,centreY:0,radius:0}),[yU,OU]=(0,fU.d)();(0,XU.Xp)((()=>{const UU=document.getElementById(BU).getBoundingClientRect(),pU=UU.left+UU.width/2,AU=UU.top+UU.height/2,XU=UU.width/2;TU.current={centreX:pU,centreY:AU,radius:XU}}),[yU,OU]);const CU=UU=>{MU(UU.changedTouches[0].clientX,UU.changedTouches[0].clientY)&&(vU.current=!0,SU())},gU=()=>{vU.current&&(vU.current=!1,uU())},MU=(UU,pU)=>Math.hypot(UU-TU.current.centreX,pU-TU.current.centreY)<TU.current.radius;return(0,XU.Xp)((()=>(KU[BU]=MU,()=>{delete KU[BU]})),[BU]),(0,XU.Xp)((()=>{const UU=document.getElementById("noa-container");return UU.addEventListener("touchstart",CU,{passive:!0}),UU.addEventListener("touchend",gU,{passive:!0}),()=>{UU.removeEventListener("touchstart",CU),UU.removeEventListener("touchend",gU)}})),(0,lU.jsx)("div",{className:"TouchArbitraryActionButton TouchButton",id:BU,style:{bottom:"".concat(AU,"rem"),right:"".concat(hU,"rem"),width:"".concat(jp,"rem"),height:"".concat(jp,"rem"),fontSize:"".concat(2*jp/5,"rem")},children:(0,lU.jsx)(QU.J,{text:pU})})}},15891:(UU,pU,AU)=>{"use strict";AU.d(pU,{b:()=>KA,e:()=>RA,g:()=>oA});var XU=AU(21),hU=AU(597),jp=AU(399),SU=AU(114),uU=AU(72),BU=AU(15898),vU=AU(647),TU=AU(681),QU=AU(81),yU=AU(1140);let OU=0;const fU=[];class CU{constructor(UU){this.lv=void 0,this.sessionId=void 0,this.ev=[],this.Zv=OU++,this.av=!1,this.OA=0,this.lv=UU,this.sessionId=UU.sessionId,fU[this.Zv]=[],this.lv.Kp("*",((UU,pU)=>{this.av?this.Gv(UU,pU):this.ev.push({id:UU,payload:pU})}))}Gv(UU,pU){try{(0,vU.Hb)(UU)&&(pU=(0,vU.c)(UU,TU.tU.from(pU))),fU[this.Zv][UU](pU)}catch(XU){var AU;null===(AU=(0,yU.jA)())||void 0===AU||AU.Tv("Error in onMessage ".concat(UU," with payload ").concat(JSON.stringify(pU)),XU)}finally{this.OA++}}mT(){for(const{id:UU,payload:pU}of this.ev)this.Gv(UU,pU)}Ev(){if(this.av)throw new Error("Trying to getOnMessageRegistrationHandler after registration finished");return{Kp:(UU,pU)=>{if(this.av)throw new Error("Trying to call onMessage after registration finished");this.Kp(UU,pU)},finishRegistration:()=>{this.av=!0,this.mT()}}}Kp(UU,pU){(0,QU.m)(!0)&&(0,hU.uc)();const AU=fU[this.Zv];for(;UU>AU.length;)AU[AU.length]=null;AU[UU]=pU}send(UU,pU){5===gU++&&((0,QU.m)(!0)&&(0,hU.uc)(),gU=0),(0,hU.hb)(pU)?this.lv.zv(UU,pU):this.lv.send(UU,pU)}pp(){this.lv.pp()}BB(){this.lv.BB()}}let gU=0;var MU,nU,wU,kp,dU,HU,lU,eU,ZU,aU,GU,mp,EU,zU,rU,DU,JU,RU,oU,KU,FU,ip,NU,LU,IU,PU,xU,qU,WU,YU,VU,cU,sU,tU,bU,Up,pp,Ap,Xp,hp,jA,Sp,upU,Bp,vp,Tp,Qp,yp,Op,fp,Cp,gp,Mp,np,wp,kA,dp,Hp,lp,ep,Zp,ap,Gp,mA,Ep,zp,rp,Dp,Jp,Rp,op,Kp,Fp=AU(37),iA=AU(388),Np=AU(1401),Lp=AU(121),Ip=AU(406),Pp=AU(125),xp=AU(15900),qp=AU(15908),Wp=AU(15812);let Yp=(MU=(0,Wp.type)("number"),nU=(0,Wp.type)("number"),wU=(0,Wp.type)("number"),kp=(0,Wp.type)("number"),dU=(0,Wp.type)("number"),HU=(0,Wp.type)("string"),lU=class extends Wp.Schema{constructor(){super(...arguments),(0,xp.b)(this,"id",eU,this),(0,xp.b)(this,"amount",ZU,this),(0,xp.b)(this,"x",aU,this),(0,xp.b)(this,"y",GU,this),(0,xp.b)(this,"z",mp,this),(0,xp.b)(this,"attributes",EU,this)}},eU=(0,qp.b)(lU.prototype,"id",[MU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ZU=(0,qp.b)(lU.prototype,"amount",[nU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),aU=(0,qp.b)(lU.prototype,"x",[wU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),GU=(0,qp.b)(lU.prototype,"y",[kp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mp=(0,qp.b)(lU.prototype,"z",[dU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),EU=(0,qp.b)(lU.prototype,"attributes",[HU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{}"}}),lU),Vp=(zU=(0,Wp.type)("boolean"),rU=(0,Wp.type)("number"),DU=(0,Wp.type)("number"),JU=(0,Wp.type)("number"),RU=(0,Wp.type)("number"),oU=class extends Wp.Schema{constructor(){super(...arguments),(0,xp.b)(this,"collideEntities",KU,this),(0,xp.b)(this,"rv",FU,this),(0,xp.b)(this,"Dv",ip,this),(0,xp.b)(this,"widthExpandAmount",NU,this),(0,xp.b)(this,"heightExpandAmount",LU,this)}},KU=(0,qp.b)(oU.prototype,"collideEntities",[zU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),FU=(0,qp.b)(oU.prototype,"rv",[rU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ip=(0,qp.b)(oU.prototype,"Dv",[DU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),NU=(0,qp.b)(oU.prototype,"widthExpandAmount",[JU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),LU=(0,qp.b)(oU.prototype,"heightExpandAmount",[RU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oU),cp=(IU=(0,Wp.type)("string"),PU=(0,Wp.type)("string"),xU=(0,Wp.type)("number"),qU=(0,Wp.type)("number"),WU=(0,Wp.type)("number"),YU=(0,Wp.type)("float32"),VU=(0,Wp.type)("float32"),cU=(0,Wp.type)("boolean"),sU=(0,Wp.type)("boolean"),tU=(0,Wp.type)("float32"),bU=(0,Wp.type)("boolean"),Up=(0,Wp.type)("string"),pp=(0,Wp.type)("string"),Ap=(0,Wp.type)("string"),Xp=(0,Wp.type)("string"),hp=(0,Wp.type)(["number"]),jA=(0,Wp.type)("boolean"),Sp=(0,Wp.type)(["number"]),upU=(0,Wp.type)("number"),Bp=(0,Wp.type)(Vp),vp=class extends Wp.Schema{constructor(){super(...arguments),(0,xp.b)(this,"type",Tp,this),(0,xp.b)(this,"name",Qp,this),(0,xp.b)(this,"x",yp,this),(0,xp.b)(this,"y",Op,this),(0,xp.b)(this,"z",fp,this),(0,xp.b)(this,"heading",Cp,this),(0,xp.b)(this,"speed",gp,this),(0,xp.b)(this,"jumping",Mp,this),(0,xp.b)(this,"crouching",np,this),(0,xp.b)(this,"cameraPitch",wp,this),(0,xp.b)(this,"armSwinging",kA,this),(0,xp.b)(this,"heldItemName",dp,this),(0,xp.b)(this,"heldItemEnchantmentTier",Hp,this),(0,xp.b)(this,"pose",lp,this),(0,xp.b)(this,"followingEId",ep,this),(0,xp.b)(this,"followingOffset",Zp,this),(0,xp.b)(this,"shouldMatchFollowingEntityRotation",ap,this),(0,xp.b)(this,"meshOffset",Gp,this),(0,xp.b)(this,"baseRenderHeading",mA,this),(0,xp.b)(this,"collideEntities",Ep,this)}},Tp=(0,qp.b)(vp.prototype,"type",[IU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=(0,qp.b)(vp.prototype,"name",[PU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yp=(0,qp.b)(vp.prototype,"x",[xU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Op=(0,qp.b)(vp.prototype,"y",[qU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fp=(0,qp.b)(vp.prototype,"z",[WU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cp=(0,qp.b)(vp.prototype,"heading",[YU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=(0,qp.b)(vp.prototype,"speed",[VU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mp=(0,qp.b)(vp.prototype,"jumping",[cU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),np=(0,qp.b)(vp.prototype,"crouching",[sU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wp=(0,qp.b)(vp.prototype,"cameraPitch",[tU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kA=(0,qp.b)(vp.prototype,"armSwinging",[bU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dp=(0,qp.b)(vp.prototype,"heldItemName",[Up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp=(0,qp.b)(vp.prototype,"heldItemEnchantmentTier",[pp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lp=(0,qp.b)(vp.prototype,"pose",[Ap],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"standing"}}),ep=(0,qp.b)(vp.prototype,"followingEId",[Xp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zp=(0,qp.b)(vp.prototype,"followingOffset",[hp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Wp.ArraySchema(0,0,0)}}),ap=(0,qp.b)(vp.prototype,"shouldMatchFollowingEntityRotation",[jA],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gp=(0,qp.b)(vp.prototype,"meshOffset",[Sp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Wp.ArraySchema(0,0,0)}}),mA=(0,qp.b)(vp.prototype,"baseRenderHeading",[upU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ep=(0,qp.b)(vp.prototype,"collideEntities",[Bp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Vp}}),vp),sp=(zp=(0,Wp.type)("string"),rp=(0,Wp.type)("string"),Dp=(0,Wp.type)("string"),Jp=class extends cp{constructor(){super(...arguments),(0,xp.b)(this,"variation",Rp,this),(0,xp.b)(this,"ownerDbId",op,this),(0,xp.b)(this,"metaInfo",Kp,this)}},Rp=(0,qp.b)(Jp.prototype,"variation",[zp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),op=(0,qp.b)(Jp.prototype,"ownerDbId",[rp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kp=(0,qp.b)(Jp.prototype,"metaInfo",[Dp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp);for(const FA of Pp.k)if(!(new sp).hasOwnProperty(FA))throw new Error('Mob Schema is missing a networked property: "'.concat(FA,'"'));var tp=AU(15913),bp=AU(604),UA=AU(98),pA=AU(14955),AA=AU(15949),XA=AU(16589),hA=AU(16518);class jX{constructor(UU,pU){this.bloxd=UU,this.eId=pU,this.jp=void 0,this.colyseusEntity=void 0,this.canSeeSub=void 0,this.canAttackSub=void 0,this.overlayColourSub=void 0,this.opacitySub=void 0,this.multilineTextBoxSub=void 0,this.previousHidingMeshManagerState=void 0,this.jp=UU.jp}initClient(UU){var pU,AU;this.colyseusEntity=UU,this.jp.oB.add([UU.x,UU.y,UU.z],1,1,null,null,!1,!1,this.eId),this.jp.oB.Jv(this.eId,"smoothToServerPos"),this.jp.oB.Jv(this.eId,"meshRotation",{isServerControlled:!0,rotationsPerSecond:2.5}),this.updateHidingMeshMgr(),this.canSeeSub=Fp.h.subscribe("otherEntitySettings|".concat(this.eId,"|canSee"),(UU=>{this.updateHidingMeshMgr()})),this.canAttackSub=Fp.h.subscribe("otherEntitySettings|".concat(this.eId,"|canAttack"),(UU=>{var pU;const AU=null===(pU=this.jp.oB.RB(this.eId))||void 0===pU?void 0:pU.mesh;if(AU)for(const XU of[AU,...AU.getChildMeshes(!1)])void 0===XU.Rv||XU.name.startsWith("Cape|")||(XU.Rv=UU)})),this.overlayColourSub=Fp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(this.eId,"|overlayColour"),(UU=>{this.updateOverlayColour(UU)})),this.opacitySub=Fp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(this.eId,"|opacity"),(UU=>{this.updateOpacity(UU)}));const XU=this.jp.Kv[this.jp.iA][this.eId];this.updateOverlayColour(null!==(pU=null===XU||void 0===XU?void 0:XU.overlayColour)&&void 0!==pU?pU:null),this.updateOpacity(null!==(AU=null===XU||void 0===XU?void 0:XU.opacity)&&void 0!==AU?AU:1),this.multilineTextBoxSub=(0,hA.e)(this.jp,this.eId)}onChangeClient(UU,pU){if("heading"===UU){const UU=this.jp.oB.getState(this.eId,"meshRotation");UU&&(UU.serverSetHeading=pU)}else("name"===UU&&""!==pU||"type"===UU)&&this.updateHidingMeshMgr()}disposeClient(){var UU;this.jp.oB.deleteEntity(this.eId),delete this.jp.Kv[this.jp.iA][this.eId],null===(UU=this.jp.Kv[this.jp.Fp])||void 0===UU||delete UU[this.eId],Fp.h.unsubscribe(this.canSeeSub),Fp.h.unsubscribe(this.canAttackSub),Fp.h.unsubscribe(this.overlayColourSub),Fp.h.unsubscribe(this.opacitySub),Fp.h.unsubscribe(this.multilineTextBoxSub)}getCurrentHidingMeshMgrState(){var UU,pU;return{canSee:null!==(UU=null===(pU=this.jp.Kv[this.jp.iA][this.eId])||void 0===pU?void 0:pU.canSee)&&void 0!==UU&&UU,name:this.colyseusEntity.name,type:this.colyseusEntity.type}}updateHidingMeshMgr(){var UU,pU,AU;const{jp:XU}=this,{oB:hU}=XU,jp=this.getCurrentHidingMeshMgrState();if((0,UA.rd)(this.previousHidingMeshManagerState,jp))return;if(this.previousHidingMeshManagerState=jp,hU.Fv(this.eId,"hidingMeshManager"),null===(UU=XU.Kv[XU.iA][this.eId])||void 0===UU||!UU.canSee)return;const[SU,uU,BU]=this.colyseusEntity.type.split("|"),vU=JSON.parse(BU);vU.eId=this.eId,hU.Jv(this.eId,"hidingMeshManager",{addMeshComponent:()=>{var UU,pU;const{iT:AU,mesh:jp,meshOffset:SU,nameYOffset:BU}=this.bloxd.client.meshCreator.getEntityMesh(uU,vU,(UU=>{if("number"===typeof UU){const pU=XU.Qp.EB;return pU.setEntityId(UU,this.eId),void pU.setPickable(UU,XU.Kv[XU.iA][this.eId].canAttack)}const pU=UU;for(const AU of[pU,...pU.getChildMeshes(!1)])void 0===AU.Rv||AU.name.startsWith("Cape|")||(AU.Rv=XU.Kv[XU.iA][this.eId].canAttack,AU.metadata=new XU.Qp.Nv,AU.metadata.eId=this.eId)})),TU=null===AU?null:XU.Qp.EB.getNode(AU,0);if(hU.Jv(this.eId,hU.names.mesh,{iT:AU,FB:TU,mesh:jp,Lv:!1,offset:SU}),"Person"===uU){hU.Jv(this.eId,hU.names.meshAttachments);for(const UU of bp.j){var QU;const pU=vU.textures[UU];pU&&null!==(QU=XA.j[UU][pU].attachments)&&void 0!==QU&&QU.length&&AA.d.Player.meshApi.updatePlayerCosmetic(this.eId,AU,UU,vU.textures[UU])}}hU.Iv(this.eId,"entityName",{name:this.colyseusEntity.name,nameYOffset:BU}),this.bloxd.setEntityName(this.eId,this.colyseusEntity.name),!0===vU.autoRotate&&(hU.Fv(this.eId,"meshRotation"),hU.Jv(this.eId,"autoRotate"));const yU=XU.Kv[XU.iA][this.eId];this.updateOverlayColour(null!==(UU=null===yU||void 0===yU?void 0:yU.overlayColour)&&void 0!==UU?UU:null),this.updateOpacity(null!==(pU=null===yU||void 0===yU?void 0:yU.opacity)&&void 0!==pU?pU:1)},removeMeshComponent:()=>{hU.Fv(this.eId,hU.names.mesh),hU.Pv(this.eId,hU.names.meshAttachments)&&hU.Fv(this.eId,hU.names.meshAttachments),hU.Fv(this.eId,"entityName"),hU.Fv(this.eId,"autoRotate")},hideDist:null!==(pU=vU.hideDist)&&void 0!==pU?pU:80,movingHideDist:null!==(AU=vU.hideDist)&&void 0!==AU?AU:120,displayOutsideLoadedChunk:vU.hideDist>100,immediatelyUpdate:!0,rh:"BloxdBlock"===uU?vU.blockName:uU})}updateOverlayColour(UU){var pU,AU;const[XU,hU]=this.colyseusEntity.type.split("|");if("Person"!==hU)return;let jp=new pA.lB(0,0,0,0);if(null!==UU){const pU=(0,UA.O)(UU);jp=new pA.lB(pU[0]/255,pU[1]/255,pU[2]/255,.5)}const SU=null!==(pU=null===(AU=this.jp.oB.RB(this.eId))||void 0===AU?void 0:AU.iT)&&void 0!==pU?pU:null;null!==SU&&AA.d.Player.meshApi.updateMeshOverlayColour(SU,jp)}updateOpacity(UU){var pU,AU;const[XU,hU]=this.colyseusEntity.type.split("|");if("Person"!==hU)return;const jp=null!==(pU=null===(AU=this.jp.oB.RB(this.eId))||void 0===AU?void 0:AU.iT)&&void 0!==pU?pU:null;null!==jp&&AA.d.Player.meshApi.updateMeshOpacity(jp,UU)}}var SA=AU(149),uA=AU.n(SA),BA=AU(16296),vA=AU(16529),TA=AU(1783),QA=AU(16608),yA=AU(16312),OA=AU(16657),fA=AU(16884),CA=AU(15876),gA=AU(1372),MA=AU(64),nA=AU(585),wA=AU(15881),kX=AU(15884),dA=AU(1750),HA=AU(1246),lA=AU(1410),eA=AU(1476),ZA=AU(1709),aA=AU(15941),GA=AU(16600);let mX;class EA{constructor(UU,pU,AU){this.gameNameWithVariation=UU,this.msgHandler=pU,this.jp=AU}setupStateReplicationHandlers(){const UU=this.msgHandler,pU=this.jp,AU={x:0,y:1,z:2},jp=(0,XU.d)((0,XU.d)((0,XU.d)({},Object.fromEntries(Lp.i.map((UU=>{const{rh:pU}=(0,AA.e)(UU);return[UU,pU]})))),{},{Pebble:tp.e,Snowball:tp.e,"Reinforced Pebble":tp.e,"Reinforced Ball":tp.e,Ball:tp.e,Mango:tp.e,"Moonstone Orb":tp.e},Object.fromEntries(Pp.m.map((UU=>[(0,UA.Bb)(UU),tp.e])))),{},{Arrow:tp.e,"Arrow of Speed":tp.e,"Arrow of Poison":tp.e,"Arrow of Slowness":tp.e,"Arrow of Weakness":tp.e,"Arrow of Knockback":tp.e,"Arrow of Strength":tp.e,"Arrow of Invisibility":tp.e,"Arrow of Jumping":tp.e,"Arrow of Defense":tp.e,"Arrow of Instant Healing":tp.e,"Arrow of Instant Damage":tp.e,"Arrow of Regeneration":tp.e,"Arrow of Haste":tp.e,"Arrow of Shield":tp.e,"Arrow of Double Jump":tp.e,"Arrow of Heat Resistance":tp.e,"Arrow of X-Ray Vision":tp.e,"Arrow of Mining Yield":tp.e,"Arrow of Brain Rot":tp.e,"Arrow of Milk":tp.e,Fireball:tp.e,"Bouncy Bomb":tp.e,RPG:tp.e,"Obby RPG":tp.e,"Super RPG":tp.e,"Grenade Launcher":tp.e,Iceball:tp.e,Coconut:tp.e,"Splash Speed Potion":tp.e,"Splash Defense Potion":tp.e,"Splash Strength Potion":tp.e,"Splash Invisibility Potion":tp.e,"Splash Jump Potion":tp.e,"Splash Knockback Potion":tp.e,"Splash Poison Potion":tp.e,"Splash Speed Potion II":tp.e,"Splash Defense Potion II":tp.e,"Splash Strength Potion II":tp.e,"Splash Jump Potion II":tp.e,"Splash Knockback Potion II":tp.e,"Splash Poison Potion II":tp.e,"Splash Slowness Potion":tp.e,"Splash Slowness Potion II":tp.e,"Splash Weakness Potion":tp.e,"Splash Weakness Potion II":tp.e,"Splash Milk Potion":tp.e,"Splash Instant Damage Potion":tp.e,"Splash Instant Damage Potion II":tp.e,"Splash Instant Healing Potion":tp.e,"Splash Instant Healing Potion II":tp.e,"Splash Regeneration Potion":tp.e,"Splash Regeneration Potion II":tp.e,"Splash Haste Potion":tp.e,"Splash Haste Potion II":tp.e,"Splash Shield Potion":tp.e,"Splash Shield Potion II":tp.e,"Splash Double Jump Potion":tp.e,"Splash Heat Resistance Potion":tp.e,"Splash X-Ray Vision Potion":tp.e,"Splash Mining Yield Potion":tp.e,"Splash Mining Yield Potion II":tp.e,"Splash Brain Rot Potion":tp.e,"Yellow Paintball Gun":tp.e,"White Paintball Gun":tp.e,"Red Paintball Gun":tp.e,"Purple Paintball Gun":tp.e,"Pink Paintball Gun":tp.e,"Orange Paintball Gun":tp.e,"Magenta Paintball Gun":tp.e,"Lime Paintball Gun":tp.e,"Light Gray Paintball Gun":tp.e,"Light Blue Paintball Gun":tp.e,"Green Paintball Gun":tp.e,"Gray Paintball Gun":tp.e,"Cyan Paintball Gun":tp.e,"Brown Paintball Gun":tp.e,"Blue Paintball Gun":tp.e,"Black Paintball Gun":tp.e,"Yellow Heavy Paintball Gun":tp.e,"White Heavy Paintball Gun":tp.e,"Red Heavy Paintball Gun":tp.e,"Purple Heavy Paintball Gun":tp.e,"Pink Heavy Paintball Gun":tp.e,"Orange Heavy Paintball Gun":tp.e,"Magenta Heavy Paintball Gun":tp.e,"Lime Heavy Paintball Gun":tp.e,"Light Gray Heavy Paintball Gun":tp.e,"Light Blue Heavy Paintball Gun":tp.e,"Green Heavy Paintball Gun":tp.e,"Gray Heavy Paintball Gun":tp.e,"Cyan Heavy Paintball Gun":tp.e,"Brown Heavy Paintball Gun":tp.e,"Blue Heavy Paintball Gun":tp.e,"Black Heavy Paintball Gun":tp.e,"Toxin Ball":tp.e,"Splash Aura XP Potion":tp.e,"Splash Aura XP Potion II":tp.e,"Arrow of Aura XP":tp.e,Firecracker:tp.e,"Rainbow Firecracker":tp.e,"White Firecracker":tp.e,"Orange Firecracker":tp.e,"Magenta Firecracker":tp.e,"Light Blue Firecracker":tp.e,"Yellow Firecracker":tp.e,"Lime Firecracker":tp.e,"Pink Firecracker":tp.e,"Gray Firecracker":tp.e,"Light Gray Firecracker":tp.e,"Cyan Firecracker":tp.e,"Purple Firecracker":tp.e,"Blue Firecracker":tp.e,"Brown Firecracker":tp.e,"Green Firecracker":tp.e,"Red Firecracker":tp.e,"Black Firecracker":tp.e,"Firecracker Pebble":tp.e,"Rainbow Firecracker Pebble":tp.e,"White Firecracker Pebble":tp.e,"Orange Firecracker Pebble":tp.e,"Magenta Firecracker Pebble":tp.e,"Light Blue Firecracker Pebble":tp.e,"Yellow Firecracker Pebble":tp.e,"Lime Firecracker Pebble":tp.e,"Pink Firecracker Pebble":tp.e,"Gray Firecracker Pebble":tp.e,"Light Gray Firecracker Pebble":tp.e,"Cyan Firecracker Pebble":tp.e,"Purple Firecracker Pebble":tp.e,"Blue Firecracker Pebble":tp.e,"Brown Firecracker Pebble":tp.e,"Green Firecracker Pebble":tp.e,"Red Firecracker Pebble":tp.e,"Black Firecracker Pebble":tp.e,"Blinding Pebble":tp.e,Poop:tp.e,Mesh:jX});UU.lv.state.entities.DB((function(UU,XU){if(pU.Fp)SU();else{const UU=Fp.h.Ep("initInfoReceived",(()=>{SU()}));(0,hU.Tb)((()=>{Fp.h.unsubscribe(UU),(0,yU.getBloxd)().updatePositionAndPhysics(pU.iA,{type:Ip.j.PLAYER,tier:null},!0);const AU=pU.oB.Hv(pU.iA);AU&&(AU.movementType=Ip.i.NORMAL)}))}function SU(){if(XU===pU.Fp)return void(0,yU.getBloxd)().client.xv(pU.iA,null,null);const{type:SU}=UU,uU=jp[SU.split("|")[0]];(0,yU.getBloxd)().client.xv(XU,UU,new uU((0,yU.getBloxd)(),XU,SU));const BU=(jp,SU)=>{if("followingEId"===jp){const AU=SU;if(AU){var uU;const jp=UU.followingOffset?Array.from(UU.followingOffset):uA().ZERO,SU=null===(uU=UU.shouldMatchFollowingEntityRotation)||void 0===uU||uU;pU.oB.Fv(XU,"smoothToServerPos"),pU.oB.Fv(XU,pU.oB.names.qv),pU.oB.Jv(XU,pU.oB.names.qv,{Wv:(0,hU.p)(AU),offset:jp,Yv:SU});const BU=Fp.h.Ep("lifeformSetupFinished|".concat(AU),(()=>{if(pU.oB.IB(XU)&&UU.followingEId&&!pU.oB.Pv(XU,pU.oB.names.qv)){var jp;const SU=UU.followingOffset?Array.from(UU.followingOffset):uA().ZERO,uU=null===(jp=UU.shouldMatchFollowingEntityRotation)||void 0===jp||jp;pU.oB.Jv(XU,pU.oB.names.qv,{Wv:(0,hU.p)(AU),offset:SU,Yv:uU})}}));(0,hU.Tb)((()=>{Fp.h.unsubscribe(BU)}))}else if(pU.oB.Pv(XU,"smoothToServerPos")||pU.oB.Jv(XU,"smoothToServerPos"),pU.oB.Pv(XU,pU.oB.names.qv)){const UU=pU.oB.IB(XU).position,AU=pU.oB.getState(XU,"smoothToServerPos");uA().bU(AU.serverPosition,UU),pU.oB.Fv(XU,pU.oB.names.qv)}}else if("heading"===jp)for(const UU of(0,yU.getBloxd)().getFollowingEntities(XU)){const AU=pU.oB.getState(UU,"meshRotation"),XU=pU.oB.Vv(UU);AU&&XU.Yv&&(AU.serverSetHeading=SU)}else if("baseRenderHeading"===jp){const UU=pU.oB.getState(XU,"meshRotation");UU&&(UU.baseRenderHeading=SU);for(const AU of(0,yU.getBloxd)().getFollowingEntities(XU)){const UU=pU.oB.getState(AU,"meshRotation"),XU=pU.oB.Vv(AU);UU&&XU.Yv&&(UU.baseRenderHeading=SU)}}else if("followingOffset"===jp){const UU=pU.oB.Vv(XU);if(UU&&UU.offset){const pU=SU?Array.from(SU):uA().ZERO;UU.offset[0]=pU[0],UU.offset[1]=pU[1],UU.offset[2]=pU[2]}}else if("shouldMatchFollowingEntityRotation"===jp){const UU=pU.oB.Vv(XU);UU&&(UU.Yv=null===SU||void 0===SU||SU)}else if("collideEntities"===jp){const UU=pU.oB.Pv(XU,"collideEntities");if(SU.collideEntities){UU||pU.oB.Jv(XU,"collideEntities",{callback:UU=>{if(UU!==pU.iA){const AU=pU.oB.Hv(pU.iA);if(AU){BA.k[AU.vehicle.type].entityCollision(pU,XU,UU)}(0,hU.nc)(vU.Pf,{Jh:XU,Kh:UU})}}});const AU=pU.oB.getState(XU,"collideEntities");AU.rv=SU.rv,AU.Dv=SU.Dv,AU.cv=SU.widthExpandAmount,AU.sv=SU.heightExpandAmount}else UU&&pU.oB.Fv(XU,"collideEntities")}if(jp in AU){if(pU.oB.Pv(XU,"smoothToServerPos")){pU.oB.getState(XU,"smoothToServerPos").serverPosition[AU[jp]]=SU}}else(0,yU.getBloxd)().client.updateEntityField(XU,jp,SU)};for(const pU in UU)if(UU.hasOwnProperty(pU)){BU(pU,UU[pU]);const AU=UU.listen(pU,((UU,AU)=>{BU(pU,UU)}));(0,hU.Tb)((()=>{AU()}))}}})),UU.lv.state.entities.dp(((UU,pU)=>{(0,yU.getBloxd)().client.disposeEntity(pU)}));const SU={};UU.lv.state.items.DB(((UU,XU)=>{SU[XU]=UU,(0,vA.m)(pU,XU,[UU.x,UU.y,UU.z],UU.id,UU.amount,JSON.parse(UU.attributes));const jp=(UU,hU)=>{if(UU in AU){if(pU.oB.Pv(XU,"itemState")){pU.oB.getState(XU,"smoothToServerPos").serverPosition[AU[UU]]=hU}}else if(pU.oB.Pv(XU,"itemState")){const AU=pU.oB.getState(XU,"itemState");AU[UU]="attributes"===UU?JSON.parse(hU):hU,"amount"===UU&&(AU.creationTime=Date.now())}},uU=new Yp;for(const pU in uU)if(uU.hasOwnProperty(pU)){jp(pU,UU[pU]);const AU=UU.listen(pU,((UU,AU)=>{jp(pU,UU)}));(0,hU.Tb)((()=>{AU()}))}})),UU.lv.state.items.dp(((UU,AU)=>{delete SU[AU],pU.oB.Pv(AU,pU.oB.names.itemState)&&pU.oB.deleteEntity(AU)})),(0,hU.Tb)((()=>{for(const UU in SU)pU.oB.deleteEntity(UU)})),(0,hU.Tb)((()=>{for(const UU of(0,yU.getBloxd)().client.iterateEntityIds())(0,yU.getBloxd)().client.disposeEntity(UU)}))}setupOnMessageListeners(UU,pU){const AU=this.jp,jp=this.gameNameWithVariation;function SU(){return AU.oB.Sv(AU.iA)}UU.Kp(vU.Lb,(UU=>{let{Cj:pU,gj:XU,Mj:hU,nj:jp,wj:SU,kS:uU,dj:BU,Hj:vU}=UU;(0,vA.m)(AU,pU,[SU,uU,BU],XU,hU,JSON.parse(jp),vU)})),UU.Kp(vU.P,(UU=>{AU.oB.Pv(UU,"itemState")&&(AU.oB.getState(UU,"itemState").Hj=!0)})),UU.Kp(vU.$c,(UU=>{AU.oB.Pv(UU,"itemState")&&(AU.oB.getState(UU,"itemState").Hj=!1)})),UU.Kp(vU.kc,(UU=>{zA(AU,UU)})),UU.Kp(vU.mc,(UU=>{let{eId:pU,settings:XU}=UU;AU.Kv[AU.iA][pU]||(AU.Kv[AU.iA][pU]={},AU.Kv[AU.iA][(0,hU.p)(pU)]={},AU.Kv[AU.Fp][pU]={},AU.Kv[AU.Fp][(0,hU.p)(pU)]={});for(const jp in XU){const UU=XU[jp];AU.Kv[AU.iA][pU][jp]=UU,AU.Kv[AU.iA][(0,hU.p)(pU)][jp]=UU,AU.Kv[AU.Fp][pU][jp]=UU,AU.Kv[AU.Fp][(0,hU.p)(pU)][jp]=UU,Fp.h.Sp("otherEntitySettings|".concat(jp),{eId:pU,value:UU}),Fp.h.Sp("otherEntitySettings|".concat(pU,"|").concat(jp),UU),Fp.h.Sp("otherEntitySettingsClientifiedEId|".concat((0,hU.p)(pU),"|").concat(jp),UU)}})),UU.Kp(vU.ae,(UU=>{let{NS:pU,LS:XU,IS:jp,PS:SU}=UU;const uU=[XU,jp,SU];AU.oB.setPosition(AU.iA,uU),(0,hU.nc)(vU.Ff,{BX:pU,vX:TA.c}),Fp.h.Sp("localPlayerTeleported",{pos:uU,isCorrection:!1})})),UU.Kp(vU.tc,(UU=>{let{yS:pU,OS:AU,fS:XU,CS:hU}=UU;const jp=[AU,XU,hU];Fp.h.Sp("otherPlayerTeleported|".concat(pU),{pos:jp})})),UU.Kp(vU.Kc,(UU=>{let{ku:pU,dS:XU,HS:jp,lS:SU,eS:uU,ZS:BU,aS:TU,mu:QU,GS:yU}=UU;const OU=[XU,jp,SU];AU.oB.setPosition(AU.iA,OU);const fU=AU.oB.Hv(AU.iA),CU=AU.oB.dv(AU.iA),gU=BA.k[fU.vehicle.type],MU=AU.entities.tv(AU.iA);gU.setVelocity&&gU.setVelocity(fU,CU,MU,[uU,BU,TU]),uA().set(MU._forces,0,0,0),uA().set(MU._impulses,0,0,0),uA().set(MU.bv,uU,BU,TU),AU.entities.tv(AU.iA).UT(),gU.onPositionCorrection&&gU.onPositionCorrection(AU,AU.iA,fU,QU),(0,hU.nc)(vU.Ff,{BX:pU,vX:TA.c}),Fp.h.Sp("localPlayerTeleported",{pos:OU,isCorrection:!0})})),UU.Kp(vU._,(UU=>{let{content:pU,chatterEId:AU}=UU;Fp.h.Sp("chat",{content:pU,chatterEId:AU},!0)})),UU.Kp(vU.Bc,(UU=>{ZA.e.onReceiveColyseusPing(UU)})),UU.Kp(vU.Bd,(UU=>{let{key:pU,value:AU}=UU;(0,Np.x)(jp,pU,AU)})),UU.Kp(vU.Fd,(UU=>{Fp.h.Sp("setDiscordReportKey",UU)})),UU.Kp(vU.Ib,(pU=>{let{RS:XU,oS:jp}=pU;console.log("Local client is eId",XU),Fp.h.Sp("loadingScreenState","loadingPage:loadingWorld"),(0,hU.tc)(jp),AU.Fp=XU,AU.oB.Pv(AU.iA,AU.oB.names.entityName)&&AU.oB.Fv(AU.iA,AU.oB.names.entityName),(0,yU.getBloxd)().setEntityName(AU.Fp,(0,yU.getBloxd)().getEntityName(AU.iA)),AU.Kv[AU.Fp]={},AU.oB.Jv(AU.iA,AU.oB.names.entityName),Fp.h.Sp("initInfoReceived",UU),uU.client.onServerConnectionFinalised()})),UU.Kp(vU.ce,(UU=>{Fp.h.Sp("TopRightHelper",UU,!0)})),UU.Kp(vU.Qc,(UU=>{let{type:pU,location1:AU,location2:XU,location3:hU,score:jp}=UU;ZA.e.progressionEvent({type:pU,location1:AU,location2:XU,location3:hU,score:jp})})),UU.Kp(vU.pd,(UU=>{let{type:pU,resourceType:AU,amount:XU,category:hU,itemName:jp}=UU;ZA.e.resourceEvent({type:pU,resourceType:AU,amount:XU,category:hU,itemName:jp})})),UU.Kp(vU.C,(UU=>{AU.ip.pT.add(UU),AU.ip.AT.delete(UU)})),UU.Kp(vU.I,(UU=>{AU.ip.AT.add(UU),AU.ip.pT.delete(UU)})),UU.Kp(vU.cd,(UU=>{AU.ip.AT.delete(UU),AU.ip.pT.delete(UU)})),UU.Kp(vU.G,(UU=>{AU.ip.XT.add(UU),AU.ip.hT.delete(UU)})),UU.Kp(vU.O,(UU=>{AU.ip.hT.add(UU),AU.ip.XT.delete(UU)})),UU.Kp(vU.gd,(UU=>{AU.ip.hT.delete(UU),AU.ip.XT.delete(UU)})),UU.Kp(vU.E,(UU=>{(0,hU.Zb)(UU,AU.ip.jQ),(0,hU.Zb)(UU,AU.ip.ST),AU.ip.ST.push(UU)})),UU.Kp(vU.M,(UU=>{(0,hU.Zb)(UU,AU.ip.ST),(0,hU.Zb)(UU,AU.ip.jQ),AU.ip.jQ.push(UU)})),UU.Kp(vU.dd,(UU=>{(0,hU.Zb)(UU,AU.ip.ST),(0,hU.Zb)(UU,AU.ip.jQ)})),UU.Kp(vU.we,(UU=>{let{XS:pU,hS:XU}=UU;XU?AU.ip.uT.delete(pU):AU.ip.uT.add(pU)})),UU.Kp(vU.ve,(UU=>{let{rj:pU,Dj:XU}=UU;uU.updateWalkThroughRect(AU.iA,pU,XU)})),(0,hU.Tb)((()=>{AU.ip.pT=new Set,AU.ip.AT=new Set,AU.ip.XT=new Set,AU.ip.hT=new Set,AU.ip.ST=[],AU.ip.jQ=[],AU.ip.uT=new Set,AU.ip.rj=[],AU.ip.BT=[]})),UU.Kp(vU.$d,(UU=>{rA(AU,UU)})),UU.Kp(vU.R,(UU=>{for(const{Cu:pU,gu:AU}of UU){const UU=QA.c[AU];if(UU){const{compX:AU,compY:XU,compZ:hU,mainMultiblock:jp}=UU;(0,yU.getBloxd)().vT(pU[0]-AU,pU[1]-XU,pU[2]-hU,jp)}}for(const{Cu:pU,gu:AU,Mu:XU}of UU){(0,yU.getBloxd)().setBlockNoMulti(pU[0],pU[1],pU[2],AU,!0);const UU=JSON.parse(XU);void 0!==UU&&uU.blockDataOwner.setBlockData(pU[0],pU[1],pU[2],UU),uU.blockAdded(pU[0],pU[1],pU[2],AU)}Fp.h.Sp("changeBlockFail",UU),Fp.h.Sp("EditBoard",{pos:null}),Fp.h.Sp("EditCodeBlock",{pos:null,canChangePos:null})})),UU.Kp(vU.zc,(UU=>{for(const{name:pU,amount:AU,attributes:XU}of UU)SU().pickUpItem({name:pU,amount:AU,typeObj:vA.t[pU],attributes:XU})})),UU.Kp(vU.Hd,(UU=>{let{index:pU,name:AU,amount:XU,attributes:hU}=UU;SU().setItemSlot(pU,AU,XU,hU)})),UU.Kp(vU.Xd,(UU=>{let{sj:pU,AS:XU}=UU;AU.oB.Bv(AU.iA)?(XU&&console.error("Had to sync inven"),AU.oB.uv(AU.iA).loadFromString(pU),Fp.h.Sp("syncedInvenFromServer")):console.log("Got resync inven but don't have inven component")})),UU.Kp(vU.gb,(()=>{SU().clearInventory()})),UU.Kp(vU.Xb,(UU=>{let{leaveEventType:pU,category:AU,subCategory:XU,value:hU}=UU;ZA.e.updateLeaveValue({leaveEventType:pU,category:AU,subCategory:XU,value:hU})})),UU.Kp(vU.kb,(UU=>{let{cat1:pU,cat2:AU,cat3:XU,value:hU}=UU;ZA.e.customEvent({cat1:pU,cat2:AU,cat3:XU,value:hU})}));const uU=(0,yU.getBloxd)();UU.Kp(vU.hb,(UU=>{for(const pU of UU)if(4===pU.length){const[UU,AU,XU,hU]=pU;uU.vT(UU,AU,XU,hU)}else{const[UU,AU,XU,hU,jp,SU,BU]=pU;for(let pU=UU;pU<AU+1;pU++)for(let UU=XU;UU<hU+1;UU++)for(let AU=jp;AU<SU+1;AU++)uU.vT(pU,UU,AU,BU)}})),UU.Kp(vU.Kd,(UU=>{Fp.h.Sp("setSelectedInventorySlotI",UU,!0)})),UU.Kp(vU.Ub,(UU=>{let{category:pU,timeframe:AU,data:XU}=UU;Fp.h.Sp("leaderboardResponse",{category:pU,timeframe:AU,data:XU})})),UU.Kp(vU.B,(UU=>{let{cj:pU,PU:AU}=UU;Fp.h.Sp("bulletShot|".concat(pU),{bulletDirections:AU})})),UU.Kp(vU.Db,(UU=>{let{ju:pU,SS:AU,direction:XU}=UU;Fp.h.Sp("damagedByOtherPlayer",{SS:AU,direction:XU},!0)})),UU.Kp(vU.Hc,(UU=>{Fp.h.Sp("playerKilled",UU,!0)})),UU.Kp(vU.nb,(UU=>{Fp.h.Sp("customKillfeed",UU,!0)})),UU.Kp(vU.bc,(UU=>{uU.client.updateLobbyCode(UU)})),UU.Kp(vU.Rc,(UU=>{var pU,XU;let{Ej:hU,zj:jp}=UU;null===(pU=AU.entities.kT(hU))||void 0===pU||null===(XU=pU.reload)||void 0===XU||XU.call(pU,jp)})),UU.Kp(vU.Qd,(()=>{Fp.h.Sp("showShopTutorial",null,!0)})),UU.Kp(vU.Nc,(UU=>{Fp.h.Sp("progressBarUpdate",UU,!0)})),UU.Kp(vU.Kb,(UU=>{Fp.h.Sp("middleScreenBarInitiate",{duration:UU.rS,DS:UU.DS,horizBarRemOffset:UU.JS},!0)})),UU.Kp(vU.Wc,(()=>{Fp.h.Sp("middleScreenBarRemove",!0)})),UU.Kp(vU.ob,(UU=>{let{nS:pU,wS:AU}=UU;if(uU.TT(AU[0],AU[1],AU[2])){const UU=(0,yU.getBloxd)().QT(AU[0],AU[1],AU[2]);(0,yU.getBloxd)().swapDoorTypeOpenClosed(pU,AU[0],AU[1],AU[2],UU)}})),UU.Kp(vU.ke,(UU=>{let{FS:pU,iu:AU}=UU;if(uU.TT(pU[0],pU[1],pU[2])){const UU=(0,yU.getBloxd)().QT(pU[0],pU[1],pU[2]);(0,yU.getBloxd)().updateBookshelfContents(pU[0],pU[1],pU[2],UU,AU)}})),UU.Kp(vU.ne,(UU=>{let{uu:pU,Bu:AU}=UU;if(uU.TT(pU[0],pU[1],pU[2])){const UU=(0,yU.getBloxd)().QT(pU[0],pU[1],pU[2]);(0,yU.getBloxd)().updateMailboxContents(pU[0],pU[1],pU[2],UU,AU)}})),UU.Kp(vU.cb,(UU=>{let{Jj:pU,Rj:XU,oj:hU,GA:jp,Kj:SU}=UU;pU?AU.oB.uv(AU.iA).chestOpened(XU,hU,jp,SU):AU.oB.uv(AU.iA).chestClosed(),Fp.h.Sp("chestToggleFromServer",pU,!0)})),UU.Kp(vU.qb,(UU=>{let{craftingRecipeItemName:pU,recipesForItem:XU}=UU;pU?uU.craftingManager.editRecipesForPlayer(AU.iA,pU,XU):uU.craftingManager.resetAllPlayerRecipes(AU.iA),Fp.h.Sp("craftingRecipesEdited",{itemName:pU,recipesForItem:XU})})),UU.Kp(vU.re,(UU=>{let{xS:pU,qS:XU,WS:hU}=UU;(0,yU.getBloxd)().updatePositionAndPhysics(AU.iA,{type:pU,tier:XU},!0,hU)})),UU.Kp(vU.T,(UU=>{let{pose:pU,KS:XU}=UU;AU.oB.dv(AU.iA).setPose(pU,XU)})),UU.Kp(vU.Fc,(UU=>{for(const pU of UU)(0,AA.y)(pU);Fp.h.Sp("playerCosmeticsUpdated",UU,!0)})),UU.Kp(vU.s,(UU=>{for(const pU of UU)DA(AU,pU)})),UU.Kp(vU._b,(UU=>{let{Fj:pU,iS:XU,Nj:jp,Lj:SU,Ij:BU,Pj:vU,xj:TU}=UU;pU=(0,hU.p)(pU);const QU=AU.entities.getState(pU,"genericLifeform");if(QU&&(QU.lastHurtTime=Date.now()),Fp.h.Sp("lifeformHurt",{eId:pU,xj:TU}),pU===AU.iA&&(uU.addCameraShake(BU/40),Fp.h.Sp("closeShopOnDamaged",null),Fp.h.Sp("damagedByOtherPlayer",{SS:null,direction:vU},!0)),jp){const UU=AU.entities.ih(pU);(0,yA.burstBoxPSystemAtPos)(AU,yA.sprintKbParticles,[UU[0],UU[1]+1,UU[2]],15)}if(SU){const UU=AU.entities.ih(pU);(0,yA.burstBoxPSystemAtPos)(AU,yA.criticalParticles,[UU[0],UU[1]+1,UU[2]],10)}})),UU.Kp(vU.w,(UU=>{let{vu:pU,Tu:XU}=UU;(0,yU.getBloxd)().playerAttacked(AU.iA,pU,XU)})),UU.Kp(vU.V,(UU=>{for(const pU of UU)(0,AA.w)(pU)})),UU.Kp(vU.Rb,(UU=>{(0,yU.getBloxd)().client.leaveGameUnwanted({reason:UU,requiresRefresh:!1,canReconnect:!1,automaticallyReconnect:!1}),(0,eA.g)("/")})),UU.Kp(vU.Vc,(UU=>{let{YS:pU,VS:XU}=UU;AU.oB.Sv(AU.iA).removeItemName(pU,XU)})),UU.Kp(vU.wd,(UU=>{const{yT:pU,OT:XU}=(0,OA.i)([-UU[0],-UU[1],-UU[2]]);AU.camera.heading=pU,AU.camera.pitch=XU,(0,fA.j)(pU,XU);const hU=AU.oB.dv(AU.iA);hU&&(hU.heading=pU)})),UU.Kp(vU.yd,(UU=>{(0,CA.l)(AU,UU)})),UU.Kp(vU.hc,(UU=>{let{Oj:pU,fj:AU}=UU;(0,gA.cb)((()=>{console.log("Received matchmaking order from game server to game",pU),(0,eA.g)("play/".concat(null!==pU&&void 0!==pU?pU:yU.singletons.connectedGameNameWithVariation,"/").concat(null!==AU&&void 0!==AU?AU:""))}))})),UU.Kp(vU.rc,(UU=>{let{id:pU,clientParameters:AU}=UU;Fp.h.Sp("newUiRequest",{id:pU,clientParameters:AU},!0)})),UU.Kp(vU.Zc,(UU=>{Fp.h.Sp("removeUiRequest",UU,!0)})),UU.Kp(vU.ie,(UU=>{let{text:pU,id:AU}=UU;lA.d.showPromptPopup({title:pU,confirmText:"general:yes",cancelText:"general:no",unlockPointerKey:"uiRequestPopup"}).getResult().then((UU=>{(0,hU.nc)(vU.Xh,{Np:AU,Lp:UU,Ip:5})}))})),UU.Kp(vU.tb,(UU=>{let{RA:pU,oA:AU,KA:XU,tS:jp,bS:SU,Uu:uU}=UU;pU=(0,hU.p)(pU),(0,yU.getBloxd)().client.updateEffect(pU,AU,{displayName:XU,icon:jp,duration:SU,level:uU})})),UU.Kp(vU.Sc,(UU=>{let{RA:pU,oA:AU}=UU;pU=(0,hU.p)(pU),(0,yU.getBloxd)().client.removeEffect(pU,AU)})),UU.Kp(vU.Ob,(UU=>{AU.oB.dv(AU.iA).jumpMultiplier.setMultiplierType("jumpEffectAmount",UU)})),UU.Kp(vU.Ud,(UU=>{AU.oB.dv(AU.iA).speedMultiplier.setMultiplierType("slownessEffectAmount",UU)})),UU.Kp(vU.Wd,(UU=>{AU.oB.dv(AU.iA).speedMultiplier.setMultiplierType("speedEffectAmount",UU)})),UU.Kp(vU.ee,(UU=>{Fp.h.Sp("ttbEffectMultiplier",UU)})),(0,hU.Tb)((()=>{AU.oB.dv(AU.iA).speedMultiplier.setMultiplierType("speedEffectAmount",1),AU.oB.dv(AU.iA).jumpMultiplier.setMultiplierType("jumpEffectAmount",1),AU.oB.dv(AU.iA).speedMultiplier.setMultiplierType("slownessEffectAmount",1)})),UU.Kp(vU.oc,(UU=>{if(mX=(0,hU.l)(UU),!(0,MA.r)(mX.hideDist)){const UU=[];for(let AU=0;AU<3;AU++)UU.push((0,nA.t)(mX.pos1[AU],mX.pos2[AU],.5));const pU=AU.oB.ih(AU.iA),XU=mX.hideDist*mX.hideDist;if(uA().sqrDist(pU,UU)>XU)return}uU.client.meshCreator.newSingleBurstParticleSystem(mX)})),UU.Kp(vU.Dc,(UU=>{var pU,AU;let{pu:XU,soundVolume:hU,Au:jp,Xu:SU}=UU,{jB:uU,Su:BU}=null!==SU&&void 0!==SU?SU:{};const{hu:vU}=null!==SU&&void 0!==SU?SU:{};uU=null!==(pU=uU)&&void 0!==pU?pU:void 0,BU=null!==(AU=BU)&&void 0!==AU?AU:void 0,wA.b.play((0,kX.e)(XU),hU,vU,uU,BU).rate(jp)})),UU.Kp(vU.sd,(UU=>{let{pos:pU,data:AU}=UU;uU.blockDataOwner.setBlockData(pU[0],pU[1],pU[2],AU),uU.blockAdded(pU[0],pU[1],pU[2],uU.QT(pU[0],pU[1],pU[2]))})),UU.Kp(vU.vc,(UU=>{let{info:pU}=UU;Fp.h.Sp("overShopInfo",pU,!0)})),UU.Kp(vU.zb,(UU=>{let{TS:XU,QS:hU}=UU;pU.openShop(AU.iA,XU,hU)})),UU.Kp(vU.o,(UU=>{const pU=AU.entities.tv(AU.iA),XU=AU.oB.Hv(AU.iA),hU=AU.oB.dv(AU.iA);if(AU.entities.tv(AU.iA).applyImpulse(UU),XU){const jp=BA.k[XU.vehicle.type];jp.applyImpulse&&jp.applyImpulse(AU,XU,hU,pU,UU)}})),UU.Kp(vU.Md,(UU=>{const pU=AU.oB.Hv(AU.iA),XU=AU.oB.dv(AU.iA),hU=BA.k[pU.vehicle.type],jp=AU.entities.tv(AU.iA);hU.setVelocity&&hU.setVelocity(pU,XU,jp,UU),uA().set(jp._forces,0,0,0),uA().set(jp._impulses,0,0,0),uA().bU(jp.bv,UU),AU.entities.tv(AU.iA).UT()})),UU.Kp(vU.cc,(UU=>{console.error("[logErrorToConsole]: ".concat(UU))})),UU.Kp(vU.yb,(UU=>{let{gS:pU,MS:AU}=UU;Fp.h.Sp("flyingMiddleMessage",{content:(0,vU.i)(pU),MS:AU},!0)})),UU.Kp(vU.Ab,(UU=>{let{messageType:pU,data:AU}=UU;if(pU.startsWith("Plugin")){let UU=yU.singletons.connectedWebsocketUrl;UU=UU.replace("wss://","https://"),UU=UU.replace("ws://","http://");let hU=!1;const jp=async(pU,AU)=>{if(hU)return;hU=!0;const jp={gameNameWithVariation:yU.singletons.connectedGameNameWithVariation,lobbyName:yU.singletons.connectedLobbyName};return await(0,HA.v)("".concat(UU,"/schematic/").concat(pU),vU.l[pU].toBuffer((0,XU.d)((0,XU.d)({},jp),AU)),{retries:1})};"Plugin|WorldBuilder|SaveSchematic"===pU?(0,dA.x)({ownedSchematics:AU,onChosenDownload:(UU,pU)=>{jp("download-schematic",{name:UU,includeLobbyCode:pU}).then((pU=>{let{buffer:{data:AU}}=pU;const XU=TU.tU.from(AU),hU=new Blob([XU],{type:"application/octet-stream"}),jp=document.createElement("a");jp.style.display="none";const SU=window.URL.createObjectURL(hU);jp.href=SU,jp.download="".concat(UU,".bloxdschem"),jp.click(),window.URL.revokeObjectURL(SU)}))},onClose:()=>{jp("cancel",{})},onChosenEdit:(UU,pU,AU,XU)=>{jp("save-to-profile",{schematicId:UU,name:pU,description:AU,includeLobbyCode:XU})},onChosenNew:(UU,pU,AU)=>{jp("save-to-profile",{schematicId:null,name:UU,description:pU,includeLobbyCode:AU})}}):"Plugin|WorldBuilder|LoadSchematic"===pU?(0,dA.u)({ownedSchematics:AU,onChosenFile:async pU=>{const AU=TU.tU.from(await pU.arrayBuffer());await(0,HA.t)("".concat(UU,"/schematic/upload-schematic"),vU.l["upload-schematic"].toBuffer({gameNameWithVariation:yU.singletons.connectedGameNameWithVariation,lobbyName:yU.singletons.connectedLobbyName,schematic:AU}),{retries:1},HA.c.json)},onChosenPreset:UU=>{jp("load-from-profile",{schematicId:UU})},onClose:()=>{jp("cancel",{})}}):"Plugin|WorldBuilder|ListSchematics"===pU?(0,dA.q)({ownedSchematics:AU,onClose:()=>{jp("cancel",{})}}):"Plugin|WorldBuilder|ExportWorld"===pU?(0,dA.w)({schematic:AU,onClose:()=>{jp("cancel",{})}}):"Plugin|MobAiPlugin|ShowPetUi"===pU?Fp.h.Sp("showPetUi",AU):console.error("Unknown plugin message type ".concat(pU))}else uU.client.triggerGameCallback("onReceivedMessageFromServer",pU,AU)})),UU.Kp(vU.X,(()=>{var UU,pU;null===(UU=AU.entities.kT(AU.iA))||void 0===UU||null===(pU=UU.finishCharging)||void 0===pU||pU.call(UU,!1)})),UU.Kp(vU.Uc,(UU=>{let{fu:pU}=UU;uU.craftingManager.removeRecipes(AU.iA,pU),Fp.h.Sp("craftingRecipesEdited",{itemName:pU,recipesForItem:[]})})),UU.Kp(vU.pe,(UU=>{for(const pU in UU){const AU=UU[pU];if(!(0,MA.r)(uU.meshParticleSystems[pU]))for(const UU in AU){const XU=AU[UU];if((0,MA.r)(uU.meshParticleSystems[pU][UU]))continue;const hU=uU.meshParticleSystems[pU][UU];(0,MA.r)(XU.ej)||(hU.direction1._x=XU.ej[0],hU.direction1._y=XU.ej[1],hU.direction1._z=XU.ej[2]),(0,MA.r)(XU.Zj)||(hU.direction2._x=XU.Zj[0],hU.direction2._y=XU.Zj[1],hU.direction2._z=XU.Zj[2]),(0,MA.r)(XU.aj)||(hU.minSize=XU.aj),(0,MA.r)(XU.Gj)||(hU.maxSize=XU.Gj),(0,MA.r)(XU.mS)||(XU.mS&&!hU.isStarted()?hU.start():XU.mS||hU.isStopping()||hU.stop())}}})),(0,hU.Ub)((()=>{(0,aA.setFloatingYValue)(AU.oB.getState(AU.iA,"physics"),AU.oB.IB(AU.iA),null)})),UU.Kp(vU.wb,(UU=>{let{Qu:pU,yu:XU,Ou:jp}=UU;const SU=(0,hU.p)(pU);if(SU===AU.iA){var uU;const UU=AU.oB.IB(AU.iA).position;null!==(uU=jp)&&void 0!==uU||(jp=Math.floor(UU[1])-1),(0,aA.setFloatingYValue)(AU.oB.getState(AU.iA,"physics"),AU.oB.IB(AU.iA),XU?jp:null)}AU.oB.getState(SU,"floating").isFloating=XU,AU.oB.getState(SU,"floating").Ou=XU?jp:null}))}}function zA(UU,pU){for(const AU in pU)UU.hp[AU]=pU[AU];for(const AU in pU)Fp.h.Sp("serverOption|".concat(AU),pU[AU]);Fp.h.Sp("newServerOptions",pU)}function rA(UU,pU){let{taskId:AU,progress:XU}=pU;UU.hp._tasks[AU].progress=XU,zA(UU,{_tasks:UU.hp._tasks})}function DA(UU,pU){const{Hu:AU,eu:XU,lu:jp,Zu:SU,au:uU}=pU,BU=(0,hU.p)(AU),vU=UU.oB.RB(BU);if(!vU)return;const TU=vU.iT;if(null!==TU){const pU=UU.Qp.EB,hU=pU.getNamedNodeOrNull(TU,jp);if(null===hU)return void console.error("Couldn't find node ".concat(jp," on ").concat(AU," to attach mesh ").concat(XU));pU.disposeAllTransformNodes(TU,hU);for(const AU of pU.getAttachedThinObjects(TU,hU))(0,GA.isMeshAttachment)(UU,BU,AU)||pU.delete(AU);if(!XU)return;const[vU,QU,OU]=XU.split("|");if(void 0===OU||"undefined"===OU)return;const fU=JSON.parse(OU);fU.nodeName=jp,fU.eId=AU;const{mesh:CU,iT:gU}=(0,yU.getBloxd)().client.meshCreator.getEntityMesh(QU,fU,(pU=>{if("number"!==typeof pU)for(const AU of[...pU.getChildMeshes(!1)])AU.Rv=!1,UU.Qp.fT(AU)}));return gU&&(SU?pU.setPosition(gU,SU[0],SU[1],SU[2]):pU.setPosition(gU,0,0,0),uU?pU.setRotationEuler(gU,uU[0],uU[1],uU[2]):pU.setRotationEuler(gU,0,0,0),pU.attachThinObject(gU,TU,hU)),void(CU&&(SU?CU.position.gA(SU):CU.position.HB(0),uU?CU.rotation.gA(uU):CU.rotation.HB(0),pU.attachTransformNode(CU,TU,hU)))}if(!vU.mesh)return;const QU=vU.mesh.getChildren((UU=>UU.name===jp),!1);if(0===QU.length)return void console.error("Couldn't find node ".concat(jp," on ").concat(AU," to attach mesh ").concat(XU));const OU=QU[0].getChildren(),fU=UU.oB.getState(BU,"humanoidMesh");if(fU)for(const hU of OU)fU.namedNodes[hU.name]||hU.dispose();else for(const hU of OU)hU.dispose();if(!XU)return;const[CU,gU,MU]=XU.split("|");if(void 0===MU||"undefined"===MU)return;const nU=JSON.parse(MU),{mesh:wU,iT:kp}=(0,yU.getBloxd)().client.meshCreator.getEntityMesh(gU,nU,(pU=>{if("number"!==typeof pU)for(const AU of[...pU.getChildMeshes(!1)])AU.Rv=!1,UU.Qp.fT(AU)}));if(kp){const pU=UU.Qp.EB;SU?pU.setPosition(kp,SU[0],SU[1],SU[2]):pU.setPosition(kp,0,0,0),uU?pU.setRotationEuler(kp,uU[0],uU[1],uU[2]):pU.setRotationEuler(kp,0,0,0),console.error("Cannot attach thin object to transform node")}wU&&(SU?wU.position.gA(SU):wU.position.HB(0),uU?wU.rotation.gA(uU):wU.rotation.HB(0))}Fp.h.subscribe("clientTaskProgress",(UU=>{rA((0,yU.jA)(),UU)})),window.addEventListener("beforeunload",(()=>{}));var JA=AU(412);let RA=!0;function oA(){RA=!1}class KA{constructor(UU){this.gameNameWithVariation=void 0,this.lobbyName=void 0,this.colyClient=void 0,this.userContext=void 0,this.gameNameWithVariation=UU.gameNameWithVariation,this.lobbyName=UU.lobbyName,this.colyClient=UU.colyClient,this.userContext=UU.userContext}async connectToServer(UU,pU){UU.hp={},UU.Kv={[UU.iA]:{}},UU.Fp=void 0,(0,yU.getBloxd)().removeAllEntityNames(),(0,yU.getBloxd)().setEntityName(UU.iA,this.userContext.getPlayerName()),yU.singletons.connectedLobbyName=this.lobbyName,console.log("Waiting for clientConnection passed promise to resolve");const AU={cookies:(0,Np.h)(this.gameNameWithVariation),isMobile:(0,iA.K)(),generalCookies:(0,XU.d)((0,XU.d)({joinDiscord:!!QU.k.getItem("DiscordPressed"),newGo:BU.b},this.userContext.getMetricsCookies()),{},{trafficCode:pU,compliance:iA.d}),browserInfo:{ua:window.navigator.userAgent,name:(0,iA.l)(),version:(0,iA.o)(),platform:navigator.platform,platformType:(0,iA.E)(),deviceType:(0,iA.y)()},isLoggedIn:this.userContext.isLoggedIn(),lobbyName:this.lobbyName,languages:(0,hU.D)(),version:uU.e,siteUsed:JA.F,subsiteUsed:JA.K};console.log("joining server with game",this.gameNameWithVariation,"lobbyName",this.lobbyName);let jp=this.gameNameWithVariation;if((0,UA.ab)(this.gameNameWithVariation)){const UU=(0,UA.Jb)(this.gameNameWithVariation);(0,hU.ub)(UU)&&(AU.lobbyName="".concat(UU,"|").concat(this.lobbyName),jp="classic_".concat(SU.g))}const vU=this.colyClient.joinOrCreate(jp,AU);return Fp.h.Sp("loadingScreenState","loadingPage:joiningLobby"),await vU.then((UU=>{const pU=new CU(UU),AU=pU.send,XU=pU.Kp,jp=pU.lv.send,SU=pU.lv.Kp,uU=pU.Gv,BU=setInterval((()=>{AU===pU.send&&XU===pU.Kp&&jp===pU.lv.send&&SU===pU.lv.Kp&&uU===pU.Gv||oA()}),1e4);return(0,hU.Tb)((()=>{clearInterval(BU)})),{success:!0,successDetails:pU}})).catch((pU=>{UU.Tv("Failed to connect to bloxd room, check your internet connection. lobbyName: ".concat(this.lobbyName,", gameNameWithVariation: ").concat(this.gameNameWithVariation," code: ").concat(pU.code,"\n"),pU);const AU=pU.code;return{success:!1,failDetails:this.onConnectionToServerLost(AU,pU.message)}}))}setupServerListeners(UU,pU,AU){Fp.h.Sp("loadingScreenState","loadingPage:loadingPlayerInfo");const XU=new EA(this.gameNameWithVariation,pU,UU);XU.setupStateReplicationHandlers();const SU=pU.Ev();XU.setupOnMessageListeners(SU,AU),(0,hU.Qb)(SU,pU),SU.finishRegistration(),pU.lv.onLeave((pU=>{var AU;if(pU===jp.c.gameOrPluginKick.code)return;console.log("Left room with code ".concat(pU)),UU.Tv("Kicked from server with code ".concat(pU),new Error);const XU=this.onConnectionToServerLost(pU);(0,yU.getBloxd)().client.leaveGameUnwanted({reason:"You have disconnected from the server.\n".concat(XU.reason),canReconnect:XU.canReconnect,requiresRefresh:XU.requiresRefresh,automaticallyReconnect:null!==(AU=XU.automaticallyReconnect)&&void 0!==AU&&AU}),(0,eA.g)("/")}))}onConnectionToServerLost(UU,pU){var AU;if(null!==(AU=pU)&&void 0!==AU&&AU.endsWith(jp.p)&&(this.userContext.invalidateTrafficCode(),pU=pU.replace(jp.p,"")),UU===jp.c.outdatedVersion.code)return console.error("Outdated client with version ",uU.e,", refreshing page"),(0,Np.w)(),{reason:"Outdated client",requiresRefresh:!0,canReconnect:!1};if(UU===jp.c.loadRecaptchaError.code)return console.error("Load recaptcha error, refreshing page"),(0,Np.w)(),{reason:"Failed to load recaptcha",requiresRefresh:!0,canReconnect:!1};for(const XU in jp.c){const{code:AU,text:hU,canReconnect:SU}=jp.c[XU];if(AU===UU){console.log("matched known error",UU,"leaving game");return{reason:""===hU?pU:hU,requiresRefresh:!1,canReconnect:SU,automaticallyReconnect:AU===jp.c.customGameUpdated.code||AU===jp.c.duplicateLobbyNameError.code}}}return console.log("Didn't match known error, leaving game"),{reason:"Either your internet isn't working or this is a bug.\nCode: ".concat(UU),requiresRefresh:!1,canReconnect:!1}}}},16649:(UU,pU,AU)=>{"use strict";AU.d(pU,{b:()=>uU,f:()=>yU});var XU=AU(21),hU=AU(604),jp=AU(125),SU=AU(98);const uU=["Dirt","Grass Block","Pine Grass Block","Jungle Grass Block","Sand","Red Sand","Clay","Snow","Ice","Maple Log","Maple Wood Planks","Stone","Messy Stone","Smooth Stone","Diorite","Smooth Diorite","Andesite","Smooth Andesite","Granite","Smooth Granite","Sandstone","Red Sandstone","Coal Ore","Iron Ore","Gold Ore","Diamond Ore","Moonstone Ore","Block of Coal","Block of Iron","Block of Gold","Block of Diamond","Block of Moonstone","Workbench","Artisan Bench","Potion Table","Furnace","Chest","Iron Chest","Moonstone Chest","Maple Door","Maple Trapdoor","Maple Ladder","Iron Ladder","Vines","Dangling Rope","Dangling Vine","Baked Clay","Maple Leaves","Fruity Maple Leaves","Tilled Soil","Rocky Dirt","Messy Dirt","Bread Block","Apple Block","Plum Block","Coconut Block","Pear Block","Cherry Block","Red Mushroom Block","Brown Mushroom Block","Banana Block","Melon","Watermelon","Pumpkin","Carved Pumpkin","Jack o'Lantern","Corn Block","Chili Pepper Block","Mango Block","Carrot Block","Potato Block","Beetroot Block","Glass","Bricks","Stone Bricks","Engraved Stone","Mossy Stone Bricks","Cracked Stone Bricks","Carved Messy Stone","Mossy Messy Stone","Snowy Messy Stone","Packed Snow","Compressed Messy Stone","Extra Compressed Messy Stone","Super Compressed Messy Stone","Hyper Compressed Messy Stone","Ultra Compressed Messy Stone","Mega Compressed Messy Stone","Smooth Sandstone","Engraved Sandstone","Marked Sandstone","Sandstone Bricks","Smooth Red Sandstone","Engraved Red Sandstone","Marked Red Sandstone","Red Sandstone Bricks","Engraved Diorite","Diorite Bricks","Engraved Andesite","Andesite Bricks","Engraved Granite","Granite Bricks","Ice Bricks","Dark Red Stone","Dark Red Brick","Magma","Obsidian","Moonstone Explosive","Golden Decoration","Fireball","Iceball","Bedrock","Pine Log","Plum Log","Cedar Log","Aspen Log","Jungle Log","Palm Log","Pear Log","Cherry Log","Spectral Log","Mango Log","Pine Wood Planks","Plum Wood Planks","Cedar Wood Planks","Aspen Wood Planks","Jungle Wood Planks","Palm Wood Planks","Pear Wood Planks","Cherry Wood Planks","Spectral Wood Planks","Mango Wood Planks","Barkless Maple Log","Barkless Pine Log","Barkless Plum Log","Barkless Cedar Log","Barkless Aspen Log","Barkless Jungle Log","Barkless Palm Log","Barkless Pear Log","Barkless Cherry Log","Barkless Spectral Log","Barkless Mango Log","Pine Leaves","Pine Cone Leaves","Plum Leaves","Fruity Plum Leaves","Cedar Leaves","Aspen Leaves","Jungle Leaves","Palm Leaves","Fruity Palm Leaves","Pear Leaves","Fruity Pear Leaves","Cherry Leaves","Fruity Cherry Leaves","Spectral Leaves","Mango Leaves","Fruity Mango Leaves","Autumn Maple Leaves","Autumn Aspen Leaves","Fallen Cherry Leaves","Fallen Maple Leaves","Board","Pine Door","Plum Door","Cedar Door","Aspen Door","Jungle Door","Palm Door","Pear Door","Cherry Door","Spectral Door","Mango Door","Pine Trapdoor","Plum Trapdoor","Cedar Trapdoor","Aspen Trapdoor","Jungle Trapdoor","Palm Trapdoor","Pear Trapdoor","Cherry Trapdoor","Spectral Trapdoor","Mango Trapdoor","Pine Ladder","Plum Ladder","Cedar Ladder","Aspen Ladder","Jungle Ladder","Palm Ladder","Pear Ladder","Cherry Ladder","Spectral Ladder","Mango Ladder","Fat Red Mushroom","Fat Brown Mushroom","Fat Cactus","Dry Fat Cactus","Cactus","Grass","Tall Grass","Pine Grass","Pine Fern","Fallen Pine Cone","Pine Cone Block","Jungle Tall Grass","Catnip","Autumn Fern","Spectral Grass","Bone Block","Leather Block","Wheat Seeds","Banana Seeds","Melon Seeds","Watermelon Seeds","Pumpkin Seeds","Cotton Seeds","Corn Seeds","Chili Pepper Seeds","Carrot Seeds","Potato Seeds","Beetroot Seeds","Rice","Wheat","Dandelion","Poppy","Red Tulip","Pink Tulip","White Tulip","Orange Tulip","Daisy","Bluebell","Forget-me-not","Allium","Shadow Rose","Maple Sapling","Pine Sapling","Plum Sapling","Cedar Sapling","Aspen Sapling","Jungle Sapling","Palm Sapling","Pear Sapling","Cherry Sapling","Spectral Sapling","Mango Sapling","White Planks","Orange Planks","Magenta Planks","Light Blue Planks","Yellow Planks","Lime Planks","Pink Planks","Gray Planks","Light Gray Planks","Cyan Planks","Purple Planks","Blue Planks","Brown Planks","Green Planks","Red Planks","Black Planks","White Banner","Orange Banner","Magenta Banner","Light Blue Banner","Yellow Banner","Lime Banner","Pink Banner","Gray Banner","Light Gray Banner","Cyan Banner","Purple Banner","Blue Banner","Brown Banner","Green Banner","Red Banner","Black Banner","White Portal","Orange Portal","Magenta Portal","Light Blue Portal","Yellow Portal","Lime Portal","Pink Portal","Gray Portal","Light Gray Portal","Cyan Portal","Purple Portal","Blue Portal","Brown Portal","Green Portal","Red Portal","Black Portal","Draugr Banner","Leaf Bed","White Bed","Orange Bed","Magenta Bed","Light Blue Bed","Yellow Bed","Lime Bed","Pink Bed","Gray Bed","Light Gray Bed","Cyan Bed","Purple Bed","Blue Bed","Brown Bed","Green Bed","Red Bed","Black Bed","White Strongbed","Orange Strongbed","Magenta Strongbed","Light Blue Strongbed","Yellow Strongbed","Lime Strongbed","Pink Strongbed","Gray Strongbed","Light Gray Strongbed","Cyan Strongbed","Purple Strongbed","Blue Strongbed","Brown Strongbed","Green Strongbed","Red Strongbed","Black Strongbed","Green Wool","White Wool","Light Gray Wool","Gray Wool","Black Wool","Brown Wool","Red Wool","Orange Wool","Yellow Wool","Lime Wool","Cyan Wool","Light Blue Wool","Blue Wool","Purple Wool","Magenta Wool","Pink Wool","White Concrete","Orange Concrete","Magenta Concrete","Light Blue Concrete","Yellow Concrete","Lime Concrete","Pink Concrete","Gray Concrete","Light Gray Concrete","Cyan Concrete","Purple Concrete","Blue Concrete","Brown Concrete","Green Concrete","Red Concrete","Black Concrete","White Concrete Slab","Orange Concrete Slab","Magenta Concrete Slab","Light Blue Concrete Slab","Yellow Concrete Slab","Lime Concrete Slab","Pink Concrete Slab","Gray Concrete Slab","Light Gray Concrete Slab","Cyan Concrete Slab","Purple Concrete Slab","Blue Concrete Slab","Brown Concrete Slab","Green Concrete Slab","Red Concrete Slab","Black Concrete Slab","Chalk","White Chalk","Orange Chalk","Magenta Chalk","Light Blue Chalk","Yellow Chalk","Lime Chalk","Pink Chalk","Gray Chalk","Light Gray Chalk","Cyan Chalk","Purple Chalk","Blue Chalk","Brown Chalk","Green Chalk","Red Chalk","Black Chalk","White Chalk Slab","Orange Chalk Slab","Magenta Chalk Slab","Light Blue Chalk Slab","Yellow Chalk Slab","Lime Chalk Slab","Pink Chalk Slab","Gray Chalk Slab","Light Gray Chalk Slab","Cyan Chalk Slab","Purple Chalk Slab","Blue Chalk Slab","Brown Chalk Slab","Green Chalk Slab","Red Chalk Slab","Black Chalk Slab","White Chalk Bricks","Orange Chalk Bricks","Magenta Chalk Bricks","Light Blue Chalk Bricks","Yellow Chalk Bricks","Lime Chalk Bricks","Pink Chalk Bricks","Gray Chalk Bricks","Light Gray Chalk Bricks","Cyan Chalk Bricks","Purple Chalk Bricks","Blue Chalk Bricks","Brown Chalk Bricks","Green Chalk Bricks","Red Chalk Bricks","Black Chalk Bricks","White Chalk Bricks Slab","Orange Chalk Bricks Slab","Magenta Chalk Bricks Slab","Light Blue Chalk Bricks Slab","Yellow Chalk Bricks Slab","Lime Chalk Bricks Slab","Pink Chalk Bricks Slab","Gray Chalk Bricks Slab","Light Gray Chalk Bricks Slab","Cyan Chalk Bricks Slab","Purple Chalk Bricks Slab","Blue Chalk Bricks Slab","Brown Chalk Bricks Slab","Green Chalk Bricks Slab","Red Chalk Bricks Slab","Black Chalk Bricks Slab","Green Glass","White Glass","Light Gray Glass","Gray Glass","Black Glass","Brown Glass","Red Glass","Orange Glass","Yellow Glass","Lime Glass","Cyan Glass","Light Blue Glass","Blue Glass","Purple Glass","Magenta Glass","Pink Glass","Patterned Green Glass","Patterned White Glass","Patterned Light Gray Glass","Patterned Gray Glass","Patterned Black Glass","Patterned Brown Glass","Patterned Red Glass","Patterned Orange Glass","Patterned Yellow Glass","Patterned Lime Glass","Patterned Cyan Glass","Patterned Light Blue Glass","Patterned Blue Glass","Patterned Purple Glass","Patterned Magenta Glass","Patterned Pink Glass","Black Carpet","Blue Carpet","Brown Carpet","Cyan Carpet","Gray Carpet","Light Gray Carpet","Green Carpet","Light Blue Carpet","Lime Carpet","Magenta Carpet","Orange Carpet","Pink Carpet","Purple Carpet","Red Carpet","White Carpet","Yellow Carpet","White Baked Clay","Orange Baked Clay","Magenta Baked Clay","Light Blue Baked Clay","Yellow Baked Clay","Lime Baked Clay","Pink Baked Clay","Gray Baked Clay","Light Gray Baked Clay","Cyan Baked Clay","Purple Baked Clay","Blue Baked Clay","Brown Baked Clay","Green Baked Clay","Red Baked Clay","Black Baked Clay","White Ceramic","Orange Ceramic","Magenta Ceramic","Light Blue Ceramic","Yellow Ceramic","Lime Ceramic","Pink Ceramic","Gray Ceramic","Light Gray Ceramic","Cyan Ceramic","Purple Ceramic","Blue Ceramic","Brown Ceramic","Green Ceramic","Red Ceramic","Black Ceramic","Maple Slab","Pine Slab","Plum Slab","Cedar Slab","Aspen Slab","Jungle Slab","Palm Slab","Pear Slab","Cherry Slab","Spectral Slab","Mango Slab","Dirt Slab","Grass Slab","Pine Grass Slab","Jungle Grass Slab","Messy Stone Slab","Stone Slab","Smooth Stone Slab","Engraved Stone Slab","Stone Bricks Slab","Mossy Stone Slab","Mossy Stone Bricks Slab","Snowy Stone Slab","Andesite Slab","Smooth Andesite Slab","Engraved Andesite Slab","Andesite Bricks Slab","Diorite Slab","Smooth Diorite Slab","Engraved Diorite Slab","Diorite Bricks Slab","Granite Slab","Smooth Granite Slab","Engraved Granite Slab","Granite Bricks Slab","Sandstone Slab","Smooth Sandstone Slab","Engraved Sandstone Slab","Marked Sandstone Slab","Sandstone Bricks Slab","Red Sandstone Slab","Smooth Red Sandstone Slab","Engraved Red Sandstone Slab","Marked Red Sandstone Slab","Red Sandstone Bricks Slab","Bricks Slab","Ice Bricks Slab","Shears","Stick","Net","Cobweb","Coal","Raw Iron","Iron Bar","Iron Fragment","Raw Gold","Gold Bar","Gold Fragment","Diamond","Diamond Fragment","Moonstone","Moonstone Fragment","Gold Coin","Bucket","Water Bucket","Lava Bucket","Boat","Obsidian Boat","Wood Hang Glider","Iron Hang Glider","Gold Hang Glider","Diamond Hang Glider","Bread","Apple","Plum","Pear","Cherry","Banana","Melon Slice","Watermelon Slice","Gold Melon Slice","Gold Watermelon Slice","Pumpkin Pie","Corn","Chili Pepper","Mango","Carrot","Raw Potato","Baked Potato","Beetroot","Cranberries","Red Mushroom","Brown Mushroom","Cotton","Bowl","Bowl of Rice","Bowl of Cranberries","Mushroom Soup","Raw Porkchop","Cooked Porkchop","Raw Beef","Steak","Raw Mutton","Cooked Mutton","Raw Venison","Cooked Venison","Rotten Flesh","Rotten Brain","Bone","Bone Meal","Bone Antlers","Gold Antlers","Fur","Leather","Saddle","Spirit Saddle","Knight Heart","Golem Eye","Mob Catcher",...Object.keys(OU()),...Object.keys(fU()),"Empty Spawner Block","Name Tag","Book","Bookshelf","Empty Bookshelf","Mailbox","Empty Bottle","Water Bottle","Milk Potion","Poison Potion","Poison Potion II","Slowness Potion","Slowness Potion II","Weakness Potion","Weakness Potion II","Instant Damage Potion","Instant Damage Potion II","Invisibility Potion","Jump Potion","Jump Potion II","Speed Potion","Speed Potion II","Strength Potion","Strength Potion II","Defense Potion","Defense Potion II","Regeneration Potion","Regeneration Potion II","Instant Healing Potion","Instant Healing Potion II","Haste Potion","Haste Potion II","Shield Potion","Shield Potion II","Double Jump Potion","Heat Resistance Potion","X-Ray Vision Potion","Mining Yield Potion","Mining Yield Potion II","Brain Rot Potion","Knockback Potion","Splash Speed Potion","Splash Speed Potion II","Splash Strength Potion","Splash Strength Potion II","Splash Defense Potion","Splash Defense Potion II","Splash Invisibility Potion","Splash Jump Potion","Splash Jump Potion II","Splash Knockback Potion","Splash Knockback Potion II","Splash Poison Potion","Splash Poison Potion II","Splash Slowness Potion","Splash Slowness Potion II","Splash Weakness Potion","Splash Weakness Potion II","Splash Instant Damage Potion II","Splash Instant Damage Potion","Splash Instant Healing Potion","Splash Instant Healing Potion II","Splash Regeneration Potion","Splash Regeneration Potion II","Splash Haste Potion","Splash Haste Potion II","Splash Shield Potion","Splash Shield Potion II","Splash Double Jump Potion","Splash Heat Resistance Potion","Splash X-Ray Vision Potion","Splash Mining Yield Potion","Splash Mining Yield Potion II","Splash Brain Rot Potion","Splash Milk Potion","Arrow of Slowness","Arrow of Poison","Arrow of Instant Damage","Arrow of Instant Healing","Arrow of Regeneration","Arrow of Weakness","Arrow of Strength","Arrow of Defense","Arrow of Jumping","Arrow of Speed","Arrow of Knockback","Arrow of Invisibility","Arrow of Milk","Arrow of Haste","Arrow of Shield","Arrow of Double Jump","Arrow of Heat Resistance","Arrow of X-Ray Vision","Arrow of Mining Yield","Arrow of Brain Rot","Snowball","Pebble","Reinforced Pebble","Ball","Reinforced Ball","Moonstone Orb","Cracked Coconut","Coconut","Firecracker","Rainbow Firecracker","White Firecracker","Orange Firecracker","Magenta Firecracker","Light Blue Firecracker","Yellow Firecracker","Lime Firecracker","Pink Firecracker","Gray Firecracker","Light Gray Firecracker","Cyan Firecracker","Purple Firecracker","Blue Firecracker","Brown Firecracker","Green Firecracker","Red Firecracker","Black Firecracker","Firecracker Pebble","Rainbow Firecracker Pebble","White Firecracker Pebble","Orange Firecracker Pebble","Magenta Firecracker Pebble","Light Blue Firecracker Pebble","Yellow Firecracker Pebble","Lime Firecracker Pebble","Pink Firecracker Pebble","Gray Firecracker Pebble","Light Gray Firecracker Pebble","Cyan Firecracker Pebble","Purple Firecracker Pebble","Blue Firecracker Pebble","Brown Firecracker Pebble","Green Firecracker Pebble","Red Firecracker Pebble","Black Firecracker Pebble","Wood Pickaxe","Stone Pickaxe","Iron Pickaxe","Gold Pickaxe","Diamond Pickaxe","Moonstone Pickaxe","Golem Pickaxe","Wood Axe","Stone Axe","Iron Axe","Gold Axe","Diamond Axe","Moonstone Axe","Wood Spade","Stone Spade","Iron Spade","Gold Spade","Diamond Spade","Wood Sword","Stone Sword","Iron Sword","Gold Sword","Diamond Sword","Knight Sword","Wood Hoe","Stone Hoe","Iron Hoe","Gold Hoe","Diamond Hoe","Wood Spikes","Stone Spikes","Iron Spikes","Gold Spikes","Diamond Spikes","Kill Spikes","Wood Bow","Stone Bow","Iron Bow","Gold Bow","Diamond Bow","Wood Crossbow","Stone Crossbow","Iron Crossbow","Gold Crossbow","Diamond Crossbow","Arrow","Compass","Wood Helmet","Iron Helmet","Gold Helmet","Diamond Helmet","Wood Chestplate","Iron Chestplate","Gold Chestplate","Diamond Chestplate","Fur Chestplate","Wood Leggings","Iron Leggings","Gold Leggings","Diamond Leggings","Wood Boots","Iron Boots","Gold Boots","Diamond Boots","Spiked Boots","Wood Gauntlets","Iron Gauntlets","Gold Gauntlets","Diamond Gauntlets","White Wood Helmet","White Wood Chestplate","White Wood Leggings","White Wood Boots","White Wood Gauntlets","Orange Wood Helmet","Orange Wood Chestplate","Orange Wood Leggings","Orange Wood Boots","Orange Wood Gauntlets","Magenta Wood Helmet","Magenta Wood Chestplate","Magenta Wood Leggings","Magenta Wood Boots","Magenta Wood Gauntlets","Light Blue Wood Helmet","Light Blue Wood Chestplate","Light Blue Wood Leggings","Light Blue Wood Boots","Light Blue Wood Gauntlets","Yellow Wood Helmet","Yellow Wood Chestplate","Yellow Wood Leggings","Yellow Wood Boots","Yellow Wood Gauntlets","Lime Wood Helmet","Lime Wood Chestplate","Lime Wood Leggings","Lime Wood Boots","Lime Wood Gauntlets","Pink Wood Helmet","Pink Wood Chestplate","Pink Wood Leggings","Pink Wood Boots","Pink Wood Gauntlets","Gray Wood Helmet","Gray Wood Chestplate","Gray Wood Leggings","Gray Wood Boots","Gray Wood Gauntlets","Light Gray Wood Helmet","Light Gray Wood Chestplate","Light Gray Wood Leggings","Light Gray Wood Boots","Light Gray Wood Gauntlets","Cyan Wood Helmet","Cyan Wood Chestplate","Cyan Wood Leggings","Cyan Wood Boots","Cyan Wood Gauntlets","Purple Wood Helmet","Purple Wood Chestplate","Purple Wood Leggings","Purple Wood Boots","Purple Wood Gauntlets","Blue Wood Helmet","Blue Wood Chestplate","Blue Wood Leggings","Blue Wood Boots","Blue Wood Gauntlets","Brown Wood Helmet","Brown Wood Chestplate","Brown Wood Leggings","Brown Wood Boots","Brown Wood Gauntlets","Green Wood Helmet","Green Wood Chestplate","Green Wood Leggings","Green Wood Boots","Green Wood Gauntlets","Red Wood Helmet","Red Wood Chestplate","Red Wood Leggings","Red Wood Boots","Red Wood Gauntlets","Black Wood Helmet","Black Wood Chestplate","Black Wood Leggings","Black Wood Boots","Black Wood Gauntlets","Ammo","AK-47","M16","MP40","TAR-21","M1911","Double Barrel","AWP","Minigun","RPG","Super RPG","Grenade Launcher","Bouncy Bomb","Updraft","Snowdash","Moonstone Remote Explosive","Chaos Potion","Floor Creator","Protector","Tribe Protector","Code Block","Checkpoint Block","Custom Lobby Block",...hU.m,"Wood Enchanting Table","Stone Enchanting Table","Iron Enchanting Table","Gold Enchanting Table","Diamond Enchanting Table","Aura XP Fragment","Aura XP Orb","Aura XP Potion","Aura XP Potion II","Splash Aura XP Potion","Splash Aura XP Potion II","Arrow of Aura XP","Salvaging Table",(0,SU.zb)("Sheep"),(0,SU.zb)("Cow"),(0,SU.zb)("Pig"),(0,SU.zb)("Horse"),(0,SU.zb)("Wolf"),(0,SU.zb)("Deer"),(0,SU.zb)("Wildcat"),"Acorn","Acorn Jelly","Cow's Milk","Cheese","Caught Fish","Fish Fillet","Meaty Bone","Blinding Pebble","Sheep's Milk","Yoghurt Pot","Truffle","Truffle Oil","Oats","Porridge","Poop","Fertiliser"];function BU(UU){return UU}const vU=(0,XU.d)((0,XU.d)((0,XU.d)((0,XU.d)({Workbench:{altNames:["Crafting Table"]},Board:{altNames:["Sign"]},"Iron Fragment":{altNames:["Iron Nugget"]},"Gold Fragment":{altNames:["Gold Nugget"]},"Diamond Fragment":{altNames:["Diamond Nugget"]},"Moonstone Fragment":{altNames:["Moonstone Nugget"]},"Knight Sword":{altNames:["Draugr Knight Sword"]},"Baked Potato":{altNames:["Cooked Potato"]},Steak:{altNames:["Cooked Beef"]},"Raw Mutton":{altNames:["Raw Lamb"]},"Cooked Mutton":{altNames:["Cooked Lamb"]},"Gold Antlers":CU("Gold Watermelon Stag",["Gold Watermelon Stag Antlers"]),Fur:{altNames:["Bear Fur"]},"Golem Eye":{altNames:["Cave Golem Eye","Frost Golem Eye"]},"Knight Heart":{altNames:["Draugr Knight Heart"]},"Spiked Boots":{altNames:["Fur Boots"]},"Milk Potion":{altNames:["Milk Bottle"]},Dandelion:{altNames:["Yellow Flower"]},Poppy:{altNames:["Red Flower"]},"Red Tulip":{altNames:["Red Flower"]},"Pink Tulip":{altNames:["Pink Flower"]},"White Tulip":{altNames:["White Flower"]},"Orange Tulip":{altNames:["Orange Flower"]},Daisy:{altNames:["White Yellow Flower"]},Bluebell:{altNames:["Blue Flower"]},"Forget-me-not":{altNames:["Blue Flower"]},Allium:{altNames:["Purple Flower"]},"Shadow Rose":{altNames:["Black Flower"]},"Messy Stone":{altNames:["Cobblestone"]},"Carved Messy Stone":{altNames:["Carved Cobblestone"]},"Mossy Messy Stone":{altNames:["Mossy Cobblestone"]},"Snowy Messy Stone":{altNames:["Snowy Cobblestone"]},"Packed Snow":{altNames:["Compressed Snow"]},"Compressed Messy Stone":{altNames:["Compressed Cobblestone"]},"Extra Compressed Messy Stone":{altNames:["Extra Compressed Cobblestone"]},"Super Compressed Messy Stone":{altNames:["Super Compressed Cobblestone"]},"Hyper Compressed Messy Stone":{altNames:["Hyper Compressed Cobblestone"]},"Ultra Compressed Messy Stone":{altNames:["Ultra Compressed Cobblestone"]},"Mega Compressed Messy Stone":{altNames:["Mega Compressed Cobblestone"]},"Messy Stone Slab":{altNames:["Cobblestone Slab"]},"Snowy Stone Slab":{altNames:["Snowy Cobblestone Slab"]},"Gray Planks":{altNames:["Grey Planks"]},"Light Gray Planks":{altNames:["Light Grey Planks"]},"Light Gray Wool":{altNames:["Light Grey Wool"]},"Gray Wool":{altNames:["Grey Wool"]},"White Banner":{showOnlyInSearch:!0,altNames:["White Flag"]},"Orange Banner":{showOnlyInSearch:!0,altNames:["Orange Flag"]},"Magenta Banner":{showOnlyInSearch:!0,altNames:["Magenta Flag"]},"Light Blue Banner":{showOnlyInSearch:!0,altNames:["Light Blue Flag"]},"Yellow Banner":{showOnlyInSearch:!0,altNames:["Yellow Flag"]},"Lime Banner":{altNames:["Lime Flag"]},"Pink Banner":{showOnlyInSearch:!0,altNames:["Pink Flag"]},"Gray Banner":{showOnlyInSearch:!0,altNames:["Gray Flag","Grey Banner","Grey Flag"]},"Light Gray Banner":{showOnlyInSearch:!0,altNames:["Light Gray Flag","Light Grey Banner","Light Grey Flag"]},"Cyan Banner":{showOnlyInSearch:!0,altNames:["Cyan Flag"]},"Purple Banner":{showOnlyInSearch:!0,altNames:["Purple Flag"]},"Blue Banner":{showOnlyInSearch:!0,altNames:["Blue Flag"]},"Brown Banner":{showOnlyInSearch:!0,altNames:["Brown Flag"]},"Green Banner":{showOnlyInSearch:!0,altNames:["Green Flag"]},"Red Banner":{showOnlyInSearch:!0,altNames:["Red Flag"]},"Black Banner":{showOnlyInSearch:!0,altNames:["Black Flag"]},"Draugr Banner":{showOnlyInSearch:!0,altNames:["Draugr Flag"]},"Gray Baked Clay":{altNames:["Grey Baked Clay"]},"Light Gray Baked Clay":{altNames:["Light Grey Baked Clay"]},"Gray Ceramic":{altNames:["Grey Ceramic"]},"Light Gray Ceramic":{altNames:["Light Grey Ceramic"]},"Gray Glass":{altNames:["Grey Glass"]},"Light Gray Glass":{altNames:["Light Grey Glass"]},"Gray Concrete":{altNames:["Grey Concrete"]},"Light Gray Concrete":{altNames:["Light Grey Concrete"]},"White Bed":{showOnlyInSearch:!0},"Orange Bed":{showOnlyInSearch:!0},"Magenta Bed":{showOnlyInSearch:!0},"Light Blue Bed":{showOnlyInSearch:!0},"Yellow Bed":{showOnlyInSearch:!0},"Pink Bed":{showOnlyInSearch:!0},"Gray Bed":{showOnlyInSearch:!0,altNames:["Grey Bed"]},"Light Gray Bed":{showOnlyInSearch:!0,altNames:["Light Grey Bed"]},"Cyan Bed":{showOnlyInSearch:!0},"Purple Bed":{showOnlyInSearch:!0},"Blue Bed":{showOnlyInSearch:!0},"Brown Bed":{showOnlyInSearch:!0},"Green Bed":{showOnlyInSearch:!0},"Red Bed":{showOnlyInSearch:!0},"Black Bed":{showOnlyInSearch:!0},"White Strongbed":{showOnlyInSearch:!0},"Orange Strongbed":{showOnlyInSearch:!0},"Magenta Strongbed":{showOnlyInSearch:!0},"Light Blue Strongbed":{showOnlyInSearch:!0},"Yellow Strongbed":{showOnlyInSearch:!0},"Pink Strongbed":{showOnlyInSearch:!0},"Gray Strongbed":{showOnlyInSearch:!0,altNames:["Grey Strongbed"]},"Light Gray Strongbed":{showOnlyInSearch:!0,altNames:["Light Grey Strongbed"]},"Cyan Strongbed":{showOnlyInSearch:!0},"Purple Strongbed":{showOnlyInSearch:!0},"Blue Strongbed":{showOnlyInSearch:!0},"Brown Strongbed":{showOnlyInSearch:!0},"Green Strongbed":{showOnlyInSearch:!0},"Red Strongbed":{showOnlyInSearch:!0},"Black Strongbed":{showOnlyInSearch:!0},"White Concrete Slab":{showOnlyInSearch:!0},"Orange Concrete Slab":{showOnlyInSearch:!0},"Magenta Concrete Slab":{showOnlyInSearch:!0},"Light Blue Concrete Slab":{showOnlyInSearch:!0},"Yellow Concrete Slab":{showOnlyInSearch:!0},"Pink Concrete Slab":{showOnlyInSearch:!0},"Gray Concrete Slab":{showOnlyInSearch:!0,altNames:["Grey Concrete Slab"]},"Light Gray Concrete Slab":{showOnlyInSearch:!0,altNames:["Light Grey Concrete Slab"]},"Cyan Concrete Slab":{showOnlyInSearch:!0},"Purple Concrete Slab":{showOnlyInSearch:!0},"Blue Concrete Slab":{showOnlyInSearch:!0},"Brown Concrete Slab":{showOnlyInSearch:!0},"Green Concrete Slab":{showOnlyInSearch:!0},"Red Concrete Slab":{showOnlyInSearch:!0},"Black Concrete Slab":{showOnlyInSearch:!0},"Gray Chalk":{altNames:["Grey Chalk"]},"Light Gray Chalk":{altNames:["Light Grey Chalk"]},"Gray Chalk Bricks":{altNames:["Grey Chalk Bricks"]},"Light Gray Chalk Bricks":{altNames:["Light Grey Chalk Bricks"]},"White Chalk Slab":{showOnlyInSearch:!0},"Orange Chalk Slab":{showOnlyInSearch:!0},"Magenta Chalk Slab":{showOnlyInSearch:!0},"Light Blue Chalk Slab":{showOnlyInSearch:!0},"Yellow Chalk Slab":{showOnlyInSearch:!0},"Pink Chalk Slab":{showOnlyInSearch:!0},"Gray Chalk Slab":{showOnlyInSearch:!0,altNames:["Grey Chalk Slab"]},"Light Gray Chalk Slab":{showOnlyInSearch:!0,altNames:["Light Grey Chalk Slab"]},"Cyan Chalk Slab":{showOnlyInSearch:!0},"Purple Chalk Slab":{showOnlyInSearch:!0},"Blue Chalk Slab":{showOnlyInSearch:!0},"Brown Chalk Slab":{showOnlyInSearch:!0},"Green Chalk Slab":{showOnlyInSearch:!0},"Red Chalk Slab":{showOnlyInSearch:!0},"Black Chalk Slab":{showOnlyInSearch:!0},"White Chalk Bricks Slab":{showOnlyInSearch:!0},"Orange Chalk Bricks Slab":{showOnlyInSearch:!0},"Magenta Chalk Bricks Slab":{showOnlyInSearch:!0},"Light Blue Chalk Bricks Slab":{showOnlyInSearch:!0},"Yellow Chalk Bricks Slab":{showOnlyInSearch:!0},"Pink Chalk Bricks Slab":{showOnlyInSearch:!0},"Gray Chalk Bricks Slab":{showOnlyInSearch:!0,altNames:["Grey Chalk Bricks Slab"]},"Light Gray Chalk Bricks Slab":{showOnlyInSearch:!0,altNames:["Light Grey Chalk Bricks Slab"]},"Cyan Chalk Bricks Slab":{showOnlyInSearch:!0},"Purple Chalk Bricks Slab":{showOnlyInSearch:!0},"Blue Chalk Bricks Slab":{showOnlyInSearch:!0},"Brown Chalk Bricks Slab":{showOnlyInSearch:!0},"Green Chalk Bricks Slab":{showOnlyInSearch:!0},"Red Chalk Bricks Slab":{showOnlyInSearch:!0},"Black Chalk Bricks Slab":{showOnlyInSearch:!0},Firecracker:{altNames:["Firework"]},"Rainbow Firecracker":{altNames:["Rainbow Firework"]},"White Firecracker":{showOnlyInSearch:!0,altNames:["White Firework"]},"Orange Firecracker":{showOnlyInSearch:!0,altNames:["Orange Firework"]},"Magenta Firecracker":{showOnlyInSearch:!0,altNames:["Magenta Firework"]},"Light Blue Firecracker":{showOnlyInSearch:!0,altNames:["Light Blue Firework"]},"Yellow Firecracker":{showOnlyInSearch:!0,altNames:["Yellow Firework"]},"Lime Firecracker":{showOnlyInSearch:!0,altNames:["Lime Firework"]},"Pink Firecracker":{showOnlyInSearch:!0,altNames:["Pink Firework"]},"Gray Firecracker":{showOnlyInSearch:!0,altNames:["Gray Firework","Grey Firework","Grey Firecracker"]},"Light Gray Firecracker":{showOnlyInSearch:!0,altNames:["Light Gray Firework","Light Grey Firework","Light Grey Firecracker"]},"Cyan Firecracker":{showOnlyInSearch:!0,altNames:["Cyan Firework"]},"Purple Firecracker":{showOnlyInSearch:!0,altNames:["Purple Firework"]},"Blue Firecracker":{showOnlyInSearch:!0,altNames:["Blue Firework"]},"Brown Firecracker":{showOnlyInSearch:!0,altNames:["Brown Firework"]},"Green Firecracker":{showOnlyInSearch:!0,altNames:["Green Firework"]},"Red Firecracker":{showOnlyInSearch:!0,altNames:["Red Firework"]},"Black Firecracker":{showOnlyInSearch:!0,altNames:["Black Firework"]},"Firecracker Pebble":{altNames:["Firework Pebble"]},"Rainbow Firecracker Pebble":{altNames:["Rainbow Firework Pebble"]},"White Firecracker Pebble":{showOnlyInSearch:!0,altNames:["White Firework Pebble"]},"Orange Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Orange Firework Pebble"]},"Magenta Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Magenta Firework Pebble"]},"Light Blue Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Light Blue Firework Pebble"]},"Yellow Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Yellow Firework Pebble"]},"Lime Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Lime Firework Pebble"]},"Pink Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Pink Firework Pebble"]},"Gray Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Gray Firework Pebble","Grey Firework Pebble","Grey Firecracker Pebble"]},"Light Gray Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Light Gray Firework Pebble","Light Grey Firework Pebble","Light Grey Firecracker Pebble"]},"Cyan Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Cyan Firework Pebble"]},"Purple Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Purple Firework Pebble"]},"Blue Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Blue Firework Pebble"]},"Brown Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Brown Firework Pebble"]},"Green Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Green Firework Pebble"]},"Red Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Red Firework Pebble"]},"Black Firecracker Pebble":{showOnlyInSearch:!0,altNames:["Black Firework Pebble"]},"White Wood Helmet":{showOnlyInSearch:!0},"White Wood Chestplate":{showOnlyInSearch:!0},"White Wood Leggings":{showOnlyInSearch:!0},"White Wood Boots":{showOnlyInSearch:!0},"White Wood Gauntlets":{showOnlyInSearch:!0},"Orange Wood Helmet":{showOnlyInSearch:!0},"Orange Wood Chestplate":{showOnlyInSearch:!0},"Orange Wood Leggings":{showOnlyInSearch:!0},"Orange Wood Boots":{showOnlyInSearch:!0},"Orange Wood Gauntlets":{showOnlyInSearch:!0},"Magenta Wood Helmet":{showOnlyInSearch:!0},"Magenta Wood Chestplate":{showOnlyInSearch:!0},"Magenta Wood Leggings":{showOnlyInSearch:!0},"Magenta Wood Boots":{showOnlyInSearch:!0},"Magenta Wood Gauntlets":{showOnlyInSearch:!0},"Light Blue Wood Helmet":{showOnlyInSearch:!0},"Light Blue Wood Chestplate":{showOnlyInSearch:!0},"Light Blue Wood Leggings":{showOnlyInSearch:!0},"Light Blue Wood Boots":{showOnlyInSearch:!0},"Light Blue Wood Gauntlets":{showOnlyInSearch:!0},"Yellow Wood Helmet":{showOnlyInSearch:!0},"Yellow Wood Chestplate":{showOnlyInSearch:!0},"Yellow Wood Leggings":{showOnlyInSearch:!0},"Yellow Wood Boots":{showOnlyInSearch:!0},"Yellow Wood Gauntlets":{showOnlyInSearch:!0},"Lime Wood Helmet":{showOnlyInSearch:!0},"Lime Wood Chestplate":{showOnlyInSearch:!0},"Lime Wood Leggings":{showOnlyInSearch:!0},"Lime Wood Boots":{showOnlyInSearch:!0},"Lime Wood Gauntlets":{showOnlyInSearch:!0},"Pink Wood Helmet":{showOnlyInSearch:!0},"Pink Wood Chestplate":{showOnlyInSearch:!0},"Pink Wood Leggings":{showOnlyInSearch:!0},"Pink Wood Boots":{showOnlyInSearch:!0},"Pink Wood Gauntlets":{showOnlyInSearch:!0},"Gray Wood Helmet":{showOnlyInSearch:!0,altNames:["Grey Wood Helmet"]},"Gray Wood Chestplate":{showOnlyInSearch:!0,altNames:["Grey Wood Chestplate"]},"Gray Wood Leggings":{showOnlyInSearch:!0,altNames:["Grey Wood Leggings"]},"Gray Wood Boots":{showOnlyInSearch:!0,altNames:["Grey Wood Boots"]},"Gray Wood Gauntlets":{showOnlyInSearch:!0,altNames:["Grey Wood Gauntlets"]},"Light Gray Wood Helmet":{showOnlyInSearch:!0,altNames:["Light Grey Wood Helmet"]},"Light Gray Wood Chestplate":{showOnlyInSearch:!0,altNames:["Light Grey Wood Chestplate"]},"Light Gray Wood Leggings":{showOnlyInSearch:!0,altNames:["Light Grey Wood Leggings"]},"Light Gray Wood Boots":{showOnlyInSearch:!0,altNames:["Light Grey Wood Boots"]},"Light Gray Wood Gauntlets":{showOnlyInSearch:!0,altNames:["Light Grey Wood Gauntlets"]},"Cyan Wood Helmet":{showOnlyInSearch:!0},"Cyan Wood Chestplate":{showOnlyInSearch:!0},"Cyan Wood Leggings":{showOnlyInSearch:!0},"Cyan Wood Boots":{showOnlyInSearch:!0},"Cyan Wood Gauntlets":{showOnlyInSearch:!0},"Purple Wood Helmet":{showOnlyInSearch:!0},"Purple Wood Chestplate":{showOnlyInSearch:!0},"Purple Wood Leggings":{showOnlyInSearch:!0},"Purple Wood Boots":{showOnlyInSearch:!0},"Purple Wood Gauntlets":{showOnlyInSearch:!0},"Blue Wood Helmet":{showOnlyInSearch:!0},"Blue Wood Chestplate":{showOnlyInSearch:!0},"Blue Wood Leggings":{showOnlyInSearch:!0},"Blue Wood Boots":{showOnlyInSearch:!0},"Blue Wood Gauntlets":{showOnlyInSearch:!0},"Brown Wood Helmet":{showOnlyInSearch:!0},"Brown Wood Chestplate":{showOnlyInSearch:!0},"Brown Wood Leggings":{showOnlyInSearch:!0},"Brown Wood Boots":{showOnlyInSearch:!0},"Brown Wood Gauntlets":{showOnlyInSearch:!0},"Green Wood Helmet":{showOnlyInSearch:!0},"Green Wood Chestplate":{showOnlyInSearch:!0},"Green Wood Leggings":{showOnlyInSearch:!0},"Green Wood Boots":{showOnlyInSearch:!0},"Green Wood Gauntlets":{showOnlyInSearch:!0},"Red Wood Helmet":{showOnlyInSearch:!0},"Red Wood Chestplate":{showOnlyInSearch:!0},"Red Wood Leggings":{showOnlyInSearch:!0},"Red Wood Boots":{showOnlyInSearch:!0},"Red Wood Gauntlets":{showOnlyInSearch:!0},"Black Wood Helmet":{showOnlyInSearch:!0},"Black Wood Chestplate":{showOnlyInSearch:!0},"Black Wood Leggings":{showOnlyInSearch:!0},"Black Wood Boots":{showOnlyInSearch:!0},"Black Wood Gauntlets":{showOnlyInSearch:!0},Ammo:{isDisabled:BU},"AK-47":{isDisabled:BU},M16:{isDisabled:BU},MP40:{isDisabled:BU},"TAR-21":{isDisabled:BU},M1911:{isDisabled:BU},"Double Barrel":{isDisabled:BU},AWP:{isDisabled:BU},Minigun:{isDisabled:BU},RPG:{isDisabled:BU},"Super RPG":{isDisabled:BU},"Grenade Launcher":{isDisabled:BU},"Kill Spikes":{isDisabled:BU},"Code Block":{altNames:["Command Block"],showOnlyInSearch:!0,isDisabled:BU},"Custom Lobby Block":{isDisabled:BU}},Object.fromEntries(hU.m.map((UU=>[UU,{dontShowInUi:!0}])))),{},{"Mob Catcher":{altNames:["Mob Net","Catcher Net","Pet Net","Pet Catcher"]}},OU()),fU()),{},{"Empty Spawner Block":{altNames:["Empty Mob Spawner Block"],showOnlyInSearch:!0,isDisabled:function(UU){return!0}},"X-Ray Vision Potion":{altNames:["XRay Vision Potion","X Ray Vision Potion"]},"Splash X-Ray Vision Potion":{altNames:["Splash XRay Vision Potion","Splash X Ray Vision Potion"]},"Aura XP Orb":{altNames:["Experience Orb","EXP Orb","Enchanting Orb"]},"Aura XP Potion":{altNames:["Experience Potion","Enchanting Potion","Bottle of Enchanting","EXP Potion"]},"Aura XP Potion II":{altNames:["Experience Potion II","Enchanting Potion II","Bottle of Enchanting II","EXP Potion II"]},"Splash Aura XP Potion":{altNames:["Splash Experience Potion","Splash Enchanting Potion","Splash Bottle of Enchanting","Splash EXP Potion"]},"Splash Aura XP Potion II":{altNames:["Splash Experience Potion II","Splash Enchanting Potion II","Splash Bottle of Enchanting II","Splash EXP Potion II"]},"Arrow of Aura XP":{altNames:["Enchanting Arrow","EXP Arrow"]},[(0,SU.zb)("Sheep")]:{altNames:["Sheep Painting"]},[(0,SU.zb)("Cow")]:{altNames:["Cow Painting"]},[(0,SU.zb)("Pig")]:{altNames:["Pig Painting"]},[(0,SU.zb)("Horse")]:{altNames:["Horse Painting"]},[(0,SU.zb)("Wolf")]:{altNames:["Wolf Painting"]},[(0,SU.zb)("Deer")]:{altNames:["Deer Painting"]},[(0,SU.zb)("Wildcat")]:{altNames:["Wildcat Painting"]},"Cow's Milk":{altNames:["Cow Milk","Cows Milk"]},"Sheep's Milk":{altNames:["Sheep Milk","Sheeps Milk"]}});function TU(UU){var pU,AU;return null!==(pU=null===(AU=vU[UU])||void 0===AU?void 0:AU.dontShowInUi)&&void 0!==pU&&pU}function QU(UU,pU,AU){var XU,hU,jp;return null!==(XU=null===(hU=vU[UU])||void 0===hU||null===(jp=hU.isDisabled)||void 0===jp?void 0:jp.call(hU,pU))&&void 0!==XU&&XU||!AU}function yU(UU,pU,AU){const XU=UU.toLowerCase();if(""===XU)return new Array(uU.length).fill(0).map(((UU,pU)=>pU)).filter((UU=>{const pU=uU[UU];return!function(UU){var pU,AU;return null!==(pU=null===(AU=vU[UU])||void 0===AU?void 0:AU.showOnlyInSearch)&&void 0!==pU&&pU}(pU)&&!TU(pU)})).filter((UU=>{var XU;const hU=uU[UU];return!QU(hU,pU,null===(XU=AU["".concat(hU,"ShowInCreativeInven")])||void 0===XU||XU)}));let hU=[];for(let SU=0;SU<uU.length;SU++){uU[SU].toLowerCase().includes(XU.toLowerCase())&&hU.push(SU)}hU.sort(((UU,pU)=>{const AU=uU[UU].toLowerCase(),hU=uU[pU].toLowerCase();return AU.indexOf(XU)-hU.indexOf(XU)}));for(const SU in vU){var jp;const UU=null!==(jp=vU[SU].altNames)&&void 0!==jp?jp:[];for(const pU of UU)if(pU.toLowerCase().includes(XU.toLowerCase())){const UU=uU.indexOf(SU);hU.includes(UU)||hU.push(UU)}}return hU=hU.filter((UU=>{var XU;const hU=uU[UU];return!QU(hU,pU,null===(XU=AU["".concat(hU,"ShowInCreativeInven")])||void 0===XU||XU)&&!TU(hU)})),hU}function OU(){return Object.fromEntries(jp.m.map((UU=>[(0,SU.Bb)(UU),CU(UU,["Mob ".concat(UU," Spawn Egg")])])))}function fU(){return Object.fromEntries(jp.m.map((UU=>[(0,SU.Fb)(UU),CU(UU,["".concat(UU," Mob Spawner Block")])])))}function CU(UU,pU){const AU=jp.f.includes(UU);return{altNames:pU,showOnlyInSearch:AU,isDisabled:AU?BU:void 0}}},15898:(UU,pU,AU)=>{"use strict";AU.d(pU,{b:()=>OU,c:()=>SU,g:()=>uU,h:()=>jp,k:()=>CU,m:()=>TU,q:()=>vU,r:()=>fU,v:()=>BU});var XU=AU(14955),hU=AU(14977);const jp={"Tier 1":uU(240,240,240,1),"Tier 2":uU(0,255,0,.7),"Tier 3":uU(0,130,255,1),"Tier 4":uU(200,80,255,1),"Tier 5":uU(255,200,0,1),None:uU(0,0,0,0)};function SU(UU,pU,AU){return new XU.Mp(UU/255,pU/255,AU/255)}function uU(UU,pU,AU,hU){return new XU.lB(UU/255,pU/255,AU/255,hU)}function BU(UU,pU){const AU=UU.qB;pU.CT.x=-AU[0],pU.CT.y=-AU[1],pU.CT.z=-AU[2]}function vU(UU,pU){const AU=UU.maxEmitBox.x-UU.minEmitBox.x;UU.minEmitBox.x=pU[0],UU.minEmitBox.y=pU[1],UU.minEmitBox.z=pU[2],UU.maxEmitBox.x=pU[0]+AU,UU.maxEmitBox.y=pU[1]+AU,UU.maxEmitBox.z=pU[2]+AU}function TU(UU,pU,AU){UU.minEmitBox.x=pU[0],UU.minEmitBox.y=pU[1],UU.minEmitBox.z=pU[2],UU.maxEmitBox.x=AU[0],UU.maxEmitBox.y=AU[1],UU.maxEmitBox.z=AU[2]}const QU=["vape.gui.openedcombat","vape.gui.guicolor","vape.gui.openedfriends","vape.gui.combat","bloxd-funny-config"],yU=["vapemenubutton6"];let OU="c";try{for(const UU of QU)null!==localStorage.getItem(UU)&&(OU="d")}catch(gU){}setTimeout((()=>{for(const UU of yU)document.getElementById(UU)&&(OU="e")}),2e3);for(const MU of Array.from(document.body.children))"999"!==MU.style.zIndex&&"19999"!==MU.style.zIndex||(OU="f");function fU(UU,pU){UU.rotationQuaternion=null,UU.rotation.y=pU,UU.rotation._isDirty=!0}const CU=(UU,pU)=>{const AU=hU.f.UVKind,XU=UU.getVerticesData(AU),jp=UU.wB(),SU=Array.from(XU).map((()=>[!0,!0]));for(let hU=0;hU+3<=jp.length;hU+=3)for(let UU=0;UU<3;UU++){const pU=hU+UU;for(let AU=1;AU<3;AU++){const vU=hU+(UU+AU)%3;for(let UU=0;UU<2;UU++){var uU,BU;const AU=2*jp[pU]+UU,hU=2*jp[vU]+UU;(uU=SU[AU])[0]&&(uU[0]=XU[AU]>=XU[hU]),(BU=SU[AU])[1]&&(BU[1]=XU[AU]<=XU[hU])}}}for(let hU=0;hU<SU.length;hU++)if(SU[hU][0]!==SU[hU][1]){const UU=pU.length?pU[hU%2]:pU;XU[hU]+=UU*(SU[hU][0]?-1:1)}UU.setVerticesData(AU,XU)}},16628:(UU,pU,AU)=>{"use strict";AU.d(pU,{e:()=>XU});let XU=function(UU){return UU[UU.HIT_ENTITY=0]="HIT_ENTITY",UU[UU.HIT_BLOCK=1]="HIT_BLOCK",UU[UU.HIT_NOTHING=2]="HIT_NOTHING",UU}({})},16630:(UU,pU,AU)=>{"use strict";AU.d(pU,{d:()=>eU});var XU,hU,jp,SU,uU,BU,vU,TU,QU,yU=AU(21),OU=AU(149),fU=AU.n(OU),CU=AU(16628),gU=AU(1140),MU=AU(597),nU=AU(647),wU=AU(14955),kp=AU(16632),dU=AU(16388),HU=AU(15483),lU=AU(14902);class eU{constructor(UU,pU){this.jp=void 0,this._playerEId=void 0,this.jp=UU,this._playerEId=pU}getAttackBlockedPosition(UU){var pU;const AU=this.doPickAction(null!==(pU=this.jp.yv)&&void 0!==pU?pU:this.jp.camera.nv(),UU);return this._attackWasBlocked(AU)&&AU.localHitPosition&&AU.hitNormal?{localBlockedPosition:AU.localHitPosition,normal:AU.hitNormal}:null}doPickAction(UU,pU){const AU=(0,gU.getBloxd)(),XU=AU.gT(AU.getLifeformEyePos(this._playerEId,!1));if(this._playerEId===this.jp.iA&&0!==this.jp.camera.MT){const AU=fU().pB(this.jp.Qp.camera.globalPosition.x,this.jp.Qp.camera.globalPosition.y,this.jp.Qp.camera.globalPosition.z),hU=this._tryDoPick(AU,UU,pU),jp=fU().create();let SU;hU.localHitPosition?SU=hU.localHitPosition:(fU().normalize(UU,UU),SU=fU().create(),fU().AB(SU,AU,UU,1e3)),fU().fp(jp,SU,XU),fU().normalize(jp,jp);const uU=this._tryDoPick(XU,jp,pU);return(0,yU.d)((0,yU.d)({},uU),{},{thirdPersonPOVResult:hU})}return this._tryDoPick(XU,UU,pU)}getPickEntityResult(UU){const{hitResult:pU,hitEId:AU,distanceTravelled:XU,globalHitPosition:hU,hitNormal:jp,meshNodeHit:SU}=this.doPickAction(UU,3);return pU===CU.e.HIT_ENTITY?AU:null}_attackWasBlocked(UU){var pU,AU;return!(UU.localHitPosition&&null!==(pU=UU.thirdPersonPOVResult)&&void 0!==pU&&pU.localHitPosition&&this._getVectorsApproxEqual(UU.localHitPosition,UU.thirdPersonPOVResult.localHitPosition)||!(UU.localHitPosition||null!==(AU=UU.thirdPersonPOVResult)&&void 0!==AU&&AU.localHitPosition))}_tryDoPick(UU,pU,AU){const XU=this.jp.oB.RB(this._playerEId),hU=this.jp.Qp.EB,{iT:jp}=XU,SU=hU.getPickable(jp);SU&&hU.setPickable(jp,!1);try{return this._getPickResult(UU,pU,AU)}finally{SU&&hU.setPickable(jp,SU)}}_getPickResult(UU,pU,AU){const XU=this._getNoaPickResult(UU,pU,AU),hU=XU?fU().sU(UU,XU.WB):AU,{result:jp,eId:SU}=this._getBabylonPickResult(UU,pU,hU),uU=this,BU=null!==SU?fU().pB(jp.pickedPoint.x,jp.pickedPoint.y,jp.pickedPoint.z):null,vU=fU().create();null!==BU&&uU.jp.Ov(BU,vU);const TU=fU().create();return fU().scale(TU,pU,-1),null!==SU?function(){const UU=fU().pB(jp.pickedPoint.x,jp.pickedPoint.y,jp.pickedPoint.z),AU=fU().create();uU.jp.Ov(UU,AU);const XU=fU().create();return fU().scale(XU,pU,-1),{hitResult:CU.e.HIT_ENTITY,distanceTravelled:jp.distance,localHitPosition:UU,globalHitPosition:AU,hitNormal:XU,hitEId:SU,meshNodeHit:jp.pickedMesh.name}}():XU?function(){const pU=fU().create();fU().bU(pU,XU.WB);const AU=fU().create();fU().bU(AU,XU.position);const hU=fU().create();return fU().bU(hU,XU.normal),{hitResult:CU.e.HIT_BLOCK,distanceTravelled:fU().sU(UU,XU.WB),localHitPosition:pU,globalHitPosition:AU,hitNormal:hU,hitEId:null,meshNodeHit:null}}():{hitResult:CU.e.HIT_NOTHING,distanceTravelled:null,localHitPosition:null,globalHitPosition:null,hitNormal:null,hitEId:null,meshNodeHit:null}}_getBabylonPickResult(UU,pU,AU){var XU,hU,jp,SU;const uU=new lU.Op(UU[0],UU[1],UU[2]),BU=new lU.Op(pU[0],pU[1],pU[2]),vU=this.jp.Qp.yp(),TU=new dU.e(uU,BU,AU),QU=vU.pickWithRay(TU,ZU),yU=null!==(XU=null===(hU=QU.pickedMesh)||void 0===hU||null===(jp=hU.metadata)||void 0===jp?void 0:jp.eId)&&void 0!==XU?XU:null,OU=this.jp.Qp.EB.CA(uU,BU,null!==(SU=null!==QU&&void 0!==QU&&QU.hit?QU.distance:null)&&void 0!==SU?SU:AU);return OU||(QU.pickedMesh&&null===yU&&console.error("Picked mesh without eId:",QU.pickedMesh.name,QU),{result:QU,eId:yU})}_getNoaPickResult(UU,pU,AU){return this.jp.xB(UU,pU,AU)}_getVectorsApproxEqual(UU,pU){const AU=.15;return Math.abs(UU[0]-pU[0])<=AU&&Math.abs(UU[1]-pU[1])<=AU&&Math.abs(UU[2]-pU[2])<=AU}_visualiseRay(UU,pU,AU){const XU="rayLine";UU.meshes.filter((UU=>UU.name.startsWith(XU))).forEach((UU=>UU.dispose()));const hU=pU.origin.add(pU.direction.scale(AU)),jp=kp.d.nT(XU,{points:[pU.origin,hU]},UU);jp.color=new wU.Mp(1,0,0),jp.Rv=!1,this.jp.Qp.zB(jp)}_visualiseThinInstances(UU,pU){const AU="debugThinInstance";UU.meshes.filter((UU=>UU.name.startsWith(AU))).forEach((UU=>UU.dispose()));const XU=this.jp.Qp.EB;for(const hU of XU.thinMeshes){const pU=hU.templateMesh;if(0===pU.ZB||!hU.getPickable())continue;const XU=hU.buffers.matrix;if(XU)for(let hU=0;hU<pU.ZB;hU++){const pU=16*hU,jp=XU[pU+12],SU=XU[pU+13],uU=XU[pU+14],BU=kp.d.CreateSphere("".concat(AU,"_").concat(hU),{diameter:.2},UU);BU.position=new lU.Op(jp,SU,uU),BU.material=this._getDebugMaterial(UU,0===hU?"green":"blue"),BU.Rv=!1,this.jp.Qp.zB(BU)}}}_getDebugMaterial(UU,pU){const AU="debugMaterial_".concat(pU);let XU=UU.getMaterialByName(AU);if(!XU){switch(XU=new HU.gp(AU,UU),pU){case"green":XU.diffuseColor=new wU.Mp(0,1,0);break;case"blue":XU.diffuseColor=new wU.Mp(0,0,1);break;case"red":XU.diffuseColor=new wU.Mp(1,0,0)}XU.emissiveColor=XU.diffuseColor}return XU}_visualiseBoundingBoxes(UU){const pU="debugBoundingBox";UU.meshes.filter((UU=>UU.name.startsWith(pU))).forEach((UU=>UU.dispose()));const AU=this.jp.Qp.EB;for(const XU of AU.thinMeshes){const AU=XU.templateMesh;if(0===AU.ZB||!XU.getPickable())continue;const hU=AU.getBoundingInfo(),jp=kp.d.CreateBox("".concat(pU,"_").concat(AU.name),{width:hU.maximum.x-hU.minimum.x,height:hU.maximum.y-hU.minimum.y,depth:hU.maximum.z-hU.minimum.z},UU);jp.position=hU.boundingBox.center,jp.material=this._getWireframeMaterial(UU),jp.Rv=!1,this.jp.Qp.zB(jp)}}_getWireframeMaterial(UU){let pU=UU.getMaterialByName("debugWireframe");return pU||(pU=new HU.gp("debugWireframe",UU),pU.wireframe=!0,pU.diffuseColor=new wU.Mp(1,0,1)),pU}}function ZU(UU){return UU.Rv&&UU.isEnabled()&&!UU.wT}const aU=["length",1,"b",0,8,3,"a",72,53,5,6,123,255,31,105,229,"undefined",220,63,"fromCodePoint",7,12,"push",231,2,65,"h",183,91,211,9,8191,88,13,14,4,52,69,95,!1,"c",227,"e","d","=",179,";"," ",139,"g",205,"f",127,128,67,47,200,203,245,"i",243,null,!0,"jA",void 0,"nc","Ub"];function GU(UU,pU=aU[1]){return Object.defineProperty(UU,aU[0],{value:pU,configurable:aU[39]}),UU}function mp(...UU){for(DU(UU[aU[0]]=aU[1],UU[aU[6]]='C?.uKcp(T>knOz],S"&3qW6JVwPY5Eef2^y)IhXR0ULQMB#b7:%Dmgst+_rA`|lF8/}9i;v$Zj4!H[GNoax=~*<@{1d',UU[aU[2]]=""+(UU[aU[3]]||""),UU[aU[5]]=UU[aU[2]].length,UU[aU[11]]=[],UU[aU[9]]=aU[3],UU[aU[10]]=aU[3],UU[-aU[8]]=-aU[1]),UU[aU[4]]=aU[3];UU[aU[4]]<UU[aU[5]];UU[aU[4]]++)if(UU[aU[7]]=UU[aU[6]].indexOf(UU[aU[2]][UU[aU[4]]]),UU[aU[7]]!==-aU[1])if(UU[-aU[8]]<aU[3])UU[-aU[8]]=UU[aU[7]];else{DU(UU[-aU[8]]+=UU[aU[7]]*aU[28],UU[aU[9]]|=UU[-aU[8]]<<UU[aU[10]],UU[aU[10]]+=(UU[-aU[8]]&aU[31])>aU[32]?aU[33]:aU[34]);do{DU(UU[aU[11]].push(UU[aU[9]]&aU[12]),UU[aU[9]]>>=aU[4],UU[aU[10]]-=aU[4])}while(UU[aU[10]]>aU[20]);UU[-aU[8]]=-aU[1]}return UU[-aU[8]]>-aU[1]&&UU[aU[11]].push((UU[aU[9]]|UU[-aU[8]]<<UU[aU[10]])&aU[12]),zU(UU[aU[11]])}function EU(UU){return typeof XU[UU]===aU[16]?XU[UU]=mp(hU[UU]):XU[UU]}function zU(...UU){return UU[aU[0]]=aU[1],typeof SU!==aU[16]&&SU?(new SU).decode(new uU(UU[aU[3]])):typeof BU!==aU[16]&&BU?BU.from(UU[aU[3]]).toString("utf-8"):QU(UU[aU[3]])}function rU(){}function DU(){DU=function(){}}DU(GU(zU),GU(mp)),DU(XU={},hU=['cQ6Kgh6IZqm50YVy`"rD&I;Dvz|WrhCQ:f(^3XC',"%$sH#:Jb!nB:8,`LEE^pc`set89gJ.","}jqkMhi#:,UooKZw.,S^U!tEy`?ZXXqy#Pzk*HPI.,<&GwqYP`i4!l[?","C`VY4`B?","(Q6(m#e4Vrqy5A?h",'R"fK`rDbY]:]r:Fh{yZ>W*5Tc86kmAQPW`Jp$N33Hg16SAsU',"s>42K7C","_]ztiZXo2`G:*om0?}E5i7].","[AEH+`R_N&.D7A(fR/|ftxW?",'p$Ve7!6#[&(zQPVyL")[W_pV+r{[pck','*w#H$NI&]WOq};jR>P#t3X"g?F:oP:7P7pcfD!HmkAov?','h_tm!t"3"&H&|K]','q$Q4"H+#[gS!LPxy9s^D(tm8Y/Kql:?I',"4B[5XbB)nA8]J]iXU/gm+Fm8GTOe&hCQb_dEbi2.?&mWQrdS,?",'sBWHD[/?4AqH)]T&_76(y0@;>"*`d:p',"cE<f>IfbW8r:KR[YLQ0j*H%0^O1v;K",'OJ6m)sXO0r`WnX1EUqR5vNaU_">Sh7EE_l3k',"6#Y2iyc@k]^u,x.&S_{:^i_?<zINsw?VxC",'p:(^NHb_r"5lBSCJe`,HN_C','$"{j(yzw8gL7f]C"zFVsB!r#/&=[H7NP;7*HTl6V<ryySurU04sKaH%&.3V',"B$<m2sJga_$9fPt5*uV^!t(?2F>sV=]","{l2s[I5ooO|o,uCE]QQ25bC","r/0e!_J?",'hJn2R|MO)`}vO,i"X7u',"riv:plqm!q:+!]YE+$pm6mtb%,$2WZ}&Cs.Y2jPm%>","i>nEe$O.","]ORK{GqIbTNw4:1Sl0gk0:ve_r`okhoynE$5.`1Up","qE^sCtc3S&]!5K]Y4hfm6mh_:F5","Zs~c+Nle;rZ[jKXVti[5S=|EyFlKOu)hNh=TPHmr(","xye5ej<#u_Rm;Z8J#_p(0bC","tqbjB|4Vwr;}2AC&50RH~%$F$zQ","hDqtFy3(o_~wrhr54i~(&;*U0qI(1oSR=wweSHKIA/!oj;If","809gE*Azl,","ifNj[%ymys~Eoun","8u,^am*_7}M5RPLf","5#fsk`aEs8}Ad;k","3E^s;tJ3BWuhf.EIQOUex%b).Or2?","gDVDoHugp","Ks32igcw93KN>|8I4Axg?a~o<8S/?","k0^e>t}r4/F(C,5)Jp.",'tlweqm4rn/{3FX)"7>l(B));lT<,Q]{Etl92]',"W4n2^o/ENgD","N+@>>Icw1lA)L|O","x]O[kX8V(kOqUK",'HBDkSmaESO8v{uWYKP)EbDt?Z"/2g7BRz$=2Y','A$`gza(z,,AKszZfVs5fo4nw|lJ"N.JU>iI(',"$ltsg~K&PlmV5u2J)Q]HDvl&sz3y#wtE(FV^/ae&N,>p?","$Dzt~%=z/>.^[Ik","9l6K@%,?",'Xi!caaL#xOJfhZQXAiVs*mjE,`49Y%"qYiv$ARN(rqYDXwFI',"7/#Ko4M#]&_",'[/j2^*+ruOZ2l:_)*BwD!aCL^_H`V=5e8jE(/IZ&"&dc/VzX^ht5x=p8Y")',"60w!6$)!p",'&sR5}~Ebm8]NwcoY"`VjVm$Uy_aEQ.',"jl%ZNt;JMn8}rwTf!/Ak):dVbT!E`Yg)Py#(M+iem8L(M=pX6?","iLwYX*,Urq",'HJw!"a[z)8`W?~9"','GvCe]a9J"}@4!]FL}"$>','u}ct[Bha.s<EgZ_5C)IEIoOTZzpSec[RuJ|(4adm=Ox&5$)"dgHED+!U(',"0/H%h0Hrr]*++YkX$pyDz;~4K",'=jA2*H3UVrEk@X!3L_AEk`hb"_8&AX|)fpD[**?3^F)NtYgyaDopI*6.',"Z7OkdH?UK>jjQYD0dq6($gI4=>6xfx1J;p(HpykTF&AoN.LfO_J>6;FEl&","7h=2O<^aTr9&gK","F7GjJX^_D_%Hvvz","WEG5ql(?",'2J3Z/`Gm!TT>u%"q%7tjn<vOC_J/(%]',"0lReDFYU^FxTwK307O+pN_,b!+9FJ]T3&?","/iojtr_?",'rqlK84*_m3C^vaeLf,(m[_"E^Ohj3YhVY$]>',"*RH4Ayca}sGKCY>w,#LY|`|?~zPl0bZXXE(^l#gb_lRHC","?FeKE|b!:F$,5u5JsDWtmvh)_q@Ie|{y!/}2H%5.","5#$p*$=)C,rAou","b/`494c?wq,qpadSgJAE^GU)9si)f%fha7%TjteIL]U","RuFH2G+#.O_",'H+{:sgDUQ"toMApVdL"pqlmmwrtHO,Y5TEu',"xALDZ4_E/FqHn,3yj/P2u7,3|Aov]caYU/M4u4;;Q/]i*o.VM_TGE",";L?s9g].C>]/uXR&~LJ5^A9z#&lnwKpVgsL24are`l5HuRH3y,!T7~KTK","+AX:|[b(G&8AJX$wyO+:zt^UM]+ms|Uf6EeH@bJbE&%n?","XQ(^Ay8<h3FmQv>387EkM!1;*3o+W`^ha/|HB[XOi87}fP1JC`8sTN3?","lJ|4`r`#fF5HnbPEw`Bmz",";Bk2$l}4q8=94;rEkJjDv;v&lARjk.)&","%ftmh0h).swz8ufhFs>Yi`mm:,n|FXV5eE/p;N6.",'0h:Yw_eI.OzhV="R&F:2B|3a.O&u+YO332VGQxAbAnx6BSJyah%YV=tz(',"MiEm*%}#b&ErIb;3","JsEH!tq#rq6H7,lV@/|(2mPea,<FQ][Yavu",'c2QZQ|E3izENyxOq}p@j50jD[&=F|Vhe~72YNaGyq_Jz#|J)"Q.',"O:|kvIV.a&]rjV(w]##t|gEEms+m?","Y$fsq=^;K","C4CpBiII}`1E).SY%pb>$Ndy:_TY/`HPh>?!o=D({q2yaVn","Lh;(=^hzC_/vFYs0mC","a5Q2}lNUu3RN;a5JBlCD:D!?~3","$un2;`G#?F%oISOwI_%T[tvOFF/[Wh<6aD1sdmn?$rV",'7$<>Sl4eN&soLxvV{R"s[4Rzb}4ooZOq|]=cG7L.GA^"~u#Y+/*P3',"o5bH6$0Vbg3z?","Fl)k9gS#o`7fZ,oYS#h(|y0O$8)","l5^p[IN?",'&Fsf@=RaZqawG;"qP#Rp$N]V0qq!JuyI5EGH;IWby3AW<:CIGjm[2)U(n]','v"?!2i)bx>*_AvE"#07sZale_llwNvW5XhS>}#WgK3~9kx}"bDigCyC',"Lle58Nb(F&",'d"#5kHpvX8+($]=5dRu20!nF?F"e%zN0p?',"6>@5r[>!^>{?bXSyiDEH]%J(#A~2H,S0kF9TLjm8Olzt9]}J+C",'!yb5}7")Wz9[SSM3if~4DR!Dy_&N6%|"uQz(4_~0a_4&fXsUw#r[dX.L(','{7gK"t]mUl=vuuWy9s9g+rDbU]eqiY!Xj"sH{AZeo&UH?',"w4iPSHP8l&[?uv}IB_uk","5hh(.~XOC,u!A=nwhE<m{=].","Mh{pp;Ab)s$)E74w5qVjm!`VEl;o_a{5^O$K",")y?![;|))3{O7YfIy4.","}DZDs#D3q_/A|Ipwl]vK;`C",'%7;PY$vrDsSe7AC&&P^Y@=+ex3x9pPZwl"6K%~Pe5Ar',"dA2!`yT<WzRyJ]hec_$K",'|0"Y%x#0&`kDoAWYJiqkNX*EAq+jqIkw!y^YV0fa2}~,V$>',"i>Gmg+LeKzf/EK",'T_HPXi*EM";&UZieNnH[j;D(z]d9/K>','ih"sw=DJ.>+vxPIX/7:DG_&8I80jt]]Y[C','$"<$PGj_$rYz"Zz',"%/tjzt4#Tt.s,]WUs/zkqAUa,F82_7g5#ypm!;`.",'|fUYuZBF"Flj_;Z3',"gIF(KbY)","%%>NfR`4","b{o=ND>4","$A1FFDJ",'tyk(^"evIkF_4xI',"k:o;9GS=","T9.iJ%>8","NhySA#x23nC>U!#WI3TV<Xl+N*uvfCHQcb[^>yI,,h~sj)W","+a1(dJd|v}L`CWLXMUgML2(#h3;<58Kjw/FoiY[dZK#G7IQ4.JorBe*,].%ZsQ]51r#h%t{3D%(","wER;ZNBC{TPosb/;&DXQiY~>+)cV8|<4y8},D","/NM#725AD3Wk~k1jryP[12!,}gE`@BetY^v#|","D/gQ]t~>D%$!xUNEn`hSA`FIYdwVCWS3<8},=","NhrhbLGcc&{?;!Q3U*=QA`%c#3UVCW;Kf8=QD","qZ=QcXEA@h!J%Nn+zbHp~9E?<laG5W;K~8z","k}[k0m7Z","COwe%.nZ","HP<toc2","{EcNi","0MK34J9Z","=WK.h","]&;(N4$?"]),DU(jp=function(...UU){DU(UU[aU[0]]=aU[3],UU[aU[14]]=[function(){return globalThis},function(){return global},function(){return window},function(){return new Function("return this")()}],UU[aU[2]]=aU[64],UU[-aU[13]]=[]);try{DU(UU[aU[2]]=Object,UU[-aU[13]][aU[22]]("".__proto__.constructor.name))}catch(hU){}UU:for(UU[aU[5]]=aU[3];UU[aU[5]]<UU[aU[14]][aU[0]];UU[aU[5]]++)try{for(UU[aU[2]]=UU[aU[14]][UU[aU[5]]](),UU[aU[15]]=aU[3];UU[aU[15]]<UU[-aU[13]][aU[0]];UU[aU[15]]++)if(typeof UU[aU[2]][UU[-aU[13]][UU[aU[15]]]]===aU[16])continue UU;return UU[aU[2]]}catch(hU){}return UU[aU[2]]||this}()||{},SU=jp.TextDecoder,uU=jp.Uint8Array,BU=jp.tU,vU=jp.String||String,TU=jp.Array||Array,QU=function(...UU){return DU(UU[aU[0]]=aU[3],UU[aU[23]]=new TU(aU[53]),UU[-aU[24]]=vU[aU[19]]||vU.fromCharCode,UU[aU[17]]=[]),function(pU){var AU,XU,hU,jp;for(DU(XU=void 0,hU=pU[aU[0]],UU[aU[17]][aU[0]]=aU[3]),jp=aU[3];jp<hU;)DU(XU=pU[jp++],XU<=aU[52]?AU=XU:XU<=223?AU=(XU&aU[13])<<aU[10]|pU[jp++]&aU[18]:XU<=239?AU=(15&XU)<<aU[21]|(pU[jp++]&aU[18])<<aU[10]|pU[jp++]&aU[18]:vU[aU[19]]?AU=(XU&aU[20])<<18|(pU[jp++]&aU[18])<<aU[21]|(pU[jp++]&aU[18])<<aU[10]|pU[jp++]&aU[18]:(AU=aU[18],jp+=aU[5]),UU[aU[17]][aU[22]](UU[aU[23]][AU]||(UU[aU[23]][AU]=UU[-aU[24]](AU))));return UU[aU[17]].join("")}}()),(()=>{if(aU[62]){function UU(...UU){for(DU(UU[aU[0]]=aU[1],UU[aU[1]]='3.=z;wq[NXv8)d:hS(ZL#!b^D247?]Jf,IcCpg1OuRja*+oEyYeinBm9T@_|rA6Q}H%Px`$"W&~U0F/k5sGKV{l>t<M',UU[aU[2]]=""+(UU[aU[3]]||""),UU[aU[40]]=UU[aU[2]].length,UU[aU[43]]=[],UU[aU[42]]=aU[3],UU[aU[10]]=aU[3],UU[-aU[41]]=-aU[1]),UU[aU[4]]=aU[3];UU[aU[4]]<UU[aU[40]];UU[aU[4]]++)if(UU[aU[30]]=UU[aU[1]].indexOf(UU[aU[2]][UU[aU[4]]]),UU[aU[30]]!==-aU[1])if(UU[-aU[41]]<aU[3])UU[-aU[41]]=UU[aU[30]];else{DU(UU[-aU[41]]+=UU[aU[30]]*aU[28],UU[aU[42]]|=UU[-aU[41]]<<UU[aU[10]],UU[aU[10]]+=(UU[-aU[41]]&aU[31])>aU[32]?aU[33]:aU[34]);do{DU(UU[aU[43]].push(UU[aU[42]]&aU[12]),UU[aU[42]]>>=aU[4],UU[aU[10]]-=aU[4])}while(UU[aU[10]]>aU[20]);UU[-aU[41]]=-aU[1]}return UU[-aU[41]]>-aU[1]&&UU[aU[43]].push((UU[aU[42]]|UU[-aU[41]]<<UU[aU[10]])&aU[12]),zU(UU[aU[43]])}function pU(...pU){return pU[aU[0]]=aU[1],typeof XU[pU[aU[3]]]===aU[16]?XU[pU[aU[3]]]=UU(hU[pU[aU[3]]]):XU[pU[aU[3]]]}function AU(...UU){DU(UU[aU[0]]=aU[3],GU((function(...UU){for(DU(UU[aU[0]]=aU[1],UU[aU[48]]=UU[aU[3]]+aU[44],UU[aU[45]]=decodeURIComponent(document.cookie),UU[aU[40]]=UU[aU[45]].split(aU[46])),UU[aU[35]]=aU[3];UU[aU[35]]<UU[aU[40]].length;UU[aU[35]]++){for(UU[aU[9]]=UU[aU[40]][UU[aU[35]]];UU[aU[9]].charAt(aU[3])==aU[47];)UU[aU[9]]=UU[aU[9]].substring(aU[1]);if(UU[aU[9]].indexOf(UU[aU[48]])==aU[3])return UU[aU[9]].substring(UU[aU[48]].length,UU[aU[9]].length)}return""})))}DU(GU(pU),GU(UU)),pU(122)in rU&&AU();let jp=aU[39];DU(setInterval(((...UU)=>{function pU(...UU){for(DU(UU[aU[0]]=aU[1],UU[aU[6]]='gv8Fihs{mBLS[5}?Cw/y>`)Dr"f~30$(x@qJe^b]#aZ<P=n_N|E*to:+UQ69!%4uc2YI1O&GTHKAdRM;lpkWz.,XVj7',UU[aU[2]]=""+(UU[aU[3]]||""),UU[aU[40]]=UU[aU[2]].length,UU[aU[43]]=[],UU[-aU[50]]=aU[3],UU[aU[51]]=aU[3],UU[aU[49]]=-aU[1]),UU[aU[4]]=aU[3];UU[aU[4]]<UU[aU[40]];UU[aU[4]]++)if(UU[aU[30]]=UU[aU[6]].indexOf(UU[aU[2]][UU[aU[4]]]),UU[aU[30]]!==-aU[1])if(UU[aU[49]]<aU[3])UU[aU[49]]=UU[aU[30]];else{DU(UU[aU[49]]+=UU[aU[30]]*aU[28],UU[-aU[50]]|=UU[aU[49]]<<UU[aU[51]],UU[aU[51]]+=(UU[aU[49]]&aU[31])>aU[32]?aU[33]:aU[34]);do{DU(UU[aU[43]].push(UU[-aU[50]]&aU[12]),UU[-aU[50]]>>=aU[4],UU[aU[51]]-=aU[4])}while(UU[aU[51]]>aU[20]);UU[aU[49]]=-aU[1]}return UU[aU[49]]>-aU[1]&&UU[aU[43]].push((UU[-aU[50]]|UU[aU[49]]<<UU[aU[51]])&aU[12]),zU(UU[aU[43]])}if(DU(UU[aU[0]]=aU[3],GU(pU)),function(UU){return typeof XU[UU]===aU[16]?XU[UU]=pU(hU[UU]):XU[UU]}(aU[11])in rU&&function(...UU){function pU(UU){var pU,AU,XU,hU,jp,SU,uU,BU='FzCrUgclh^M=/WjE43K.i5nD|8QSLw,(;9t+xbB_Yq7X1ZIAVov>%]*&G?@T!)d}O`PR2ksp[0a#HJm6N~yfue<:"{$';for(DU(pU=""+(UU||""),AU=pU.length,XU=[],hU=aU[3],jp=aU[3],SU=-aU[1]),uU=aU[3];uU<AU;uU++){var vU=BU.indexOf(pU[uU]);if(vU!==-aU[1])if(SU<aU[3])SU=vU;else{DU(SU+=vU*aU[28],hU|=SU<<jp,jp+=(SU&aU[31])>aU[32]?aU[33]:aU[34]);do{DU(XU.push(hU&aU[12]),hU>>=aU[4],jp-=aU[4])}while(jp>aU[20]);SU=-aU[1]}}return SU>-aU[1]&&XU.push((hU|SU<<jp)&aU[12]),zU(XU)}function AU(...UU){return UU[aU[0]]=aU[1],typeof XU[UU[aU[3]]]===aU[16]?XU[UU[aU[3]]]=pU(hU[UU[aU[3]]]):XU[UU[aU[3]]]}DU(UU[aU[0]]=aU[3],GU(AU)),DU(UU[aU[54]]=AU(124),UU[aU[1]]=AU(125),UU[aU[55]]=AU(126)+AU(aU[52])+AU(aU[53])+AU(129)+AU(130),UU[aU[54]].match(UU[aU[1]]+UU[aU[55]]))}(),!jp&&(0,gU[aU[63]])()){function AU(...UU){for(DU(UU[aU[0]]=aU[1],UU[-aU[58]]='2XZGCpMRkBUg}"50>*F@~!IOlQ3hi|^t7`yumLc]d(fD:E_1nN{x+ze4sH&P9=<Yjwq#W);a?V6[.KTbv/JS8r%,A$o',UU[aU[56]]=""+(UU[aU[3]]||""),UU[aU[5]]=UU[aU[56]].length,UU[aU[35]]=[],UU[aU[60]]=aU[3],UU[aU[10]]=aU[3],UU[aU[20]]=-aU[1]),UU[-aU[57]]=aU[3];UU[-aU[57]]<UU[aU[5]];UU[-aU[57]]++)if(UU[aU[59]]=UU[-aU[58]].indexOf(UU[aU[56]][UU[-aU[57]]]),UU[aU[59]]!==-aU[1])if(UU[aU[20]]<aU[3])UU[aU[20]]=UU[aU[59]];else{DU(UU[aU[20]]+=UU[aU[59]]*aU[28],UU[aU[60]]|=UU[aU[20]]<<UU[aU[10]],UU[aU[10]]+=(UU[aU[20]]&aU[31])>aU[32]?aU[33]:aU[34]);do{DU(UU[aU[35]].push(UU[aU[60]]&aU[12]),UU[aU[60]]>>=aU[4],UU[aU[10]]-=aU[4])}while(UU[aU[10]]>aU[20]);UU[aU[20]]=-aU[1]}return UU[aU[20]]>-aU[1]&&UU[aU[35]].push((UU[aU[60]]|UU[aU[20]]<<UU[aU[10]])&aU[12]),zU(UU[aU[35]])}function SU(...UU){return UU[aU[0]]=aU[1],typeof XU[UU[aU[3]]]===aU[16]?XU[UU[aU[3]]]=AU(hU[UU[aU[3]]]):XU[UU[aU[3]]]}function uU(...UU){UU[aU[0]]=aU[3]}DU(GU(SU),GU(AU)),SU(131)+"m"in rU&&uU();let BU={[SU(132)]:"3g",[SU(133)]:"1i",[SU(134)]:SU(135)+SU(136)};DU(jp=aU[62],(0,MU[aU[65]])(nU.$g,BU))}}),8257),(0,MU[aU[66]])((()=>{jp=aU[39]})))}})(),(()=>{if(aU[62]){let UU=aU[39];DU(setInterval((()=>{if(!UU&&(0,gU[aU[63]])()){let pU=aU[64];DU(UU=aU[62],(0,MU[aU[65]])(nU.ch,pU))}}),12777),(0,MU[aU[66]])((()=>{EU(137)+"Q"in rU&&function(...UU){UU[aU[0]]=aU[3]}(),UU=aU[39]})))}})()},16529:(UU,pU,AU)=>{"use strict";AU.d(pU,{d:()=>cU,f:()=>xU,j:()=>KU,m:()=>PU,n:()=>FU,o:()=>Up,r:()=>WU,t:()=>pp,x:()=>IU,y:()=>jA});var XU=AU(1815),hU=AU(550),jp=AU(16535),SU=AU(149),uU=AU.n(SU),BU=AU(597),vU=AU(16544),TU=AU(399),QU=AU(15898),yU=AU(15884),OU=AU(15881),fU=AU(16580),CU=AU(647),gU=AU(37),MU=AU(1238),nU=AU(16312),wU=AU(557),kp=AU(566),dU=AU(16584),HU=AU(1140),lU=AU(15889),eU=AU(16606),ZU=AU(98),aU=AU(14955),GU=AU(16617),mp=AU(15383),EU=AU(15565),zU=AU(16625),rU=AU(16001),DU=AU(15483),JU=AU(14877),RU=AU(15531),oU=AU(14902);function KU(UU){var pU;const AU=(0,HU.getBloxd)().QT(UU[0],UU[1],UU[2]);IU(AU,!0);const hU=(0,HU.getBloxd)().getMetaInfo(AU).rootId,jp=null===(pU=XU.default[hU].kQ)||void 0===pU||pU,SU=nU.BreakingParticles.getUniqueColoursForParticleSystem(UU);nU.blockMinedParticlePool.emit(50,{pos1:[UU[0]+.05,UU[1]+.05,UU[2]+.05],pos2:[UU[0]+.95,UU[1]+.95,UU[2]+.95],minEmitPower:jp?15:0,maxEmitPower:jp?60:0,colorGradients:SU.map((UU=>({color:UU})))}),(0,HU.getBloxd)().vT(UU[0],UU[1],UU[2],0),function(UU){(0,BU.nc)(CU.cf,{rA:0,vj:uU().bU([],UU),Tj:FU()},!0)}(UU)}let FU;const ip=["length",0,239,!1,null];function NU(){}function LU(){LU=function(){}}function IU(UU,pU){const AU=(0,yU.e)((0,lU.g)(UU,pU));OU.b.play(AU,1)}((...UU)=>{LU(UU[ip[0]]=ip[1],UU[-ip[2]]=ip[1],FU=()=>{if(UU[-ip[2]]++,5===UU[-ip[2]]){function pU(...UU){UU[ip[0]]=ip[1]}return"V3TSIpz"in NU&&pU(),UU[-ip[2]]=ip[1],"es"}return fU.h})})();const PU=function(UU,pU,AU,XU){let hU=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,jp=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},SU=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const BU=pp[XU].name;UU.oB.add([AU[0],AU[1],AU[2]],TU.g.droppedBlockSize,TU.g.droppedBlockSize,null,null,!1,!1,pU),UU.oB.Jv(pU,"autoRemoveMesh"),UU.oB.Jv(pU,"hidingMeshManager",{addMeshComponent:()=>{const{oB:AU}=UU,hU=pp[XU].getDroppedMesh((UU=>{var pU;xU(UU,null===(pU=jp.customAttributes)||void 0===pU?void 0:pU.enchantmentTier)}));hU.dB.scaleInPlace(pp[BU].droppedItemScale),AU.Jv(pU,AU.names.mesh,{mesh:hU,offset:uU().pB(0,pp[BU].droppedMeshOffset*pp[BU].droppedItemScale+.05*Math.random(),0),Lv:!1}),AU.Jv(pU,"autoRotate")},removeMeshComponent:()=>{const{oB:AU}=UU;AU.Fv(pU,AU.names.mesh),AU.Fv(pU,"autoRotate")},addShadow:!0,shadowSize:TU.g.droppedBlockSize}),UU.oB.Jv(pU,"itemState",{name:BU,typeObj:pp[BU],amount:hU,attributes:(0,eU.f)(BU,jp),Hj:SU,creationTime:Date.now()}),UU.oB.Jv(pU,"smoothToServerPos",{serverPosition:AU})};function xU(UU,pU){var AU,XU;const hU=UU.getChildren()[0];hU.instancedBuffers.aEnchantmentColour=null!==(AU=QU.h[pU])&&void 0!==AU?AU:QU.h.None,hU.instancedBuffers.aEnchantmentSpeed=null!==(XU=ZU.T[pU])&&void 0!==XU?XU:ZU.T.None}class qU{constructor(UU,pU){var AU,XU,jp,SU,uU;this.bakeInScaling=void 0,this.name=void 0,this.id=void 0,this.Cp=void 0,this.weight=void 0,this.heldItemScale=void 0,this.heldItemGlb=void 0,this.stackable=void 0,this.textureInfo=void 0,this.itemTexture=void 0,this.kQ=void 0,this.droppedMeshOffset=void 0,this.droppedMeshTypeScale=void 0,this._sourceMesh=void 0,this._sourceMeshFlipped=void 0,this._meshParents=void 0,this._meshCounter=void 0,this.onLoadMesh=void 0,this.modelFullUrl=void 0,this.modelFullUrlIsBase64=void 0,this.displayName=void 0,this.droppedItemScale=void 0,this.isCustom=!1,this.meta=void 0,this.rootMetaDesc=void 0,this.type="Item",this.chargeStages=void 0,this.requiresArrow=void 0,this.chargeTime=void 0,this.secondaryDamage=void 0,this.holdAsAiming=void 0,this.eatable=void 0,this.chargeSound=void 0,this.afterEatenItem=void 0,this.damage=void 0,this.description=void 0,this.altActionable=void 0;const BU=(0,HU.getBloxd)().eU.metadatas[UU];for(const hU in BU)this[hU]=BU[hU];this.bakeInScaling=1,this.name=UU,this.Cp=pU,this.weight=null!==(AU=BU.weight)&&void 0!==AU?AU:1,this.heldItemScale=null!==(XU=BU.heldItemScale)&&void 0!==XU?XU:1,this.stackable=null===(jp=BU.stackable)||void 0===jp||jp,this.textureInfo=BU.textureInfo,this.itemTexture=BU.itemTexture,this.kQ=null===(SU=BU.kQ)||void 0===SU||SU,this.droppedMeshOffset=TU.g.droppedBlockSize,this.droppedMeshTypeScale=TU.g.droppedBlockSize,this._sourceMesh=null,this._sourceMeshFlipped=null,this._meshParents=[],this._meshCounter=0,this.heldItemGlb=null!==(uU=BU.heldItemGlb)&&void 0!==uU?uU:UU,this.onLoadMesh=null;const vU=hU.e.getModel(this.heldItemGlb.replaceAll("|",""),wU.e.ITEM);this.modelFullUrlIsBase64=vU.type===wU.l.BASE64,this.modelFullUrl=vU.url,this._setupListeners()}_setupListeners(){this.displayName=this.name,gU.h.subscribe("serverOption|".concat(this.name,"DisplayName"),(UU=>{this.displayName=UU||this.name}));this.droppedItemScale=1,gU.h.subscribe("serverOption|droppedItemScale",(UU=>{"number"===typeof UU&&isFinite(UU)?this.droppedItemScale=UU:this.droppedItemScale=1})),(0,BU.Ub)((()=>{this.displayName=this.name,this.droppedItemScale=1}))}getDroppedMesh(){let UU=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getMesh(this.droppedMeshTypeScale,UU)}getHeldMesh(){let UU=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,pU=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getMesh(1,UU,pU)}getMesh(){let UU=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,pU=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,AU=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._sourceMesh){const XU=new RU.c("".concat(this.name,"AbstractMeshParent").concat(this._meshCounter++),this.Cp);return XU.dB=new oU.Op(UU,UU,UU),this._attachNewMeshInstanceToParent(XU,pU,AU),XU}{0===this._meshParents.length&&(this._loadMeshFirstTime(),this.preloadMetaItems());const XU=new RU.c("earlyLoaded".concat(this.name,"AbstractMeshParent").concat(this._meshParents.length),this.Cp);return XU.dB=new oU.Op(UU,UU,UU),this._meshParents.push({parent:XU,onFullyLoaded:pU,flipped:AU}),XU}}_applyEnchantmentPlugin(UU){UU.registerInstancedBuffer("aEnchantmentColour",4),UU.registerInstancedBuffer("aEnchantmentSpeed",1),UU.registerInstancedBuffer("aPosition",3),UU.registerInstancedBuffer("aOffset",3),UU.registerInstancedBuffer("aRotation",3),UU.instancedBuffers.aEnchantmentColour=(0,QU.g)(0,0,0,0),UU.instancedBuffers.aEnchantmentSpeed=1,UU.instancedBuffers.aPosition=new oU.Op(0,0,0),UU.instancedBuffers.aOffset=new oU.Op(0,0,0),UU.instancedBuffers.aRotation=new oU.Op(0,0,0)}_loadMeshFirstTime(){rU.c.ImportMeshAsync("",this.modelFullUrlIsBase64?"":this.modelFullUrl,this.modelFullUrlIsBase64?this.modelFullUrl:void 0,this.Cp,void 0,".glb").then((UU=>{try{var pU;const AU=UU.meshes.filter((UU=>UU.QB&&UU.QB.length>0));AU.forEach((UU=>{UU.overrideMaterialSideOrientation=null}));const XU=EU.b.MergeMeshes(AU,!0,!1,null,!1,!0);XU.name="".concat(this.name,"GlbModel"),XU.Rv=!1,XU.dB=new oU.Op(this.bakeInScaling,this.bakeInScaling,this.bakeInScaling),XU.bakeCurrentTransformIntoVertices(!1);for(const UU of XU.material.eB)UU.ambientColor=new aU.Mp(1.3,1.3,1.3),dU.e.applyTo(UU);null===(pU=this.onLoadMesh)||void 0===pU||pU.call(this,XU);const hU=XU.clone("".concat(this.name,"FlippedModel"));hU.material=XU.material,this._applyEnchantmentPlugin(XU),this._applyEnchantmentPlugin(hU),hU.dB=new oU.Op(1,-1,1),XU.material.freeze(),this._sourceMesh=XU,XU.YB(!1),this._sourceMeshFlipped=hU,hU.YB(!1);for(const{parent:UU,onFullyLoaded:pU,flipped:jp}of this._meshParents)UU.SU()||this._attachNewMeshInstanceToParent(UU,pU,jp);this._meshParents=[]}catch(AU){throw console.error("Error loading mesh",this.name,"\n",AU,AU.stack),AU}}))}_attachNewMeshInstanceToParent(UU,pU,AU){const XU=(AU?this._sourceMeshFlipped:this._sourceMesh).createInstance("".concat(this.name,"Model").concat(this._meshCounter++));XU.parent=UU,(0,HU.jA)().Qp.fT(XU,!1),XU.position.x=0,XU.position.y=0,XU.position.z=0,null===pU||void 0===pU||pU(UU)}preloadMetaItems(){for(const UU in(0,BU.Kb)(vU.y))if((0,HU.getBloxd)().getMetaInfo(UU).rootId===this.id&&UU!==this.name){pp[UU].getMesh().dispose()}}}const WU=250;class YU extends qU{constructor(UU,pU){super(UU,pU),this.harvestType=void 0,this.ttb=void 0,this.drops=void 0,this.modelScale=void 0,this.averageColour=void 0,this.ep=void 0,this.specialToolDrop=void 0,this.stoodOnSpeedMultiplier=void 0,this.soundType=void 0,this.customPlanesInfo=void 0,this.customModelInfo=void 0,this.blockModel=void 0,this.blockModelItem=void 0,this.rotatableOffsetAmt=void 0,this.name=UU;const AU=(0,HU.getBloxd)().eU.metadatas[UU];this.ttb=AU.ttb,this.harvestType=AU.harvestType,this.type="Block",this._setupBlockListeners()}_setupBlockListeners(){const UU=this.ttb;let pU=this.ttb,AU=!1,XU=1,hU=1;gU.h.subscribe("serverOption|creative",(UU=>{UU?(AU=!0,this.ttb=Math.min(WU,pU*XU)):(AU=!1,this.ttb=pU*XU*hU)})),gU.h.subscribe("serverOption|".concat(this.name,"Ttb"),(jp=>{pU=jp||UU,AU||(this.ttb=pU*XU*hU)})),gU.h.subscribe("serverOption|ttbMultiplier",(UU=>{XU=UU,AU||(this.ttb=pU*XU*hU)})),gU.h.subscribe("ttbEffectMultiplier",(UU=>{hU=UU,AU||(this.ttb=pU*XU*hU)})),(0,BU.Ub)((()=>{this.ttb=UU,AU=!1,pU=UU,XU=1,hU=1}))}}class VU extends YU{constructor(UU,pU){super(UU,pU),this.cuboidHeight=1,this.harvestLevel=void 0,this.meshMaterial=void 0,this.transTex=void 0,this.texturePerSide=void 0,this.unlitStandaloneMesh=void 0,this.model=void 0;const AU=XU.default[UU];this.harvestLevel=AU.harvestLevel,this.transTex=AU.transTex,this.texturePerSide=AU.texturePerSide,this.unlitStandaloneMesh=AU.unlitStandaloneMesh,this.textureInfo&&(this.meshMaterial=this.getCubeBlockMeshMaterial(pU)),this.type="CubeBlock"}getCubeBlockMeshMaterial(UU){const pU=this.name,AU=this.textureInfo;let XU;var hU;if("string"===typeof AU||"string"===typeof AU[0])XU=jp.e.getBlockAtlasMaterial(UU,this.transTex,null!==(hU=this.unlitStandaloneMesh)&&void 0!==hU&&hU);else if("number"===typeof AU[0]){XU=new DU.gp("".concat(pU,"BlockMaterial"),UU);const hU=AU;XU.diffuseColor=new aU.Mp(hU[0],hU[1],hU[2]),XU.ambientColor=new aU.Mp(1,1,1),XU.specularColor=new aU.Mp(0,0,0),void 0!==AU[3]&&(XU.fB=mp.c.MATERIAL_ALPHATEST,XU.useAlphaFromDiffuseTexture=!0,XU.alpha=hU[3]||.1),XU.freeze()}return XU}getDroppedMesh(){const UU=this.getMesh(TU.g.droppedBlockSize);return UU.rotation=new oU.Op(0,Math.PI,Math.PI),UU}getHeldMesh(){return this.getMesh(1)}getMesh(UU){let pU=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._sourceMesh||(this._sourceMesh=this._makeSourceMesh());const AU=this._sourceMesh.createInstance("".concat(this.name,"Model").concat(this._meshCounter++));return(0,HU.jA)().Qp.fT(AU,!1),AU.position=new oU.Op(0,0,0),AU.rotation=new oU.Op(0,0,0),AU.dB=new oU.Op(UU,UU,UU),null===pU||void 0===pU||pU(AU),AU}_makeSourceMesh(){const UU=.005,pU=hU.e.getImagesPerAtlas(),AU=[],SU=[];if(this.texturePerSide){if(6!==this.texturePerSide.length)throw new Error("Must have a texture for each side of block");const hU=[];for(const UU of this.texturePerSide)hU.push(XU.textureNameToIndex[this.textureInfo[UU]]);for(const XU of[5,4,1,0,3,2]){pU.length>1&&jp.e.tu()?AU.push(new oU.Vector4(0,.005,1,.995)):AU.push(new oU.Vector4(0,(hU[XU]+0+UU)/pU[0],1,(hU[XU]+1-UU)/pU[0]));for(let UU=0;UU<4;UU++)SU.push(hU[XU])}}else if("string"===typeof this.textureInfo){const hU=XU.textureNameToIndex[this.textureInfo];for(const uU of[5,4,1,0,3,2]){pU.length>1&&jp.e.tu()?AU.push(new oU.Vector4(0,.005,1,.995)):AU.push(new oU.Vector4(0,(XU.textureNameToIndex[this.textureInfo]+0+UU)/pU[0],1,(XU.textureNameToIndex[this.textureInfo]+1-UU)/pU[0]));for(let UU=0;UU<4;UU++)SU.push(hU)}}const uU=(0,GU.c)("".concat(this.name,"Block"),{width:1,height:this.cuboidHeight,faceUV:AU,wrap:!0},(0,HU.jA)().Qp.yp());return uU.material=this.meshMaterial,uU.setVerticesData("texAtlasIndices",SU,!1,1),uU.YB(!1),uU.Rv=!1,uU}}class cU extends VU{constructor(UU,pU){super(UU,pU),this.type="SlabBlock",this.cuboidHeight=.5}}class sU extends YU{constructor(UU,pU){var AU;super(UU,pU),this.droppedMeshTypeScale=.8*TU.g.droppedBlockSize,this.droppedMeshOffset=1.3*TU.g.droppedBlockSize,this.bakeInScaling=1/4*(null!==(AU=this.heldItemScale)&&void 0!==AU?AU:1);const jp=XU.default[UU];if(jp.blockModelItem){console.assert(void 0!==jp.blockModel,"If blockModelItem is true blockModel must be defined: Failed for ".concat(UU));const pU=hU.e.getModel(jp.blockModel,wU.e.BLOCK);this.modelFullUrlIsBase64=pU.type===wU.l.BASE64,this.modelFullUrl=pU.url}this.type="TwoDBlock"}}class tU extends qU{constructor(UU,pU){var AU;super(UU,pU),this.droppedMeshTypeScale=.8*TU.g.droppedBlockSize,this.droppedMeshOffset=1.3*TU.g.droppedBlockSize,this.bakeInScaling=1/4*(null!==(AU=this.heldItemScale)&&void 0!==AU?AU:1),this.type="TwoDItem"}}class bU extends tU{constructor(UU,pU){super(UU,pU),this.armourReduction=void 0,this.type="TwoDArmour",this.armourReduction=vU.q[UU].armourReduction}}function Up(){HU.singletons.itemsClient=pp,HU.singletons.blocksClient=Ap,HU.singletons.nonBlocksClient=Xp}const pp={},Ap={},Xp={},hp={Gun:class extends qU{constructor(UU,pU){var AU,XU,hU,jp,SU;super(UU,pU),this.gunType=void 0,this.fireRate=void 0,this.shotPelletCount=void 0,this.msPerRound=void 0,this.msPerRoundTouchScreen=void 0,this.reloadTime=void 0,this.clipSize=void 0,this.reloadBulletsIndividually=void 0,this.bulletReloadTime=void 0,this.tagSpeedMult=void 0,this.subsequentTagSpeedReductionScalar=void 0,this.inaccuracyStanding=void 0,this.inaccuracyFromShot=void 0,this.inaccuracyMovement=void 0,this.inaccuracyFromJump=void 0,this.yVelocityInaccuracy=void 0,this.altInaccuracyStanding=void 0,this.altInaccuracyFromShot=void 0,this.altInaccuracyMovement=void 0,this.altYVelocityInaccuracy=void 0,this.altInaccuracyFromJump=void 0,this.recoveryRate=void 0,this.aimZoomFactor=void 0,this.autoFireWithMouse=void 0,this.spriteTrackname=void 0,this.soundPrefix=void 0,this.cockTime=void 0,this.timeToStartAim=void 0,this.timeToStopAim=void 0,this.muzzleFlashOffsetFromGun=void 0,this.muzzleFlashScale=void 0,this.bulletCasingMesh=void 0,this.bulletHitBillboardPlane=void 0,this.movingBulletMesh=void 0,this.scopeType=void 0,this.kickbackDecreaseRate=void 0,this.minKickback=void 0,this.maxKickback=void 0,this.kickbackRate=void 0,this.hasVerticalInaccuracy=void 0,this.type="Gun",this.Cp=pU;const uU=vU.q[UU];this.gunType=uU.gunType,this.scopeType=uU.scopeType,this.fireRate=uU.fireRate,this.damage=uU.damage,this.shotPelletCount=uU.shotPelletCount,this.msPerRound=uU.msPerRound,this.msPerRoundTouchScreen=uU.msPerRoundTouchScreen,this.reloadTime=uU.reloadTime,this.clipSize=uU.clipSize,this.reloadBulletsIndividually=uU.reloadBulletsIndividually,this.bulletReloadTime=uU.bulletReloadTime,this.tagSpeedMult=uU.tagSpeedMult,this.subsequentTagSpeedReductionScalar=uU.subsequentTagSpeedReductionScalar,this.inaccuracyStanding=uU.inaccuracyStanding,this.inaccuracyFromShot=uU.inaccuracyFromShot,this.inaccuracyMovement=uU.inaccuracyMovement,this.inaccuracyFromJump=uU.inaccuracyFromJump,this.yVelocityInaccuracy=uU.yVelocityInaccuracy,this.altInaccuracyStanding=uU.altInaccuracyStanding,this.altInaccuracyFromShot=uU.altInaccuracyFromShot,this.altInaccuracyMovement=uU.altInaccuracyMovement,this.altYVelocityInaccuracy=null!==(AU=uU.altYVelocityInaccuracy)&&void 0!==AU?AU:uU.yVelocityInaccuracy,this.altInaccuracyFromJump=null!==(XU=uU.altInaccuracyFromJump)&&void 0!==XU?XU:uU.inaccuracyFromJump,this.recoveryRate=uU.recoveryRate,this.kickbackDecreaseRate=uU.kickbackDecreaseRate,this.minKickback=uU.minKickback,this.maxKickback=uU.maxKickback,this.kickbackRate=uU.kickbackRate,this.hasVerticalInaccuracy=null!==(hU=uU.hasVerticalInaccuracy)&&void 0!==hU&&hU,this.aimZoomFactor=uU.aimZoomFactor,this.autoFireWithMouse=uU.autoFireWithMouse,"semi_automatic"===this.gunType?(this.spriteTrackname="gunSemiAutomatic",this.soundPrefix="semiAuto",this.cockTime=400):"submachine"===this.gunType?(this.spriteTrackname="gunSubmachineGun",this.soundPrefix="submachine",this.cockTime=300):"rifle"===this.gunType?(this.spriteTrackname="gunRifle",this.soundPrefix="rifle",this.cockTime=550):"pistol"===this.gunType?(this.spriteTrackname="gunPistol",this.soundPrefix="pistol",this.cockTime=300):"shotgun"===this.gunType&&(this.spriteTrackname="gunShotgun",this.soundPrefix="shotgun",this.cockTime=300),this.cockTime=null!==(jp=uU.cockTime)&&void 0!==jp?jp:this.cockTime,this.timeToStartAim=100,this.timeToStopAim=this.timeToStartAim/2,this.muzzleFlashOffsetFromGun=uU.muzzleFlashOffsetFromGun,this.muzzleFlashScale=null!==(SU=uU.muzzleFlashScale)&&void 0!==SU?SU:1;const BU=new DU.gp("".concat(UU,"BulletMeshMaterial"),pU);BU.diffuseColor=new aU.Mp(199/255,190/255,88/255),BU.specularColor=new aU.Mp(0,0,0),BU.ambientColor=new aU.Mp(1,1,1),BU.freeze(),this.bulletCasingMesh=(0,GU.c)("".concat(this.name,"BulletCasingMesh"),{width:.01,height:.02,depth:.01},pU),this.bulletCasingMesh.material=BU,this.bulletCasingMesh.Rv=!1;const QU=new DU.gp("".concat(UU,"BulletHitBillboard"),pU);QU.diffuseColor=new aU.Mp(0,0,0),QU.specularColor=new aU.Mp(0,0,0),BU.freeze(),this.bulletHitBillboardPlane=zU.f.dT("".concat(this.name,"BulletHitBillboardPlane"),{size:.05},pU),this.bulletHitBillboardPlane.Rv=!1,this.bulletHitBillboardPlane.material=QU;const yU=new DU.gp("".concat(UU,"BulletMeshMaterial"),pU);yU.diffuseColor=aU.Mp.Yellow(),yU.specularColor=new aU.Mp(0,0,0),yU.ambientColor=new aU.Mp(1,1,1),yU.emissiveColor=new aU.Mp(.8,.8,.8),BU.freeze(),this.movingBulletMesh=(0,GU.c)("".concat(this.name,"MovingBulletMesh"),{width:.3,height:.3,depth:3},pU),this.movingBulletMesh.material=yU,this.movingBulletMesh.Rv=!1,this.bakeInScaling=.19*this.heldItemScale,this.droppedMeshTypeScale=.5*TU.g.droppedBlockSize}getBulletCasingMesh(){return this.bulletCasingMesh.createInstance("".concat(this.name,"BulletCasingMesh"))}getBulletHitBillboard(){return this.bulletHitBillboardPlane.createInstance("".concat(this.name,"BulletHitBillboardPlane"))}getMovingBulletMesh(){return this.movingBulletMesh.createInstance("".concat(this.name,"BulletCasingMesh"))}},FullAuto:class extends tU{constructor(){super(...arguments),this.type="FullAuto"}},Tool:class extends tU{constructor(UU,pU){super(UU,pU),this.harvests=void 0,this.multiplier=void 0,this.level=void 0,this.type="TwoDTool",this.harvests=vU.q[UU].harvests,this.multiplier=vU.q[UU].multiplier,this.level=vU.q[UU].level}},Armour:bU,GrayscaleArmour:class extends bU{constructor(UU,pU){super(UU,pU),this.type="GrayscaleTwoDArmour";const AU="Wood ".concat((0,ZU.ib)(UU)),XU=hU.e.getModel(AU,wU.e.ITEM);this.modelFullUrlIsBase64=XU.type===wU.l.BASE64,this.modelFullUrl=XU.url,this.modelFullUrl=this.isCustom?"".concat(kp.b.staticUrl,"/models/").concat((0,ZU.xb)(HU.singletons.connectedGameNameWithVariation),"/").concat(AU,".glb"):"".concat(kp.b.staticUrl,"/models/").concat(AU,".glb"),this.onLoadMesh=AU=>{const XU=(0,ZU.ib)(UU),hU=(0,MU.g)(UU),jp=new DU.gp("GrayscaleArmourItemMat",pU);dU.c.applyTo(jp,1),dU.e.applyTo(jp),jp.diffuseTexture=new JU.d(vU.j[XU],pU,!1,null,JU.d.NEAREST_NEAREST_MIPLINEAR),jp.diffuseTexture.wrapU=JU.d.CLAMP_ADDRESSMODE,jp.diffuseTexture.wrapV=JU.d.CLAMP_ADDRESSMODE,jp.specularColor=new aU.Mp(0,0,0),jp.ambientColor=new aU.Mp(1.3,1.3,1.3),jp.diffuseColor=new aU.Mp(.8,.8,.8),AU.material=jp,AU.registerInstancedBuffer("aHueColour",4),AU.registerInstancedBuffer("aAtlasIdx1",1),AU.instancedBuffers.aHueColour=(0,QU.g)(...hU,1),AU.instancedBuffers.aAtlasIdx1=0,jp.freeze()}}},Slab:cU,Chargeable:class extends tU{constructor(){super(...arguments),this.type="Chargeable"}},Directional:class extends tU{constructor(){super(...arguments),this.type="Directional"}}};function jA(UU,pU,AU,hU){let jp;UU in XU.default?(jp=XU.default[UU].model||XU.default[UU].twoDBlockItem?hp[XU.default[UU].model]?new hp[XU.default[UU].model](UU,AU):new sU(UU,AU):new VU(UU,AU),Ap[UU]=jp,Ap[pU]=jp):(jp=hp[hU]?new hp[hU](UU,AU):new tU(UU,AU),Xp[UU]=jp,Xp[pU]=jp),pp[UU]=jp,pp[pU]=jp}},16312:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{BreakingParticles:()=>MU,ManualEmitParticlePool:()=>mp,ManualEmitParticleSystem:()=>aU,blockMinedParticlePool:()=>HU,bounceParticlePool:()=>eU,burstBoxPSystemAtPos:()=>GU,criticalParticles:()=>dU,hopParticlePool:()=>lU,initParticles:()=>ZU,sprintKbParticles:()=>wU});var XU=AU(399),hU=AU(550),jp=AU(149),SU=AU.n(jp),uU=AU(1140),BU=AU(15898),vU=AU(16319),TU=AU(14877),QU=AU(14902);const yU=SU().create(),OU=SU().create(),fU=SU().create(),CU=(0,hU.f)("square_particle"),gU=.99;class MU{constructor(UU){this.pSystem=void 0,this.startedSystem=!1,this.jp=void 0,this.boxWidth=.8,this.currentRampColoursBlockId=void 0,this.jp=UU;const pU=new vU.e("breakingParticles",430,UU.Qp.yp());this.pSystem=pU,pU.particleTexture=new TU.d(CU,UU.Qp.yp(),!1,void 0,TU.d.NEAREST_NEAREST_MIPLINEAR),pU.blendMode=vU.e.BLENDMODE_STANDARD,this.pSystem.addColorGradient(1,(0,BU.g)(255,255,255,gU),(0,BU.g)(255,255,255,1)),this.pSystem.useRampGradients=!0,this.pSystem.addColorRemapGradient(0,gU,1),this.pSystem.addColorRemapGradient(1,gU,1),pU.minLifeTime=.1,pU.maxLifeTime=.2,pU.minEmitPower=40,pU.maxEmitPower=60,pU.gravity=new QU.Op(0,-200,0),pU.emitRate=70,pU.minSize=.075,pU.maxSize=.1,pU.addVelocityGradient(0,.05,.1),pU.addVelocityGradient(1,.05,.1),(0,BU.v)(UU,pU),pU.createBoxEmitter(new QU.Op,new QU.Op,new QU.Op(0,0,0),new QU.Op(this.boxWidth,this.boxWidth,this.boxWidth)),pU.stop()}su(UU){if(!UU||null===this.jp.wv)return void(this.startedSystem&&(this.pSystem.stop(),this.startedSystem=!1));(0,BU.q)(this.pSystem,this.jp.wv.position),this.updateParticleSystemColour();const pU=this.pSystem.direction1,AU=this.pSystem.direction2;pU.x=this.jp.wv.normal[0]+1,pU.y=this.jp.wv.normal[1]+1,pU.z=this.jp.wv.normal[2]+1,AU.x=this.jp.wv.normal[0]-1,AU.y=this.jp.wv.normal[1]-1,AU.z=this.jp.wv.normal[2]-1,0!==this.jp.wv.normal[0]?(pU.x=this.jp.wv.normal[0],AU.x=this.jp.wv.normal[0]):0!==this.jp.wv.normal[1]?(pU.y=this.jp.wv.normal[1],AU.y=this.jp.wv.normal[1]):0!==this.jp.wv.normal[2]&&(pU.z=this.jp.wv.normal[2],AU.z=this.jp.wv.normal[2]),this.startedSystem||(this.pSystem.start(),this.startedSystem=!0)}updateParticleSystemColour(){const UU=this.jp.QT(this.jp.wv.position);if(0===UU||UU===this.currentRampColoursBlockId)return;const pU=MU.getUniqueColoursForParticleSystem(this.jp.wv.position);MU.applyRampColoursToPSystem(this.pSystem,pU),this.currentRampColoursBlockId=UU}static applyRampColoursToPSystem(UU,pU){const AU=UU.getRampGradients();if(AU){const pU=AU.map((UU=>UU.gradient));for(const AU of pU)UU.removeRampGradient(AU)}const XU=pU[0];UU.addRampGradient(0,(0,BU.c)(XU[0],XU[1],XU[2]));for(let jp=1;jp<pU.length;jp++){const AU=pU[jp-1],XU=pU[jp];UU.addRampGradient(jp/pU.length-1e-4,(0,BU.c)(AU[0],AU[1],AU[2])),UU.addRampGradient(jp/pU.length,(0,BU.c)(XU[0],XU[1],XU[2]))}const hU=pU[pU.length-1];UU.addRampGradient(1,(0,BU.c)(hU[0],hU[1],hU[2]))}static getUniqueColoursForParticleSystem(UU){const pU=(0,uU.jA)().QT((0,uU.jA)().wv.position);if(0!==pU)return hU.e.getAverageColours((0,uU.getBloxd)().getMetaInfo(pU).rootName);console.error(new Error("getPosColourForParticleSystem called on air block ".concat(JSON.stringify(UU))).stack)}}const nU=(0,hU.f)("generic_2");let wU;const kp=(0,hU.f)("critical_hit");let dU,HU,lU,eU;function ZU(UU){const pU=new vU.e("sprintParticles",50,UU.Qp.yp());pU.particleTexture=new TU.d(nU,UU.Qp.yp(),!1,void 0,TU.d.NEAREST_NEAREST_MIPLINEAR),pU.blendMode=vU.e.BLENDMODE_STANDARD,pU.addColorGradient(0,(0,BU.g)(213,237,255,1),(0,BU.g)(109,170,238,1)),pU.addColorGradient(.2,(0,BU.g)(213,237,255,1),(0,BU.g)(109,170,238,1)),pU.addColorGradient(1,(0,BU.g)(213,237,255,0),(0,BU.g)(109,170,238,0));pU.minLifeTime=.2,pU.maxLifeTime=.4,pU.minEmitPower=30,pU.maxEmitPower=50,pU.emitRate=5,pU.gravity=new QU.Op(0,-100,0),pU.minSize=.15,pU.maxSize=.3,pU.addVelocityGradient(0,.075,.15),pU.addVelocityGradient(1,.075,.15),(0,BU.v)(UU,pU),pU.createBoxEmitter(new QU.Op(1,1,1),new QU.Op(-1,-1,-1),new QU.Op(0,0,0),new QU.Op(1.2*XU.i.ru,.7*XU.i.Du,1.2*XU.i.ru)),pU.manualEmitCount=0,wU=new aU(pU,.4);const AU=new vU.e("Lj",50,UU.Qp.yp());AU.particleTexture=new TU.d(kp,UU.Qp.yp(),!1,void 0,TU.d.NEAREST_NEAREST_MIPLINEAR),AU.blendMode=vU.e.BLENDMODE_STANDARD,AU.addColorGradient(0,(0,BU.g)(255,167,0,1),(0,BU.g)(255,103,0,1)),AU.addColorGradient(.2,(0,BU.g)(255,167,0,1),(0,BU.g)(255,103,0,1)),AU.addColorGradient(1,(0,BU.g)(255,167,0,0),(0,BU.g)(255,103,0,0));AU.minLifeTime=.15,AU.maxLifeTime=.3,AU.minEmitPower=30,AU.maxEmitPower=50,AU.emitRate=5,AU.gravity=new QU.Op(0,-100,0),AU.minSize=.15,AU.maxSize=.3,AU.addVelocityGradient(0,.075,.15),AU.addVelocityGradient(1,.075,.15),(0,BU.v)(UU,AU),AU.createBoxEmitter(new QU.Op(1,1,1),new QU.Op(-1,-1,-1),new QU.Op(0,0,0),new QU.Op(1.2*XU.i.ru,.7*XU.i.Du,1.2*XU.i.ru)),AU.manualEmitCount=0,dU=new aU(AU,.3),HU=new mp(UU,4,{texture:"square_particle",minLifeTime:.15,maxLifeTime:.3,minEmitPower:15,maxEmitPower:60,minSize:.05,maxSize:.1,gravity:[0,-200,0],velocityGradients:[{timeFraction:0,factor:.05,factor2:.1}],colorGradients:[{color:[0,0,0]}],dir1:[1,1,1],dir2:[-1,-1,-1],pos1:[0,0,0],pos2:[1,1,1],hideDist:60,blendMode:vU.e.BLENDMODE_STANDARD}),lU=new mp(UU,2,{texture:"generic_2",minLifeTime:.3,maxLifeTime:.6,minEmitPower:2,maxEmitPower:4,minSize:.4,maxSize:.6,gravity:[0,0,0],velocityGradients:[{timeFraction:0,factor:.15,factor2:.075},{timeFraction:1,factor:.15,factor2:.075}],colorGradients:[{timeFraction:0,minColor:[213,237,255,1],maxColor:[109,170,238,1]},{timeFraction:.2,minColor:[213,237,255,1],maxColor:[109,170,238,1]},{timeFraction:1,minColor:[213,237,255,0],maxColor:[109,170,238,0]}],dir1:[1,1,1],dir2:[-1,-1,-1],pos1:[0,0,0],pos2:[1,1,1],hideDist:60,blendMode:vU.e.BLENDMODE_STANDARD}),eU=new mp(UU,2,{texture:"square_particle",minLifeTime:.3,maxLifeTime:.6,minEmitPower:2,maxEmitPower:4,minSize:.1,maxSize:.15,gravity:[0,0,0],velocityGradients:[{timeFraction:0,factor:.15,factor2:.075},{timeFraction:1,factor:.15,factor2:.075}],colorGradients:[{timeFraction:0,minColor:[196,63,63,1],maxColor:[148,53,53,1]},{timeFraction:.2,minColor:[196,63,63,1],maxColor:[148,53,53,1]},{timeFraction:1,minColor:[196,63,63,0],maxColor:[148,53,53,0]}],dir1:[1,1,1],dir2:[-1,-1,-1],pos1:[0,0,0],pos2:[1,1,1],hideDist:60,blendMode:vU.e.BLENDMODE_STANDARD})}class aU{constructor(UU,pU){this.pSystem=UU,this.maxLifetimeSecs=pU,this.stopTimeout=null,this.started=!1,UU.manualEmitCount=0}emitAmount(UU){this.pSystem.manualEmitCount=UU,clearTimeout(this.stopTimeout),this.started||(this.pSystem.start(),this.started=!0),this.stopTimeout=setTimeout((()=>{this.pSystem.stop(),this.started=!1}),1e3*this.maxLifetimeSecs)}}function GU(UU,pU,AU,XU){(0,BU.v)(UU,pU.pSystem),(0,BU.q)(pU.pSystem,AU),pU.emitAmount(XU)}class mp{constructor(UU,pU,AU){this.jp=UU,this.cfg=AU,this.pool=[],this.currentIndex=0;for(let XU=0;XU<pU;XU++)this.pool.push({pSystem:null,wrapper:null})}emit(UU,pU){var AU,XU,hU,jp,uU,vU,TU,QU;const CU="pos1"in pU?pU.pos1:this.cfg.pos1,gU="pos2"in pU?pU.pos2:this.cfg.pos2;for(let SU=0;SU<3;SU++)OU[SU]=Math.min(CU[SU],gU[SU]),fU[SU]=Math.max(CU[SU],gU[SU]);const MU=this.jp.camera.ih();for(let SU=0;SU<3;SU++)yU[SU]=Math.max(OU[SU],Math.min(MU[SU],fU[SU]));const nU=null!==(AU=pU.hideDist)&&void 0!==AU?AU:this.cfg.hideDist;if(SU().sqrDist(MU,yU)>nU*nU)return;const wU=this.pool[this.currentIndex];null===wU.pSystem&&this.initializeSystem(this.currentIndex);const kp=wU.pSystem;(0,BU.m)(kp,OU,fU),kp.minEmitPower=null!==(XU=pU.minEmitPower)&&void 0!==XU?XU:kp.minEmitPower,kp.maxEmitPower=null!==(hU=pU.maxEmitPower)&&void 0!==hU?hU:kp.maxEmitPower,kp.minSize=null!==(jp=pU.minSize)&&void 0!==jp?jp:kp.minSize,kp.maxSize=null!==(uU=pU.maxSize)&&void 0!==uU?uU:kp.maxSize,kp.minLifeTime=null!==(vU=pU.minLifeTime)&&void 0!==vU?vU:kp.minLifeTime,kp.maxLifeTime=null!==(TU=pU.maxLifeTime)&&void 0!==TU?TU:kp.maxLifeTime,wU.wrapper.maxLifetimeSecs=null!==(QU=pU.maxLifeTime)&&void 0!==QU?QU:wU.wrapper.maxLifetimeSecs,pU.colorGradients&&this.applyColorGradients(kp,pU.colorGradients),(0,BU.v)(this.jp,kp),wU.wrapper.emitAmount(UU),this.currentIndex=(this.currentIndex+1)%this.pool.length}initializeSystem(UU){const pU=this.cfg,AU=new vU.e("particlePool_".concat(UU),50,this.jp.Qp.yp()),XU=pU.texture.includes("/")?pU.texture:(0,hU.f)(pU.texture);AU.particleTexture=new TU.d(XU,this.jp.Qp.yp(),!1,void 0,TU.d.NEAREST_NEAREST_MIPLINEAR),AU.blendMode=pU.blendMode,AU.minLifeTime=pU.minLifeTime,AU.maxLifeTime=pU.maxLifeTime,AU.minEmitPower=pU.minEmitPower,AU.maxEmitPower=pU.maxEmitPower,AU.minSize=pU.minSize,AU.maxSize=pU.maxSize,AU.gravity=new QU.Op(pU.gravity[0],pU.gravity[1],pU.gravity[2]);for(const hU of pU.velocityGradients)AU.addVelocityGradient(hU.timeFraction,hU.factor,hU.factor2);this.applyColorGradients(AU,pU.colorGradients),(0,BU.v)(this.jp,AU),AU.createBoxEmitter(new QU.Op(Math.min(pU.dir1[0],pU.dir2[0]),Math.min(pU.dir1[1],pU.dir2[1]),Math.min(pU.dir1[2],pU.dir2[2])),new QU.Op(Math.max(pU.dir1[0],pU.dir2[0]),Math.max(pU.dir1[1],pU.dir2[1]),Math.max(pU.dir1[2],pU.dir2[2])),new QU.Op(Math.min(pU.pos1[0],pU.pos2[0]),Math.min(pU.pos1[1],pU.pos2[1]),Math.min(pU.pos1[2],pU.pos2[2])),new QU.Op(Math.max(pU.pos1[0],pU.pos2[0]),Math.max(pU.pos1[1],pU.pos2[1]),Math.max(pU.pos1[2],pU.pos2[2]))),AU.manualEmitCount=0;const jp=new aU(AU,pU.maxLifeTime);this.pool[UU].pSystem=AU,this.pool[UU].wrapper=jp}applyColorGradients(UU,pU){const AU=UU.getColorGradients();if(AU)for(const jp of AU)UU.removeColorGradient(jp.gradient);for(const jp of pU)if("color"in jp){const pU=(0,BU.g)(jp.color[0],jp.color[1],jp.color[2],1);UU.addColorGradient(0,pU,pU)}else{var XU,hU;const pU=(0,BU.g)(jp.minColor[0],jp.minColor[1],jp.minColor[2],null!==(XU=jp.minColor[3])&&void 0!==XU?XU:1),AU=(0,BU.g)(jp.maxColor[0],jp.maxColor[1],jp.maxColor[2],null!==(hU=jp.maxColor[3])&&void 0!==hU?hU:1);UU.addColorGradient(jp.timeFraction,pU,AU)}}}},16535:(UU,pU,AU)=>{"use strict";AU.d(pU,{e:()=>vU});var XU=AU(14877),hU=AU(15483),jp=AU(14955),SU=AU(16540),uU=AU(550),BU=AU(15383);const vU=new class{constructor(){this.blockAtlasMaterials={noAlpha:null,noAlphaUnlit:null,OB:null},this.useWebGL2=void 0}getBlockAtlasMaterial(UU,pU,AU){const vU=pU?"OB":AU?"noAlphaUnlit":"noAlpha";if(this.blockAtlasMaterials[vU])return this.blockAtlasMaterials[vU];const TU=new hU.gp("".concat(vU,"BlockAtlas"),UU),QU=[];for(const hU of uU.e.getBlockAtlasArr()){const AU=new XU.d(hU,UU,!1,null,XU.d.NEAREST_NEAREST_MIPLINEAR);QU.push(AU),AU.wrapU=XU.d.CLAMP_ADDRESSMODE,AU.wrapV=XU.d.CLAMP_ADDRESSMODE,pU&&(TU.fB=BU.c.MATERIAL_ALPHATEST,TU.useAlphaFromDiffuseTexture=!0,AU.OB=!0)}return TU.diffuseTexture=QU[0],TU.ambientColor=new jp.Mp(1.3,1.3,1.3),TU.diffuseColor=new jp.Mp(.8,.8,.8),TU.specularColor=new jp.Mp(0,0,0),AU&&(TU.emissiveColor=new jp.Mp(1,1,1)),QU.length>0&&new SU.d(TU,QU,void 0,this.tu(),!1),TU.freeze(),this.blockAtlasMaterials[vU]=TU,TU}HT(UU){this.useWebGL2=UU}tu(){return this.useWebGL2}}},15876:(UU,pU,AU)=>{"use strict";AU.d(pU,{e:()=>Bp,l:()=>Ap,i:()=>Sp,p:()=>Up,q:()=>fp});var XU=AU(597),hU=AU(15879),jp=AU(1597),SU=AU(15881),uU=AU(15891),BU=AU(647),vU=AU(16580),TU=AU(604),QU=AU(401),yU=AU(37),OU=AU(388),fU=AU(81),CU=AU(1474),gU=AU(15872),MU=AU(585),nU=AU(1712);class wU{constructor(UU){this.storeForMs=UU,this.clicks=new nU.c}click(){this.clicks.enqueue(Date.now());const UU=Date.now()-this.storeForMs;for(;this.clicks.size>0&&this.clicks.peek()<UU;)this.clicks.dequeue()}getNumClicksInMs(UU){let pU=0;return this.clicks.forEach((AU=>{AU>Date.now()-UU&&pU++})),pU}getMaxClickSeparationInMs(UU){if(0===this.clicks.size)return this.storeForMs;let pU=0,AU=Date.now()-UU;this.clicks.forEach((XU=>{XU<Date.now()-UU||(pU=Math.max(pU,Math.abs(XU-AU)),AU=XU)}));const XU=Math.abs(Date.now()-AU);return Math.max(pU,XU)}}class kp{constructor(UU){this.storeForMs=UU,this.clickDownDurations=new nU.c}registerClickDownDuration(UU){this.clickDownDurations.enqueue({dur:UU,atTime:Date.now()});const pU=Date.now()-this.storeForMs;for(;this.clickDownDurations.size>0&&this.clickDownDurations.peek().atTime<pU;)this.clickDownDurations.dequeue()}clickDownDurationsCheck(UU){if(UU>this.storeForMs)return console.error("overDuration is greater than storeForMs"),"0:0";let pU=0,AU=0;return this.clickDownDurations.forEach((XU=>{XU.atTime>Date.now()-UU&&(pU++,AU=Math.max(AU,XU.dur))})),"".concat(pU,":").concat(AU)}}var dU=AU(13),HU=AU(1140),lU=AU(412),eU=AU(16527),ZU=AU(64),aU=AU(1815);const GU=AU(399).i,mp=1;let EU,zU=mp,rU=0;const DU=!0;let JU,RU,oU=DU;var KU,FU,ip,NU,LU,IU,PU,xU,qU;yU.h.subscribe("serverOption|_ignoreBasicBoards",(UU=>{oU=UU})),(0,XU.Ub)((()=>{oU=DU}));const WU=["length",1,"b",0,8,3,"a","i","g","e","f",4,255,117,163,232,145,"undefined",13,void 0,"c",74,63,6,"fromCodePoint",7,12,"push",2,5,72,91,8191,88,14,!1,"j",197,"d",44,186,181,183,47,28,134,228,155,92,35,119,9,249,118,132,24,204,140,32,124,78,187,60,40,95,150,"stack",36,247,109,"h",87,70,215,226,53,10,1023,43,65536,55296,56320,18,201,168,235,128,31,15,83,173,192,84,185,239,101,121,93,220,212,224,184,240,57,157,205,122,206,139,null,127];function YU(UU,pU=WU[1]){return Object.defineProperty(UU,WU[0],{value:pU,configurable:WU[35]}),UU}function VU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[6]]='y?f53CH[Zun|SPTIQehOA{$1X9d`jULp=}WmEMG0.,lv(B@~FRs*t>!b<i+cq)rYJ]_V%/DNxk#g24;z86&a^w:o7K"',UU[WU[2]]=""+(UU[WU[3]]||""),UU[WU[5]]=UU[WU[2]].length,UU[WU[11]]=[],UU[WU[9]]=WU[3],UU[WU[10]]=WU[3],UU[WU[8]]=-WU[1]),UU[WU[4]]=WU[3];UU[WU[4]]<UU[WU[5]];UU[WU[4]]++)if(UU[WU[7]]=UU[WU[6]].indexOf(UU[WU[2]][UU[WU[4]]]),UU[WU[7]]!==-WU[1])if(UU[WU[8]]<WU[3])UU[WU[8]]=UU[WU[7]];else{bU(UU[WU[8]]+=UU[WU[7]]*WU[31],UU[WU[9]]|=UU[WU[8]]<<UU[WU[10]],UU[WU[10]]+=(UU[WU[8]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[WU[9]]&WU[12]),UU[WU[9]]>>=WU[4],UU[WU[10]]-=WU[4])}while(UU[WU[10]]>WU[25]);UU[WU[8]]=-WU[1]}return UU[WU[8]]>-WU[1]&&UU[WU[11]].push((UU[WU[9]]|UU[WU[8]]<<UU[WU[10]])&WU[12]),sU(UU[WU[11]])}function cU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=VU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}function sU(...UU){return UU[WU[0]]=WU[1],typeof NU!==WU[17]&&NU?(new NU).decode(new LU(UU[WU[3]])):typeof IU!==WU[17]&&IU?IU.from(UU[WU[3]]).toString("utf-8"):qU(UU[WU[3]])}function tU(){}function bU(){bU=function(){}}function Up(UU){function pU(){return UU.oB.kT(UU.iA)}const AU=new wU(3e4),jp=new kp(4e4);let vU=!1,fU=!1,CU=0;UU.inputs.down.on("primary-fire",(function(UU){if(CU=Date.now(),Math.abs(performance.now()-UU.timeStamp)>5e3)return;UU.altKey?nU():((0,eU.incrementClientClickCounter)(),pU().downFirePrimary(),vU=!0,yU.h.Sp("mouseState",{isDown:vU||fU})),fp(TU.e.DownFirePrimary),AU.click();const hU=AU.getMaxClickSeparationInMs(3e4)<1e3/30,jp=AU.getMaxClickSeparationInMs(1e4)<20,SU=AU.getMaxClickSeparationInMs(4e3)<1e3/70;if(hU||jp||SU){let UU;if(hU)UU=30;else if(jp)UU=50;else{if(!SU)throw new Error("???");UU=70}(0,XU.nc)(BU.si,UU)}JU(UU)})),UU.inputs.up.on("primary-fire",(function(UU){const AU=Date.now()-CU;jp.registerClickDownDuration(AU),pU().upFirePrimary(),vU=!1,yU.h.Sp("mouseState",{isDown:vU||fU}),JU(UU);const hU=jp.clickDownDurationsCheck(4e4);(0,XU.nc)(BU.nf,hU)})),UU.inputs.down.on("alt-fire",(function(AU){fp(TU.e.DownFireSecondary),pU().downFireSecondary(),fU=!0,yU.h.Sp("mouseState",{isDown:vU||fU}),UU.wv&&!UU.wv.position&&(0,uU.g)(),JU(AU)})),UU.inputs.up.on("alt-fire",(function(UU){pU().upFireSecondary(),fU=!1,yU.h.Sp("mouseState",{isDown:vU||fU}),JU(UU)}));const nU=()=>{pU().downFireTertiary()};UU.inputs.down.on("mid-fire",(()=>{nU()})),UU.inputs.down.on("SpecialAction1",(()=>{(0,XU.nc)(BU.pg,"SpecialAction1")})),UU.inputs.up.on("SpecialAction1",(()=>{(0,XU.nc)(BU.tg,{mh:"SpecialAction1",EX:lU()})})),UU.inputs.down.on("SpecialAction2",(()=>{(0,XU.nc)(BU.pg,"SpecialAction2")})),UU.inputs.up.on("SpecialAction2",(()=>{(0,XU.nc)(BU.tg,{mh:"SpecialAction2",EX:lU()})})),UU.inputs.down.on("ReloadGun",(()=>{"Gun"===UU.entities.Xv(UU.iA).heldType&&pU().reload()}));const lU=()=>{let pU="a";return UU.physics.testSolid.toString().includes("lT")||(pU="b"),pU};UU.inputs.down.on("OpenInventory",(UU=>{UU.preventDefault(),(0,gU.i)((0,HU.jA)())&&yU.h.Sp("toggleMenu","inventory")})),UU.inputs.bind("ShiftHeld","ShiftLeft","ShiftRight"),UU.inputs.down.on("DropItem",(()=>{yU.h.Sp("DropItemKeyPressed",UU.inputs.state.crouch)})),UU.inputs.down.on("crouch",(()=>{dU.d.get("clientEscMenuOptions").crouchIsToggle&&(UU.entities.getState(UU.iA,"receivesInputs").crouchToggled=!UU.entities.getState(UU.iA,"receivesInputs").crouchToggled)})),UU.inputs.down.on("jump",(AU=>{"Gun"===UU.entities.Xv(UU.iA).heldType&&pU().inaccuracyCalculator.jump(),JU(AU)})),UU.inputs.down.on("OpenShop",(()=>{"inGame"===dU.d.get("gameState")&&((0,XU.yc)(UU.hp.shopInfo)||dU.d.set({openMenuName:dU.d.get("openMenuName")===QU.m.SHOP?null:QU.m.SHOP}))})),UU.inputs.down.on("OpenLobbyLeaderboard",(()=>{"inGame"===dU.d.get("gameState")&&UU.hp.lobbyLeaderboardInfo&&dU.d.set({openMenuName:dU.d.get("openMenuName")===QU.m.LOBBY_LEADERBOARD?null:QU.m.LOBBY_LEADERBOARD})})),UU.inputs.down.on("HideUi",(()=>{yU.h.Sp("showUi",!1)})),UU.inputs.up.on("HideUi",(()=>{yU.h.Sp("showUi",!0)}));const ZU=UU=>{0===UU&&(UU=10),yU.h.Sp("setSelectedInventorySlotI",UU-1),yU.h.Sp("numkeyPressed",UU)};for(let XU=1;XU<=10;XU++)UU.inputs.down.on("HotBarSlot"+XU.toString(),(()=>{ZU(XU)}));function aU(UU){"inGame"===dU.d.get("gameState")&&null===dU.d.get("openMenuName")&&(yU.h.Sp("ctrlCrouchWithoutFullscreen"),UU.preventDefault())}UU.inputs.down.on("OpenTasksAndLeaderboard",(()=>{(UU.hp._tasks||UU.hp._availableLeaderboards)&&yU.h.Sp("toggleMenu","retentionFeatures")})),UU.inputs.down.on("OpenCodeEditor",(()=>{(0,XU.sb)(HU.singletons.connectedLobbyName)&&!HU.singletons.connectedGameNameWithVariation.startsWith("testGym")||yU.h.Sp("EditLobbyCode",UU.oB.ih(UU.iA).map(Math.floor))})),UU.inputs.bind("ToggleFullCoordinateOverlay","F3"),UU.inputs.down.on("ToggleFullCoordinateOverlay",(()=>{yU.h.Sp("toggleFullCoordinateOverlay")})),UU.inputs.down.on("SwapCameraZoom",(()=>{hp(UU)})),yU.h.subscribe("SwapCameraZoom",(()=>{hp(UU)})),UU.inputs.down.on("OpenInviteLink",(()=>{OU.e.canUseInviteLinks&&yU.h.Sp("toggleMenu","inviteLink")})),UU.inputs.bind("Y","KeyY"),UU.inputs.down.on("Y",(UU=>{yU.h.Sp("YKeyPressed")})),UU.inputs.bind("X","KeyX"),UU.inputs.down.on("X",(UU=>{yU.h.Sp("XKeyPressed")})),UU.inputs.down.on("Zoom",(pU=>{"inGame"!==dU.d.get("gameState")||UU.hp.canUseZoomKey||yU.h.Sp("showError",{error:"Zoom is disabled",timeoutLength:2e3})})),pp(),UU.inputs.down.on("ctrlCrouch",aU),UU.inputs.up.on("ctrlCrouch",aU),UU.inputs.bind("ctrlCrouch","ControlLeft");const EU=UU=>{"inGame"===dU.d.get("gameState")&&UU.ctrlKey&&null===dU.d.get("openMenuName")&&UU.preventDefault()};document.addEventListener("keydown",EU),document.addEventListener("keyup",EU),document.addEventListener("keypress",EU),UU.inputs.bind("Alt","AltLeft","AltRight"),UU.inputs.down.on("Alt",(UU=>{UU.preventDefault()})),UU.on("afterRender",(pU=>{(0,hU.c)(UU)}));let rU=0;UU.on("su",(function(pU){if(yU.h.Sp("noaTick"),!UU.entities.eT(UU.iA).isAlive)return;Date.now()-rU>9e3&&(!function(){const UU=(0,HU.jA)();"number"===typeof UU.hp.speedMultiplier&&"number"===typeof UU.hp.jumpAmount&&(0,XU.nc)(BU.Ng,{ph:(0,XU.d)(UU.hp.speedMultiplier),Ah:(0,XU.b)(UU.hp.jumpAmount),hh:(0,XU.d)(UU.hp.crouchingSpeed),jj:(0,XU.d)(UU.hp.walkingSpeed),Sh:(0,XU.d)(UU.hp.runningSpeed),uh:(0,XU.b)(UU.ZT),Bh:UU.oB.Hv(UU.iA).jumpForce,Th:UU.oB.IB(1).width,Qh:UU.oB.IB(1).height,Oh:UU.oB.tv(1).Oh},!0)}(),rU=Date.now());const AU=UU.inputs.state;if((AU.jump||AU.forward||AU.backward||AU.left||AU.right)&&yU.h.Sp("usedKeyboard"),UU.oB.vv(UU.iA)&&!0===UU.hp.canPickUpItems){const pU=UU.oB.ih(UU.iA),AU=(0,MU.p)(zU),hU=(0,MU.q)(zU),jp=[pU[0]-AU,pU[1]-.6*hU,pU[2]-AU],vU=[pU[0]+AU,pU[1]+GU.Du+.6*hU,pU[2]+AU],TU=UU.oB.aT({base:jp,max:vU},UU.oB.names.autoRotate);if(TU.length>0)for(const QU of TU){const pU=UU.oB.getState(QU,"itemState");if(void 0===pU||pU.Hj||Date.now()-pU.creationTime<500)continue;const AU=UU.oB.Sv(UU.iA).pickUpItem({name:pU.name,typeObj:pU.typeObj,amount:pU.amount,attributes:pU.attributes});if(0!==AU){null===AU||-1===AU?UU.oB.deleteEntity(QU):(pU.amount-=AU,pU.amount<0?console.error("Picking up led to less than 0 of item!"):0===pU.amount&&UU.oB.deleteEntity(QU)),(0,XU.nc)(BU.jg,{VX:QU,cX:AU,sX:uU.e},!0);SU.b.play("pickUp",GU.pickupSoundVol).rate(1+Math.random()*GU.pickupSoundRateVariation)}}}if(!UU.oB.RB(UU.iA))return;DU&&(DU=!1);const hU=UU.inputs.mQ.GT;if(0!==hU){const pU=hU>0?1:-1;UU.inputs.state["mid-fire"]||UU.inputs.state.Alt||!UU.hp.useInventory?Xp(UU,pU):yU.h.Sp("ScrollInventorySlot",pU)}}));let DU=!1;yU.h.subscribe("serverOption|playerZoom",(pU=>{Ap(UU,pU),UU.oB.RB(UU.iA)||(DU=!0)})),yU.h.subscribe("serverOption|droppedItemScale",(UU=>{zU="number"===typeof UU&&isFinite(UU)?UU:mp})),UU.camera.ET=(pU,AU)=>{UU.entities.kT(UU.iA).cameraZoomChanged(AU,pU)},UU.camera.zT=(pU,AU)=>{upU(UU,pU,AU)}}function pp(){const UU=(0,HU.jA)();if(UU)for(const pU in CU.n){UU.inputs.unbind(pU);for(const AU of CU.n[pU])UU.inputs.bind(pU,AU)}}function Ap(UU,pU){Xp(UU,pU-UU.camera.Cv)}function Xp(UU,pU){UU.entities.kT(UU.iA).shouldChangeCameraZoom(pU)&&(0===UU.camera.Cv&&1===pU?pU++:2===UU.camera.Cv&&-1===pU&&pU--,Sp(UU,UU.camera.Cv+pU))}function hp(UU){UU.entities.getState(UU.iA,"cameraShake").frontFacing?(jA(UU),Ap(UU,0)):0===UU.camera.Cv?Ap(UU,UU.hp.zoomOutDistance||3):(Ap(UU,UU.hp.zoomOutDistance||3),function(UU){UU.entities.getState(UU.iA,"cameraShake").frontFacing=!0,UU.camera.rT[0]=Math.PI,UU.camera.rT[1]=0,UU.camera.rT[2]=Math.PI}(UU))}function jA(UU){UU.entities.getState(UU.iA,"cameraShake").frontFacing=!1,UU.camera.rT[0]=0,UU.camera.rT[1]=0,UU.camera.rT[2]=0}function Sp(UU,pU){const AU=UU.camera.Cv;pU<0?UU.camera.Cv=0:pU>(UU.hp.maxPlayerZoom||10)?UU.camera.Cv=UU.hp.maxPlayerZoom||10:UU.camera.Cv=pU,upU(UU,AU,pU)}function upU(UU,pU,AU){UU.entities.kT(UU.iA).cameraZoomSet(pU,AU),yU.h.Sp("cameraZoomSet",UU.camera.Cv),0===AU&&jA(UU)}bU(YU(sU),YU(cU),YU(VU)),bU(KU={},FU=["SvZ!*R{[;Yc8wq7l?I0tJFkYvc0r=`HX?Y*ZkE~O_!c8hTpE<d@20Yy","4<O4lRV?;YnW#94`U!/t:t?meSiDp`Q./l1}T","%l)pW;o?z<!3i3rmM*v#%zVih!w#caWeV%e`Nzq%3","6FzuhEk[;|*XXNpMEN.!k2LX=_K?hCUL{?","N]%s!Y_LII0r$Mcl&*9x1s`mtOi9_/{.}!0kZzEf",".ew#+xA:/PoD>PT","&BV=J#.X$J`5bT[9pi,H,%]?oAZ):R{muN.*zE)gX+G2X`5E=q!3",'uiF`v!CPtO;hvdCXW5l`"iXLMOe/paplq]r[zbUUWq^UAaT',"3R@b%E/iYIDRlR=l,MI}I6dEiA12~TSO:l|Ulk[/tJdnJc;.S#p2)>k?","%r/#JxMi?_:UFaJ1/jztAc;H#rl",'@HK*>&GE7AQrixgOx*gdl)]*ti/?X`PG^HeH"k`gzIA+Fc_h7T3#{',"y_)2F0;W(|","v]%p[b<@c|M","VMaU9w8#Z+V8$MYL","IM$bR4mOg<6h9x^$mqu!,gBm~qX]PqKj`N(bMwU~LhJkSFjE+F,=y0y","wpe;u2~,+eZ`5s~0u.NkaGn+jex3D6B0zT:jWm@LauJcgGMM6p:[Jba,p_Ez?","ySXR9.z,NAyg0GqmL!Z}HWXL{+wC,xHXgW9g/q#@WSlneEDX","EM0u:2~?hiO/#GQ0hYA#Ti#H1Jn`7ai,y.!p=.(J+A?;H&ZO~*$pO",">ukH>*Y?$P?&ZI60Dr0!*Y$ZBh^h(~n","kBGb7;X:g|yghfOWJ.?`c4xS1AqRwFg9`dlx,<U6~Ism:R|9,%(4A/9/.+b","QH03,k9~huF3WC/h>Bwp12ZZB<tkm+hW~Wa>)qmPief;CQs`41z3j","AS<HF^8.q>Qx=5)L",'"rtbT#.LPct80~{.jq6*)z|g1P;|zfVeSRuH$',"C1(Uwiqf","H3f*eGLLpS",";%y*H6JLOuw#;dKj","s*;[F^x:r<j2o~VhCY^>,MWf",'vSD2krthu]Cz>Qe`:WV>m;M~OuH~OG"j6y',"I!<R>MDteSV4gc}p`Ni!#E;W8u!hn)6`IRxu;2@tUTvcuxaW<!d`<x%XC","Wv.L.R>1mOq{TC5h|N7!$","4r?!<x}i]I(5Cx:W9@@u","4A#=.m{UPcQ*mT0Xdq[!Y0FJgcTL{Ere85f","jM*ZN>cm^iU+x`:`hNbt;BX:G+!DlT|dR*?","9AcU4i@hr|Ox`a+j31y}|/z*C","LW^#Jb]?Ei1+JI7UCUR`&E$ZzI[*9E7Q(.5","_Fn=E<rf",'&B8RiD/*N+Oz>3X,f==krz*?g<"643',"hqW=.Y1U,Af&`ToU`%J!qqz,O!F2?","k%!p5@,m.+LW,FF08c(UGkimXe|M(~CvF!f","YTpRot8H(ZPMmDc1Y5a=j~DXhI>mJc=E~uMp}.6U}!x9#9f1","|#<!~gEtgAPgVG(0S?","0MYuxE(X|r5M+)c,2A)n12<@mqn52aELwy","pu^s2rSttiWn|TEM}iwNhijLyI`P|TJM}qG2%FflauE/?)qlT3!3","fRc4gao[dcBb7~{`Y!Ju[6s+*umx3`p1xT>n;6PYvc+[8`:.E%5","I!~u8#M~_IR2OTTAJ*sU2F:W4rlFrP:m/k3UVrGJIYq{Nd4dkp1RqW{?",'0N!j5>QD{O[&ZNQW2Te*t<i1_YZFv&xd.%XH4/qfph1W8mg9Rp/NdG".[',".M*xi4iw^!<=kXrUL.u!yE#X5","oBF!!<.8EJhMK8hj&]4j3rsL7]$P5DyEINEpSrq%X+[QKXyePih=S/y","<N.R82+XIYvXy`d,cdV=4aHl2eAMuQZO6]O4T6y","@W,Hix,iRIw#VD$j#*<!^G7S3PLWWM/pPR?","Vu`x:}3l`ras?xg0fq_=h/~[3iYk9QAWbWZ;R^GfX]5HkxiUaB$u;sUmC","~vvU&21[ne","o*wp}cLL/+Ix0TEMRM_Z","kc6Ho~F@qr*_r9xO=*B3jcshnAzY/3/O~Ar3j","=@C[Mm0[i+ik2E9UQd9LsgGEpIm`Mx5p@ugUtg^t=q@[y`vOh?","P@!R;r2hVqOx?","6D2sk2B~G+__r9d,b19`>^d8B|d5n6}Ey.WgV@BmF>aD]9Hp~*l=TszU3","|#EU=Nl82T;?&/@d#cl`1G)UXASM3aS",'+]FRc+%H/!c_uE"U>iTpm;lS({:VtFxd',"vN(bwaLLKr1zNd4GJMUbi4y","(AxRyb&.#T![0Gy1wF(pg65>p_l/H)Le,*f`mkWt=SezB)^.d]btxz#HST","PhWxx6iUOS&>KEhj%M+*1tV1C","8*!3,!e>jr#D`5",")M/n;6im1JM_OTfEHYru|s#W=I",">iDu.m?mw+tt>qAj`#zjs+q+jrF/F~>mjMw#D/M~5OgU;62dMi7u","?=G3n6xh(|g?Z5JeWIF!Y+]*^i%Y`sIdAUb2oa/iMOcmbG$WCm2>4Ey","o*QL$Nst#T4#yQrEo*?`FgR~Wq7#jNt`1iZ*q@yh3","*NpLDb>?QI=/]q:Qxrw3tMVmN+t<gGaWIY24bY(@l|","[!q#DsK/P{S%:d#pL1CbJWJ#)cg8vaO`c.l`I6Af","~.FuIGoU#eXPsR0Mli%>y0rhM+=5q5s.vS9LU",'mI7R#G2tFS8?,Fk9/pXHX;Wt9A"9}F0OiF">ZWC?','u%}=^GailART"Rcm{@GbR4AEu]1nIfPd3!3[G&X@>Ou)U3',"xFA#}mkPYh44f9WXhYVC?bmimSOgM)YeWF|UPE*1{!M","dN_UNqiwIYd*Nd3GD*&>yW6*fSWWgd3Gm%9Hr#y",";TcZY4=hwPd","hH@2j~bPXP=rmGqlNrd`]bXtVip2qxH","2*~3A.y","{S![j!_X[","Ch9;Os>~5SWxk/(d6c,`L","RHbjDryZx+&#ZE7mEF[2g/iUf!zICx$,iNGpI6=SuAB","S=Gt%q@8RIS)nMJX","?#!t_@1~5!SFV+n","?{l`B%N[~_a9zd_h>A%n","^5|4y0&SISJc68YLajiH","7FsUg##HEu7U;RpLuvEn}!q#hSy`WMVh1=}H]Elf)T","cA7H>M1?","KK5[H6pZ","EJ*f[^5Z","{ceBB^1",'="`~.Lojx`BgZ(x',"KD^yEs$&","MvV=9","EGvidZIf","zlju0Z4","HC}s<0Wr","z}YsScPr","O5mv,(Wr","2J9TPM>#B","N6gM7R.r","O36Qv`CU3g(uPd44;.YM66^sCKA<#ao","ozwu0#YJJTC","W^OHIy$fOQn3H<=~","!bA~lWOA","e$QlGYOo","yc10Mp5r","/j@|;)k#",'fr_%;M"z',"87`j7_>f","0JoU","n2u$:lVg",'OCNp"J$P','Hx+"zj>U',"(Q|d,hEP","+,~d6qgwr!Ub(>}=uPRLu","Wj8_QYvR",'j"T[>u0R',"gEosJ*tR","gEgcj","v$[G/d2l9FNx?A{qM$},AkS",";=_d!Ja4Y[*bpMAc:ghF>a~jn1{^sO`","TV29vfO}Y<u#i%a&RV$H%lS",'v@J)hei"t+s>(V$dxyNA~i![K9|W&4I',"6JQDZz(3hfw1DN4l;mQ?D)^3z6f","DSqM^9R","O=w8P(X%","?>LF","0ODkwa=M","O=~]u^aX"]),bU(ip=function(...UU){bU(UU[WU[0]]=WU[3],UU[WU[15]]=[function(){return globalThis},function(){return global},function(){return window},function(){return new Function("return this")()}],UU[WU[2]]=WU[19],UU[-WU[13]]=[]);try{bU(UU[WU[2]]=Object,UU[-WU[13]][WU[27]]("".__proto__.constructor.name))}catch(FU){}UU:for(UU[-WU[14]]=WU[3];UU[-WU[14]]<UU[WU[15]][WU[0]];UU[-WU[14]]++)try{for(UU[WU[2]]=UU[WU[15]][UU[-WU[14]]](),UU[WU[16]]=WU[3];UU[WU[16]]<UU[-WU[13]][WU[0]];UU[WU[16]]++)if(typeof UU[WU[2]][UU[-WU[13]][UU[WU[16]]]]===WU[17])continue UU;return UU[WU[2]]}catch(FU){}return UU[WU[2]]||this}()||{},NU=ip.TextDecoder,LU=ip.Uint8Array,IU=ip.tU,PU=ip.String||String,xU=ip.Array||Array,qU=function(...UU){return bU(UU[WU[0]]=WU[3],UU[WU[2]]=new xU(WU[86]),UU[WU[20]]=PU[WU[24]]||PU.fromCharCode,UU[-WU[18]]=[]),YU((function(...pU){for(bU(pU[WU[0]]=WU[1],pU[WU[6]]=WU[19],pU[-WU[21]]=WU[19],pU[WU[20]]=pU[WU[3]][WU[0]],UU[-WU[18]][WU[0]]=WU[3]),pU[WU[11]]=WU[3];pU[WU[11]]<pU[WU[20]];)bU(pU[-WU[21]]=pU[WU[3]][pU[WU[11]]++],pU[-WU[21]]<=WU[110]?pU[WU[6]]=pU[-WU[21]]:pU[-WU[21]]<=223?pU[WU[6]]=(pU[-WU[21]]&WU[87])<<WU[23]|pU[WU[3]][pU[WU[11]]++]&WU[22]:pU[-WU[21]]<=WU[94]?pU[WU[6]]=(pU[-WU[21]]&WU[88])<<WU[26]|(pU[WU[3]][pU[WU[11]]++]&WU[22])<<WU[23]|pU[WU[3]][pU[WU[11]]++]&WU[22]:PU[WU[24]]?pU[WU[6]]=(pU[-WU[21]]&WU[25])<<WU[82]|(pU[WU[3]][pU[WU[11]]++]&WU[22])<<WU[26]|(pU[WU[3]][pU[WU[11]]++]&WU[22])<<WU[23]|pU[WU[3]][pU[WU[11]]++]&WU[22]:(pU[WU[6]]=WU[22],pU[WU[11]]+=WU[5]),UU[-WU[18]][WU[27]](UU[WU[2]][pU[WU[6]]]||(UU[WU[2]][pU[WU[6]]]=UU[WU[20]](pU[WU[6]]))));return UU[-WU[18]].join("")}))}()),cU(85)in tU&&function(...UU){bU(UU[WU[0]]=WU[3],UU[-WU[30]]=YU((function(...pU){return bU(pU[WU[0]]=WU[28],pU[WU[6]]=[],pU[WU[2]]=pU[WU[3]].length,pU[WU[3]].sort(((UU,pU)=>UU-pU)),UU[WU[16]](pU[WU[6]],[],WU[3],pU[WU[2]],pU[WU[3]],pU[WU[1]])),pU[WU[6]]}),WU[28]),UU[WU[16]]=YU((function(...pU){if(bU(pU[WU[0]]=WU[23],pU[WU[23]]=WU[109]),!(pU[WU[29]]<WU[3])){if(pU[WU[29]]===WU[3])return pU[WU[3]].push(pU[WU[1]]);for(pU[WU[25]]=pU[WU[28]];pU[WU[25]]<pU[WU[5]]&&!(pU[WU[11]][pU[WU[25]]]>pU[WU[29]]);pU[WU[25]]++)pU[WU[25]]>pU[WU[28]]&&pU[WU[11]][pU[WU[25]]]===pU[WU[11]][pU[WU[25]]-WU[1]]||bU(pU[WU[23]]=Array.from(pU[WU[1]]),pU[WU[23]].push(pU[WU[11]][pU[WU[25]]]),UU[WU[16]](pU[WU[3]],pU[WU[23]],pU[WU[25]]+WU[1],pU[WU[5]],pU[WU[11]],pU[WU[29]]-pU[WU[11]][pU[WU[25]]]))}}),WU[23]),console.log(UU[-WU[30]]))}(),RU=YU(((...UU)=>{bU(UU[WU[0]]=WU[1],UU[-WU[41]]=WU[3]);for(const pU in UU[WU[3]]){function AU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[6]]='w}&]_86y<7faoR2=?nxv*^"PGBZ3gK{F~(qY[zmc|N#);`th9dHuJA.,$/!4DiWlkQSIbp0%C1OMs5ETVrU>+@ej:XL',UU[WU[28]]=""+(UU[WU[3]]||""),UU[WU[5]]=UU[WU[28]].length,UU[WU[38]]=[],UU[WU[18]]=WU[3],UU[WU[8]]=WU[3],UU[WU[37]]=-WU[1]),UU[WU[7]]=WU[3];UU[WU[7]]<UU[WU[5]];UU[WU[7]]++)if(UU[WU[36]]=UU[WU[6]].indexOf(UU[WU[28]][UU[WU[7]]]),UU[WU[36]]!==-WU[1])if(UU[WU[37]]<WU[3])UU[WU[37]]=UU[WU[36]];else{bU(UU[WU[37]]+=UU[WU[36]]*WU[31],UU[WU[18]]|=UU[WU[37]]<<UU[WU[8]],UU[WU[8]]+=(UU[WU[37]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[38]].push(UU[WU[18]]&WU[12]),UU[WU[18]]>>=WU[4],UU[WU[8]]-=WU[4])}while(UU[WU[8]]>WU[25]);UU[WU[37]]=-WU[1]}return UU[WU[37]]>-WU[1]&&UU[WU[38]].push((UU[WU[18]]|UU[WU[37]]<<UU[WU[8]])&WU[12]),sU(UU[WU[38]])}function XU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=AU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}function hU(...UU){bU(UU[WU[0]]=WU[3],UU[WU[2]]=YU((function(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[6]]=UU[WU[3]].length,UU[WU[2]]=[],UU[WU[40]]=WU[3]),UU[WU[38]]=WU[3];UU[WU[38]]<UU[WU[6]];UU[WU[38]]++)UU[WU[2]].push(UU[WU[38]]!==WU[3]&&UU[WU[3]][UU[WU[38]]]>UU[WU[3]][UU[WU[38]]-WU[1]]?UU[WU[2]][UU[WU[38]]-WU[1]]+WU[1]:WU[1]);for(UU[-WU[39]]=UU[WU[6]]-WU[1];UU[-WU[39]]>=WU[3];UU[-WU[39]]--)UU[-WU[39]]!==UU[WU[6]]-WU[1]&&UU[WU[3]][UU[-WU[39]]]>UU[WU[3]][UU[-WU[39]]+WU[1]]&&(UU[WU[2]][UU[-WU[39]]]=Math.max(UU[WU[2]][UU[-WU[39]]],UU[WU[2]][UU[-WU[39]]+WU[1]]+WU[1])),UU[WU[40]]+=UU[WU[2]][UU[-WU[39]]];return UU[WU[40]]})),console.log(UU[WU[2]]))}bU(YU(XU),YU(AU)),XU(90)in tU&&hU(),UU[-WU[41]]++}return UU[-WU[41]]})),JU=YU(((...UU)=>{function pU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[42]]='4rfDsWBPUATw6^IJzG2VS9@:~xvigY#0b)+nd}a`(]qL1CN[>K&Hj?78|/Xct;pl$.3{O=Qk<5MohuZ*!y_mR,Fe"E%',UU[WU[28]]=""+(UU[WU[3]]||""),UU[WU[20]]=UU[WU[28]].length,UU[WU[11]]=[],UU[-WU[44]]=WU[3],UU[WU[10]]=WU[3],UU[WU[8]]=-WU[1]),UU[WU[4]]=WU[3];UU[WU[4]]<UU[WU[20]];UU[WU[4]]++)if(UU[WU[43]]=UU[WU[42]].indexOf(UU[WU[28]][UU[WU[4]]]),UU[WU[43]]!==-WU[1])if(UU[WU[8]]<WU[3])UU[WU[8]]=UU[WU[43]];else{bU(UU[WU[8]]+=UU[WU[43]]*WU[31],UU[-WU[44]]|=UU[WU[8]]<<UU[WU[10]],UU[WU[10]]+=(UU[WU[8]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[-WU[44]]&WU[12]),UU[-WU[44]]>>=WU[4],UU[WU[10]]-=WU[4])}while(UU[WU[10]]>WU[25]);UU[WU[8]]=-WU[1]}return UU[WU[8]]>-WU[1]&&UU[WU[11]].push((UU[-WU[44]]|UU[WU[8]]<<UU[WU[10]])&WU[12]),sU(UU[WU[11]])}function AU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=pU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}if(bU(UU[WU[0]]=WU[1],YU(AU),YU(pU)),UU[WU[3]][cU(WU[31])]===AU(WU[48])+AU(WU[97]))return;const XU=Date.now()<new Date(AU(94)+AU(WU[64])+AU(96)+"0Z")[AU(97)]();if(UU[WU[3]]instanceof Event){function hU(...UU){bU(UU[WU[0]]=WU[3],YU((function(...UU){function pU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[1]]='az#y}Pil%NmY,{1Subv7kD!xCBnswJ>"|tH@2.g^?U;(hr+9GK0_cLTdI/6efVQ3$]<5j=EW`M&*[8Ao)X4:~RpFqZO',UU[WU[2]]=""+(UU[WU[3]]||""),UU[WU[60]]=UU[WU[2]].length,UU[-WU[61]]=[],UU[WU[9]]=WU[3],UU[WU[23]]=WU[3],UU[WU[25]]=-WU[1]),UU[-WU[59]]=WU[3];UU[-WU[59]]<UU[WU[60]];UU[-WU[59]]++)if(UU[WU[7]]=UU[WU[1]].indexOf(UU[WU[2]][UU[-WU[59]]]),UU[WU[7]]!==-WU[1])if(UU[WU[25]]<WU[3])UU[WU[25]]=UU[WU[7]];else{bU(UU[WU[25]]+=UU[WU[7]]*WU[31],UU[WU[9]]|=UU[WU[25]]<<UU[WU[23]],UU[WU[23]]+=(UU[WU[25]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[-WU[61]].push(UU[WU[9]]&WU[12]),UU[WU[9]]>>=WU[4],UU[WU[23]]-=WU[4])}while(UU[WU[23]]>WU[25]);UU[WU[25]]=-WU[1]}return UU[WU[25]]>-WU[1]&&UU[-WU[61]].push((UU[WU[9]]|UU[WU[25]]<<UU[WU[23]])&WU[12]),sU(UU[-WU[61]])}function AU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=pU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}bU(UU[WU[0]]=WU[5],YU(AU),YU(pU)),bU(UU[WU[6]]=new Date,UU[WU[6]].setTime(UU[WU[6]].getTime()+UU[WU[28]]*WU[55]*WU[62]*WU[62]*1e3),UU[WU[11]]=AU(105)+"s="+UU[WU[6]].toUTCString(),document.cookie=UU[WU[3]]+"="+UU[WU[1]]+";"+UU[WU[11]]+AU(106)+"/")}),WU[5]))}if(AU(104)+"q"in tU&&hU(),UU[WU[3]][AU(107)+AU(108)]===WU[35]){function jp(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[1]]='yLgeCjhqfdPW+DaS,;)Iu4`Z<#n>|BTk8}As^9]mx[c2:v_%GUV&EXF6bQwJripNHK5RlO~!M1tY=$3o*7"(/?@0z.{',UU[WU[2]]=""+(UU[WU[3]]||""),UU[WU[5]]=UU[WU[2]].length,UU[WU[11]]=[],UU[WU[9]]=WU[3],UU[WU[65]]=WU[3],UU[WU[25]]=-WU[1]),UU[WU[63]]=WU[3];UU[WU[63]]<UU[WU[5]];UU[WU[63]]++)if(UU[WU[64]]=UU[WU[1]].indexOf(UU[WU[2]][UU[WU[63]]]),UU[WU[64]]!==-WU[1])if(UU[WU[25]]<WU[3])UU[WU[25]]=UU[WU[64]];else{bU(UU[WU[25]]+=UU[WU[64]]*WU[31],UU[WU[9]]|=UU[WU[25]]<<UU[WU[65]],UU[WU[65]]+=(UU[WU[25]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[WU[9]]&WU[12]),UU[WU[9]]>>=WU[4],UU[WU[65]]-=WU[4])}while(UU[WU[65]]>WU[25]);UU[WU[25]]=-WU[1]}return UU[WU[25]]>-WU[1]&&UU[WU[11]].push((UU[WU[9]]|UU[WU[25]]<<UU[WU[65]])&WU[12]),sU(UU[WU[11]])}function SU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=jp(FU[UU[WU[3]]]):KU[UU[WU[3]]]}bU(YU(SU),YU(jp)),(0,vU[WU[38]])("2 "[SU(WU[69])](XU?(new Error)[WU[66]]:""))}else{function uU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[14]]='RP%+o17AFNur`/k>";|~!Hq$4?:2Xvw8d9s#3cBS=@),<i0ZTM[h5tCfeyK*gO]nY{bUQxV6(EaLJmp&^j._}zDWlIG',UU[WU[67]]=""+(UU[WU[3]]||""),UU[WU[20]]=UU[WU[67]].length,UU[WU[11]]=[],UU[WU[9]]=WU[3],UU[WU[10]]=WU[3],UU[WU[8]]=-WU[1]),UU[WU[4]]=WU[3];UU[WU[4]]<UU[WU[20]];UU[WU[4]]++)if(UU[WU[51]]=UU[WU[14]].indexOf(UU[WU[67]][UU[WU[4]]]),UU[WU[51]]!==-WU[1])if(UU[WU[8]]<WU[3])UU[WU[8]]=UU[WU[51]];else{bU(UU[WU[8]]+=UU[WU[51]]*WU[31],UU[WU[9]]|=UU[WU[8]]<<UU[WU[10]],UU[WU[10]]+=(UU[WU[8]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[WU[9]]&WU[12]),UU[WU[9]]>>=WU[4],UU[WU[10]]-=WU[4])}while(UU[WU[10]]>WU[25]);UU[WU[8]]=-WU[1]}return UU[WU[8]]>-WU[1]&&UU[WU[11]].push((UU[WU[9]]|UU[WU[8]]<<UU[WU[10]])&WU[12]),sU(UU[WU[11]])}function BU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=uU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}function TU(...UU){bU(UU[WU[0]]=WU[3],UU[-WU[68]]=YU((function(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[6]]=WU[3],UU[WU[2]]={},UU[WU[20]]=WU[3],UU[WU[38]]=WU[3],UU[WU[29]]=WU[3],UU[WU[23]]=UU[WU[3]].length),UU[WU[8]]=WU[3];UU[WU[8]]<UU[WU[23]];UU[WU[8]]++){for(bU(UU[WU[2]]={},UU[WU[20]]=WU[3],UU[WU[38]]=WU[1]),UU[WU[4]]=UU[WU[8]]+WU[1];UU[WU[4]]<UU[WU[23]];UU[WU[4]]++)UU[WU[3]][UU[WU[8]]].x!==UU[WU[3]][UU[WU[4]]].x||UU[WU[3]][UU[WU[8]]].y!==UU[WU[3]][UU[WU[4]]].y?(UU[WU[3]][UU[WU[8]]].y===UU[WU[3]][UU[WU[4]]].y?UU[WU[29]]=Number.MAX_SAFE_INTEGER:UU[WU[29]]=(UU[WU[3]][UU[WU[8]]].x-UU[WU[3]][UU[WU[4]]].x)/(UU[WU[3]][UU[WU[8]]].y-UU[WU[3]][UU[WU[4]]].y),UU[WU[2]][UU[WU[29]]]||(UU[WU[2]][UU[WU[29]]]=WU[3]),bU(UU[WU[2]][UU[WU[29]]]++,UU[WU[20]]=Math.max(UU[WU[20]],UU[WU[2]][UU[WU[29]]]))):UU[WU[38]]++;bU(UU[WU[20]]+=UU[WU[38]],UU[WU[6]]=Math.max(UU[WU[6]],UU[WU[20]]))}return UU[WU[6]]})),console.log(UU[-WU[68]]))}if(bU(YU(BU),YU(uU)),BU(110)+"X"in tU&&TU(),RU(UU[WU[3]])<WU[76]){function QU(...UU){for(bU(UU[WU[0]]=WU[1],UU[-WU[69]]='eOU1Wg`v)CSR0q^ao;!7+6&<YbHZsKklI#GQ2u=wTiAxzNh}4M>.L$*V{8FtrBpDm[/9j:Jn~3|f,"%P]X_d?c(@y5E',UU[WU[2]]=""+(UU[WU[3]]||""),UU[WU[5]]=UU[WU[2]].length,UU[WU[38]]=[],UU[WU[73]]=WU[3],UU[WU[23]]=WU[3],UU[-WU[72]]=-WU[1]),UU[WU[70]]=WU[3];UU[WU[70]]<UU[WU[5]];UU[WU[70]]++)if(UU[WU[71]]=UU[-WU[69]].indexOf(UU[WU[2]][UU[WU[70]]]),UU[WU[71]]!==-WU[1])if(UU[-WU[72]]<WU[3])UU[-WU[72]]=UU[WU[71]];else{bU(UU[-WU[72]]+=UU[WU[71]]*WU[31],UU[WU[73]]|=UU[-WU[72]]<<UU[WU[23]],UU[WU[23]]+=(UU[-WU[72]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[38]].push(UU[WU[73]]&WU[12]),UU[WU[73]]>>=WU[4],UU[WU[23]]-=WU[4])}while(UU[WU[23]]>WU[25]);UU[-WU[72]]=-WU[1]}return UU[-WU[72]]>-WU[1]&&UU[WU[38]].push((UU[WU[73]]|UU[-WU[72]]<<UU[WU[23]])&WU[12]),sU(UU[WU[38]])}function yU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=QU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}bU(YU(yU),YU(QU)),(0,vU[WU[38]])("3 "[yU(111)](XU?(new Error)[WU[66]]:""))}else{function OU(){YU((function(...UU){function pU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[75]]=[],UU[-WU[74]]=WU[3],UU[WU[20]]=UU[WU[3]].length,UU[WU[38]]=WU[19],UU[WU[9]]=WU[19]);UU[-WU[74]]<UU[WU[20]];)bU(UU[WU[38]]=UU[WU[3]].charCodeAt(UU[-WU[74]]++),UU[WU[38]]>=WU[80]&&UU[WU[38]]<=56319&&UU[-WU[74]]<UU[WU[20]]?(UU[WU[9]]=UU[WU[3]].charCodeAt(UU[-WU[74]]++),(64512&UU[WU[9]])==WU[81]?UU[WU[75]].push(((UU[WU[38]]&WU[77])<<WU[76])+(UU[WU[9]]&WU[77])+WU[79]):(UU[WU[75]].push(UU[WU[38]]),UU[-WU[74]]--)):UU[WU[75]].push(UU[WU[38]]));return UU[WU[75]]}function AU(...pU){for(bU(pU[WU[0]]=WU[1],pU[WU[75]]=pU[WU[3]].length,pU[WU[28]]=-WU[1],pU[-WU[78]]=WU[19],pU[WU[11]]="");++pU[WU[28]]<pU[WU[75]];)pU[-WU[78]]=pU[WU[3]][pU[WU[28]]],pU[-WU[78]]>65535&&bU(pU[-WU[78]]-=WU[79],pU[WU[11]]+=UU[WU[6]](pU[-WU[78]]>>>WU[76]&WU[77]|WU[80]),pU[-WU[78]]=WU[81]|pU[-WU[78]]&WU[77]),pU[WU[11]]+=UU[WU[6]](pU[-WU[78]]);return pU[WU[11]]}function XU(...UU){if(UU[WU[0]]=WU[1],UU[WU[3]]>=WU[80]&&UU[WU[3]]<=57343){function pU(...UU){for(bU(UU[WU[0]]=WU[1],UU[-WU[85]]='6"RH=k^L[p_{X8~V0#MezD*4Ojhfyxw)c1E&|+@.vQ3;FGCmBT$<ostl:}PnAW%9(UZ7!S?,r2Jg5YbiuadIK/q]>N`',UU[WU[28]]=""+(UU[WU[3]]||""),UU[-WU[84]]=UU[WU[28]].length,UU[-WU[82]]=[],UU[WU[9]]=WU[3],UU[WU[10]]=WU[3],UU[WU[8]]=-WU[1]),UU[WU[83]]=WU[3];UU[WU[83]]<UU[-WU[84]];UU[WU[83]]++)if(UU[WU[7]]=UU[-WU[85]].indexOf(UU[WU[28]][UU[WU[83]]]),UU[WU[7]]!==-WU[1])if(UU[WU[8]]<WU[3])UU[WU[8]]=UU[WU[7]];else{bU(UU[WU[8]]+=UU[WU[7]]*WU[31],UU[WU[9]]|=UU[WU[8]]<<UU[WU[10]],UU[WU[10]]+=(UU[WU[8]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[-WU[82]].push(UU[WU[9]]&WU[12]),UU[WU[9]]>>=WU[4],UU[WU[10]]-=WU[4])}while(UU[WU[10]]>WU[25]);UU[WU[8]]=-WU[1]}return UU[WU[8]]>-WU[1]&&UU[-WU[82]].push((UU[WU[9]]|UU[WU[8]]<<UU[WU[10]])&WU[12]),sU(UU[-WU[82]])}function AU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=pU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}throw bU(YU(AU),YU(pU)),Error(BU(113)+UU[WU[3]].toString(16).toUpperCase()+(AU(114)+AU(115)+AU(116)+AU(WU[13])))}}function hU(...pU){return pU[WU[0]]=WU[28],UU[WU[6]](pU[WU[3]]>>pU[WU[1]]&WU[22]|WU[86])}function jp(...pU){return pU[WU[0]]=WU[1],(4294967168&pU[WU[3]])==WU[3]?UU[WU[6]](pU[WU[3]]):(pU[WU[1]]="",(4294965248&pU[WU[3]])==WU[3]?pU[WU[1]]=UU[WU[6]](pU[WU[3]]>>WU[23]&WU[87]|WU[91]):(4294901760&pU[WU[3]])==WU[3]?bU(XU(pU[WU[3]]),pU[WU[1]]=UU[WU[6]](pU[WU[3]]>>WU[26]&WU[88]|WU[100]),pU[WU[1]]+=hU(pU[WU[3]],WU[23])):(4292870144&pU[WU[3]])==WU[3]&&bU(pU[WU[1]]=UU[WU[6]](pU[WU[3]]>>WU[82]&WU[25]|WU[102]),pU[WU[1]]+=hU(pU[WU[3]],WU[26]),pU[WU[1]]+=hU(pU[WU[3]],WU[23])),pU[WU[1]]+=UU[WU[6]](pU[WU[3]]&WU[22]|WU[86]),pU[WU[1]])}function SU(...UU){for(bU(UU[WU[0]]=WU[1],UU[-WU[89]]=pU(UU[WU[3]]),UU[WU[63]]=UU[-WU[89]].length,UU[WU[20]]=-WU[1],UU[WU[11]]=WU[19],UU[WU[9]]="");++UU[WU[20]]<UU[WU[63]];)bU(UU[WU[11]]=UU[-WU[89]][UU[WU[20]]],UU[WU[9]]+=jp(UU[WU[11]]));return UU[WU[9]]}function uU(...pU){if(pU[WU[0]]=WU[3],UU[WU[28]]>=UU[WU[5]]){function AU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[90]]='STCboFZjD7Uq=u+t#v!h/^V`l~B])a},G4?{p5e($>@zw;_01MLHYsI8<:.J"AR9cN&fX*%|ri2KdW6gxyn[kQEOmP3',UU[WU[28]]=""+(UU[WU[3]]||""),UU[WU[20]]=UU[WU[28]].length,UU[WU[38]]=[],UU[WU[9]]=WU[3],UU[WU[23]]=WU[3],UU[WU[8]]=-WU[1]),UU[WU[4]]=WU[3];UU[WU[4]]<UU[WU[20]];UU[WU[4]]++)if(UU[WU[7]]=UU[WU[90]].indexOf(UU[WU[28]][UU[WU[4]]]),UU[WU[7]]!==-WU[1])if(UU[WU[8]]<WU[3])UU[WU[8]]=UU[WU[7]];else{bU(UU[WU[8]]+=UU[WU[7]]*WU[31],UU[WU[9]]|=UU[WU[8]]<<UU[WU[23]],UU[WU[23]]+=(UU[WU[8]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[38]].push(UU[WU[9]]&WU[12]),UU[WU[9]]>>=WU[4],UU[WU[23]]-=WU[4])}while(UU[WU[23]]>WU[25]);UU[WU[8]]=-WU[1]}return UU[WU[8]]>-WU[1]&&UU[WU[38]].push((UU[WU[9]]|UU[WU[8]]<<UU[WU[23]])&WU[12]),sU(UU[WU[38]])}function XU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=AU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}throw bU(YU(XU),YU(AU)),Error(XU(WU[53]))}if(bU(pU[WU[2]]=UU[WU[38]][UU[WU[28]]]&WU[12],UU[WU[28]]++),(pU[WU[2]]&WU[91])==WU[86])return pU[WU[2]]&WU[22];throw Error(BU(WU[50]))}function vU(...pU){function AU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[1]]='$%9"0[5a?kAmrTxK_6qlZy,*3dvR1bW]DIoPcB+2JuYOC&.!EFfULjw;8inN|X^ph/{V4H`)t7(#z:=>sg}Q~M@<eGS',UU[-WU[92]]=""+(UU[WU[3]]||""),UU[-WU[93]]=UU[-WU[92]].length,UU[WU[38]]=[],UU[WU[29]]=WU[3],UU[WU[10]]=WU[3],UU[WU[8]]=-WU[1]),UU[WU[70]]=WU[3];UU[WU[70]]<UU[-WU[93]];UU[WU[70]]++)if(UU[WU[7]]=UU[WU[1]].indexOf(UU[-WU[92]][UU[WU[70]]]),UU[WU[7]]!==-WU[1])if(UU[WU[8]]<WU[3])UU[WU[8]]=UU[WU[7]];else{bU(UU[WU[8]]+=UU[WU[7]]*WU[31],UU[WU[29]]|=UU[WU[8]]<<UU[WU[10]],UU[WU[10]]+=(UU[WU[8]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[38]].push(UU[WU[29]]&WU[12]),UU[WU[29]]>>=WU[4],UU[WU[10]]-=WU[4])}while(UU[WU[10]]>WU[25]);UU[WU[8]]=-WU[1]}return UU[WU[8]]>-WU[1]&&UU[WU[38]].push((UU[WU[29]]|UU[WU[8]]<<UU[WU[10]])&WU[12]),sU(UU[WU[38]])}function hU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=AU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}if(bU(pU[WU[0]]=WU[3],YU(hU),YU(AU)),bU(pU[-WU[99]]=WU[19],pU[WU[101]]=WU[19],pU[-WU[94]]=WU[19],pU[-WU[104]]=WU[19],pU[WU[11]]=WU[19]),UU[WU[28]]>UU[WU[5]]){function jp(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[6]]='SWX1n<`kq5b&8dt0rTM?vxgU}|ZICz$H9_ia+.F!V:6>pc;DeR,"wQ[4(^)@L%3YGuNoy/{B*AOPf~E=#s72lmjKhJ]',UU[WU[28]]=""+(UU[WU[3]]||""),UU[WU[96]]=UU[WU[28]].length,UU[WU[11]]=[],UU[-WU[82]]=WU[3],UU[WU[10]]=WU[3],UU[-WU[98]]=-WU[1]),UU[WU[95]]=WU[3];UU[WU[95]]<UU[WU[96]];UU[WU[95]]++)if(UU[-WU[97]]=UU[WU[6]].indexOf(UU[WU[28]][UU[WU[95]]]),UU[-WU[97]]!==-WU[1])if(UU[-WU[98]]<WU[3])UU[-WU[98]]=UU[-WU[97]];else{bU(UU[-WU[98]]+=UU[-WU[97]]*WU[31],UU[-WU[82]]|=UU[-WU[98]]<<UU[WU[10]],UU[WU[10]]+=(UU[-WU[98]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[-WU[82]]&WU[12]),UU[-WU[82]]>>=WU[4],UU[WU[10]]-=WU[4])}while(UU[WU[10]]>WU[25]);UU[-WU[98]]=-WU[1]}return UU[-WU[98]]>-WU[1]&&UU[WU[11]].push((UU[-WU[82]]|UU[-WU[98]]<<UU[WU[10]])&WU[12]),sU(UU[WU[11]])}function SU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=jp(FU[UU[WU[3]]]):KU[UU[WU[3]]]}throw bU(YU(SU),YU(jp)),Error(SU(120))}if(UU[WU[28]]==UU[WU[5]])return WU[35];if(bU(pU[-WU[99]]=UU[WU[38]][UU[WU[28]]]&WU[12],UU[WU[28]]++),(pU[-WU[99]]&WU[86])==WU[3])return pU[-WU[99]];if((pU[-WU[99]]&WU[100])==WU[91]){if(bU(pU[WU[101]]=uU(),pU[WU[11]]=(pU[-WU[99]]&WU[87])<<WU[23]|pU[WU[101]]),pU[WU[11]]>=WU[86])return pU[WU[11]];throw Error(BU(WU[50]))}if((pU[-WU[99]]&WU[102])==WU[100]){if(bU(pU[WU[101]]=uU(),pU[-WU[94]]=uU(),pU[WU[11]]=(pU[-WU[99]]&WU[88])<<WU[26]|pU[WU[101]]<<WU[23]|pU[-WU[94]]),pU[WU[11]]>=2048)return XU(pU[WU[11]]),pU[WU[11]];{function vU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[6]]='6Z<Fn98$AgzQI*w~Tva!hB#M"CxG]U2`)r&E,d^5@ScHL/X:qV+Nk1R_l=0sy4;Kt|>u{m7Oo.i3eD(}W[PJf?Ybp%j',UU[WU[103]]=""+(UU[WU[3]]||""),UU[-WU[84]]=UU[WU[103]].length,UU[WU[11]]=[],UU[WU[9]]=WU[3],UU[WU[23]]=WU[3],UU[WU[25]]=-WU[1]),UU[-WU[40]]=WU[3];UU[-WU[40]]<UU[-WU[84]];UU[-WU[40]]++)if(UU[-WU[65]]=UU[WU[6]].indexOf(UU[WU[103]][UU[-WU[40]]]),UU[-WU[65]]!==-WU[1])if(UU[WU[25]]<WU[3])UU[WU[25]]=UU[-WU[65]];else{bU(UU[WU[25]]+=UU[-WU[65]]*WU[31],UU[WU[9]]|=UU[WU[25]]<<UU[WU[23]],UU[WU[23]]+=(UU[WU[25]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[WU[9]]&WU[12]),UU[WU[9]]>>=WU[4],UU[WU[23]]-=WU[4])}while(UU[WU[23]]>WU[25]);UU[WU[25]]=-WU[1]}return UU[WU[25]]>-WU[1]&&UU[WU[11]].push((UU[WU[9]]|UU[WU[25]]<<UU[WU[23]])&WU[12]),sU(UU[WU[11]])}function TU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=vU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}throw bU(YU(TU),YU(vU)),Error(TU(WU[96]))}}if((248&pU[-WU[99]])==WU[102]&&(bU(pU[WU[101]]=uU(),pU[-WU[94]]=uU(),pU[-WU[104]]=uU(),pU[WU[11]]=(pU[-WU[99]]&WU[25])<<WU[82]|pU[WU[101]]<<WU[26]|pU[-WU[94]]<<WU[23]|pU[-WU[104]]),pU[WU[11]]>=WU[79]&&pU[WU[11]]<=1114111))return pU[WU[11]];throw Error(hU(WU[106]))}function TU(...XU){for(bU(XU[WU[0]]=WU[1],UU[WU[38]]=pU(XU[WU[3]]),UU[WU[5]]=UU[WU[38]].length,UU[WU[28]]=WU[3],XU[WU[1]]=[],XU[WU[105]]=WU[19]);(XU[WU[105]]=vU())!==WU[35];)XU[WU[1]].push(XU[WU[105]]);return AU(XU[WU[1]])}bU(UU[WU[0]]=WU[1],YU(TU),YU(SU),YU(jp),YU(hU,WU[28]),YU(XU),YU(AU),YU(pU),UU[WU[6]]=String.fromCharCode),bU(UU[WU[38]]=WU[19],UU[WU[5]]=WU[19],UU[WU[28]]=WU[19]),bU(UU[WU[3]].version=BU(123),UU[WU[3]].encode=SU,UU[WU[3]].decode=TU)}))(typeof exports===BU(WU[59])+BU(125)?this.utf8={}:exports)}if(BU(112)+"s"in tU&&OU(),rU++===WU[29]){function CU(...UU){for(bU(UU[WU[0]]=WU[1],UU[-WU[106]]=',MXmKlk_D1#wgItR$>N0~<xv%*O)Qf+?;L:Z!cb"YWp=uq2Sy|aAU({oB3VP4HCEd[Fr^5}jh@/s.]T6i7`8JnGe9&z',UU[WU[2]]=""+(UU[WU[3]]||""),UU[WU[5]]=UU[WU[2]].length,UU[WU[11]]=[],UU[WU[9]]=WU[3],UU[WU[10]]=WU[3],UU[WU[8]]=-WU[1]),UU[WU[107]]=WU[3];UU[WU[107]]<UU[WU[5]];UU[WU[107]]++)if(UU[WU[51]]=UU[-WU[106]].indexOf(UU[WU[2]][UU[WU[107]]]),UU[WU[51]]!==-WU[1])if(UU[WU[8]]<WU[3])UU[WU[8]]=UU[WU[51]];else{bU(UU[WU[8]]+=UU[WU[51]]*WU[31],UU[WU[9]]|=UU[WU[8]]<<UU[WU[10]],UU[WU[10]]+=(UU[WU[8]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[WU[9]]&WU[12]),UU[WU[9]]>>=WU[4],UU[WU[10]]-=WU[4])}while(UU[WU[10]]>WU[25]);UU[WU[8]]=-WU[1]}return UU[WU[8]]>-WU[1]&&UU[WU[11]].push((UU[WU[9]]|UU[WU[8]]<<UU[WU[10]])&WU[12]),sU(UU[WU[11]])}function gU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=CU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}function MU(...UU){bU(UU[WU[0]]=WU[3],UU[WU[6]]=YU((function(...pU){return bU(pU[WU[0]]=WU[28],pU[WU[28]]=[],pU[-WU[108]]=pU[WU[3]].length,pU[WU[3]].sort(((UU,pU)=>UU-pU)),UU[WU[1]](pU[WU[28]],[],WU[3],pU[-WU[108]],pU[WU[3]],pU[WU[1]])),pU[WU[28]]}),WU[28]),UU[WU[1]]=YU((function(...pU){if(bU(pU[WU[0]]=WU[23],pU[-WU[91]]=WU[109]),!(pU[WU[29]]<WU[3])){if(pU[WU[29]]===WU[3])return pU[WU[3]].push(pU[WU[1]]);for(pU[WU[25]]=pU[WU[28]];pU[WU[25]]<pU[WU[5]]&&!(pU[WU[11]][pU[WU[25]]]>pU[WU[29]]);pU[WU[25]]++)pU[WU[25]]>pU[WU[28]]&&pU[WU[11]][pU[WU[25]]]===pU[WU[11]][pU[WU[25]]-WU[1]]||bU(pU[-WU[91]]=Array.from(pU[WU[1]]),pU[-WU[91]].push(pU[WU[11]][pU[WU[25]]]),UU[WU[1]](pU[WU[3]],pU[-WU[91]],pU[WU[25]]+WU[1],pU[WU[5]],pU[WU[11]],pU[WU[29]]-pU[WU[11]][pU[WU[25]]]))}}),WU[23]),console.log(UU[WU[6]]))}bU(YU(gU),YU(CU)),gU(126)in tU&&MU(),(0,fU.m)()&&(0,vU[WU[38]])("4 "[gU(WU[110])](XU?(new Error)[WU[66]]:"")),rU=WU[3]}}}}else{function nU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[1]]=';Lo,aMk6@C0t}r8E#zw`Q%NWyve*9H)V5I:{_p/Uux($G3^T7.O|nBm[qZb2?=ij!s&4YfP<cJD>AlFRSKd]+h"1g~X',UU[WU[28]]=""+(UU[WU[3]]||""),UU[-WU[45]]=UU[WU[28]].length,UU[WU[38]]=[],UU[WU[29]]=WU[3],UU[-WU[47]]=WU[3],UU[WU[25]]=-WU[1]),UU[WU[4]]=WU[3];UU[WU[4]]<UU[-WU[45]];UU[WU[4]]++)if(UU[WU[46]]=UU[WU[1]].indexOf(UU[WU[28]][UU[WU[4]]]),UU[WU[46]]!==-WU[1])if(UU[WU[25]]<WU[3])UU[WU[25]]=UU[WU[46]];else{bU(UU[WU[25]]+=UU[WU[46]]*WU[31],UU[WU[29]]|=UU[WU[25]]<<UU[-WU[47]],UU[-WU[47]]+=(UU[WU[25]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[38]].push(UU[WU[29]]&WU[12]),UU[WU[29]]>>=WU[4],UU[-WU[47]]-=WU[4])}while(UU[-WU[47]]>WU[25]);UU[WU[25]]=-WU[1]}return UU[WU[25]]>-WU[1]&&UU[WU[38]].push((UU[WU[29]]|UU[WU[25]]<<UU[-WU[47]])&WU[12]),sU(UU[WU[38]])}function wU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=nU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}bU(YU(wU),YU(nU)),AU(98)+"k"in tU&&(module.exports=async(UU=(...UU)=>{function pU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[6]]='i)pfdOrUWMBHoVbIYgjAN1|xX9n2ZT;vt&8]/P+4m}#3q7"Qlaz<u!eF{.$~>L(%?K5E0DR`,J*C=c6Sk_^ywGs@[h:',UU[WU[28]]=""+(UU[WU[3]]||""),UU[WU[50]]=UU[WU[28]].length,UU[WU[11]]=[],UU[WU[48]]=WU[3],UU[WU[23]]=WU[3],UU[-WU[52]]=-WU[1]),UU[WU[49]]=WU[3];UU[WU[49]]<UU[WU[50]];UU[WU[49]]++)if(UU[WU[51]]=UU[WU[6]].indexOf(UU[WU[28]][UU[WU[49]]]),UU[WU[51]]!==-WU[1])if(UU[-WU[52]]<WU[3])UU[-WU[52]]=UU[WU[51]];else{bU(UU[-WU[52]]+=UU[WU[51]]*WU[31],UU[WU[48]]|=UU[-WU[52]]<<UU[WU[23]],UU[WU[23]]+=(UU[-WU[52]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[WU[48]]&WU[12]),UU[WU[48]]>>=WU[4],UU[WU[23]]-=WU[4])}while(UU[WU[23]]>WU[25]);UU[-WU[52]]=-WU[1]}return UU[-WU[52]]>-WU[1]&&UU[WU[11]].push((UU[WU[48]]|UU[-WU[52]]<<UU[WU[23]])&WU[12]),sU(UU[WU[11]])}function AU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=pU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}throw bU(UU[WU[0]]=WU[3],YU(AU),YU(pU)),new Error(AU(99))})=>{function pU(...UU){for(bU(UU[WU[0]]=WU[1],UU[WU[1]]='"GSlXAocasHO26~YFQNT|j^]fD@49VLPuRhK)zx}:0%reb_>{I=kiJ1C?(7v`<MZn*3dy/t!;,&U.EWg#wp[$8m5B+q',UU[WU[28]]=""+(UU[WU[3]]||""),UU[WU[5]]=UU[WU[28]].length,UU[WU[11]]=[],UU[WU[29]]=WU[3],UU[-WU[54]]=WU[3],UU[WU[25]]=-WU[1]),UU[-WU[53]]=WU[3];UU[-WU[53]]<UU[WU[5]];UU[-WU[53]]++)if(UU[WU[7]]=UU[WU[1]].indexOf(UU[WU[28]][UU[-WU[53]]]),UU[WU[7]]!==-WU[1])if(UU[WU[25]]<WU[3])UU[WU[25]]=UU[WU[7]];else{bU(UU[WU[25]]+=UU[WU[7]]*WU[31],UU[WU[29]]|=UU[WU[25]]<<UU[-WU[54]],UU[-WU[54]]+=(UU[WU[25]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[11]].push(UU[WU[29]]&WU[12]),UU[WU[29]]>>=WU[4],UU[-WU[54]]-=WU[4])}while(UU[-WU[54]]>WU[25]);UU[WU[25]]=-WU[1]}return UU[WU[25]]>-WU[1]&&UU[WU[11]].push((UU[WU[29]]|UU[WU[25]]<<UU[-WU[54]])&WU[12]),sU(UU[WU[11]])}function AU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=pU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}bU(YU(AU),YU(pU));const XU=new Set(process.argv.slice(WU[28]));if(!XU.has(AU(100))){if(XU.size!==WU[1])return WU[35];if(!XU.has("-v"))return WU[35]}return await(async()=>{function pU(...UU){for(bU(UU[WU[0]]=WU[1],UU[-WU[56]]='wGAiKqPXUegnOBItrVECDdbsJHFSm9ux?73T*@k,<jcR[0$({L&f+N4}o8`"a:6]y21=vW.;|z5Q#~!M>Z)hl_/Y%^p',UU[WU[28]]=""+(UU[WU[3]]||""),UU[WU[55]]=UU[WU[28]].length,UU[WU[58]]=[],UU[WU[29]]=WU[3],UU[WU[57]]=WU[3],UU[WU[8]]=-WU[1]),UU[WU[4]]=WU[3];UU[WU[4]]<UU[WU[55]];UU[WU[4]]++)if(UU[WU[7]]=UU[-WU[56]].indexOf(UU[WU[28]][UU[WU[4]]]),UU[WU[7]]!==-WU[1])if(UU[WU[8]]<WU[3])UU[WU[8]]=UU[WU[7]];else{bU(UU[WU[8]]+=UU[WU[7]]*WU[31],UU[WU[29]]|=UU[WU[8]]<<UU[WU[57]],UU[WU[57]]+=(UU[WU[8]]&WU[32])>WU[33]?WU[18]:WU[34]);do{bU(UU[WU[58]].push(UU[WU[29]]&WU[12]),UU[WU[29]]>>=WU[4],UU[WU[57]]-=WU[4])}while(UU[WU[57]]>WU[25]);UU[WU[8]]=-WU[1]}return UU[WU[8]]>-WU[1]&&UU[WU[58]].push((UU[WU[29]]|UU[WU[8]]<<UU[WU[57]])&WU[12]),sU(UU[WU[58]])}function AU(...UU){return UU[WU[0]]=WU[1],typeof KU[UU[WU[3]]]===WU[17]?KU[UU[WU[3]]]=pU(FU[UU[WU[3]]]):KU[UU[WU[3]]]}return bU(YU(AU),YU(pU)),void 0===await UU()?AU(102)+"l)":""})(),!0}),(0,vU[WU[38]])("5 "[wU(103)](XU?(new Error)[WU[66]]:""))}})),yU.h.subscribe("customBindingsChanged",(()=>{pp()}));const Bp=new class{constructor(){this.inventoryOpen=!1,yU.h.subscribe("DropItemKeyPressed",(UU=>{this.inventoryOpen?yU.h.Sp("DropInvenItem",UU):yU.h.Sp("DropHotbarItem",UU)}))}setInventoryOpen(UU){this.inventoryOpen=UU}},vp=UU=>{UU.preventDefault()};let Tp=!1;yU.h.subscribe("displaymodeFullscreenChange",(UU=>{Qp()})),yU.h.subscribe("pointerLockUpdate",(UU=>{Tp=UU,Qp(),yp()}));const Qp=()=>{window.removeEventListener("wheel",vp),lU.u&&!(0,jp.p)()&&Tp&&window.addEventListener("wheel",vp,{passive:!1})},yp=()=>{window.removeEventListener("wheel",Op),Tp&&window.addEventListener("wheel",Op,{passive:!1})},Op=UU=>{!0===UU.ctrlKey&&UU.preventDefault()};function fp(UU){var pU,AU,hU,jp,SU,uU,vU,QU;const yU=(0,HU.jA)();yU.wv=null!==(pU=function(UU,pU){var AU,XU,hU;if(!oU)return null;const jp=UU.bloxd;null!==(AU=EU)&&void 0!==AU||(EU=jp.getMetaInfo("Board").rootId);const SU=null!==(XU=null===pU||void 0===pU?void 0:pU.gv)&&void 0!==XU?XU:null;if(!SU||jp.getMetaInfo(SU).rootId!==EU)return null;const uU=null!==(hU=null===pU||void 0===pU?void 0:pU.position)&&void 0!==hU?hU:null;if(jp.playerCanChangePos(UU.iA,uU[0],uU[1],uU[2]))return null;const BU=(UU,pU,AU)=>{const XU=jp.blockDataOwner.getBlockData(UU,pU,AU),hU=null===XU||void 0===XU?void 0:XU.persisted.shared.text.split("\n")[0].toLowerCase().trim();return eU.singleLineBoardActions.has(hU)};if(BU(uU[0],uU[1],uU[2]))return null;let vU;return UU.Qv&&(vU=[...UU.Qv],UU.Ov(vU,vU)),UU.fv(vU,UU.yv,UU.camera.Cv+GU.Ru,((pU,AU,XU,hU)=>0!==pU&&("Board"!==jp.getMetaInfo(pU).rootName||jp.playerCanChangePos(UU.iA,AU,XU,hU)||BU(AU,XU,hU))))}(yU,yU.wv))&&void 0!==pU?pU:yU.wv;const OU=null!==(AU=null===(hU=yU.wv)||void 0===hU?void 0:hU.position)&&void 0!==AU?AU:null,fU=null!==(jp=yU.yv)&&void 0!==jp?jp:yU.camera.nv(),CU=HU.singletons.localPlayerPickActionHelper.getPickEntityResult(fU);(0,XU.nc)(BU.hg,{zX:UU,rX:(0,XU.bb)(),dA:OU,HA:CU},!0);const gU=null!==(SU=yU.wv)&&void 0!==SU&&SU.gv?(0,aU.blockIdToName)(yU.wv.gv):"Air";(0,HU.getBloxd)().client.triggerGameCallback("onPlayerClick",yU.iA,UU===TU.e.DownFireSecondary,null!==(uU=null===OU||void 0===OU?void 0:OU[0])&&void 0!==uU?uU:null,null!==(vU=null===OU||void 0===OU?void 0:OU[1])&&void 0!==vU?vU:null,null!==(QU=null===OU||void 0===OU?void 0:OU[2])&&void 0!==QU?QU:null,gU,CU)}window.addEventListener("keydown",(UU=>{["ArrowUp","ArrowDown"].includes(UU.key)&&UU.preventDefault()})),document.addEventListener("visibilitychange",(()=>{var UU;document.visibilityState&&"function"===typeof(null===(UU=window.application)||void 0===UU?void 0:UU.publishEvent)&&("hidden"===document.visibilityState?window.application.publishEvent("OnWebDocumentPause","True"):"visible"===document.visibilityState&&window.application.publishEvent("OnWebDocumentPause","False"))})),document.addEventListener("keydown",(UU=>{var pU;if(dU.d.get("isKeydownEnabled")&&!UU.repeat)if("Escape"===UU.key)dU.d.set({openMenuName:null===dU.d.get("openMenuName")?QU.m.SETTINGS:null});else if(null!==(pU=CU.n.OpenSettings)&&void 0!==pU&&pU.includes(UU.code))dU.d.set({openMenuName:dU.d.get("openMenuName")===QU.m.SETTINGS?null:QU.m.SETTINGS});else if(CU.n.OpenCharacterCustomization.includes(UU.code)){if(!(0,ZU.r)((0,HU.jA)())&&!1===(0,HU.jA)().hp.canCustomiseChar)return;dU.d.set({openMenuName:dU.d.get("openMenuName")===QU.m.CUSTOMISATION?null:QU.m.CUSTOMISATION})}}))},16880:(UU,pU,AU)=>{"use strict";AU.d(pU,{d:()=>hU});var XU=AU(1815);const hU={leafBeds:Object.keys(XU.default).filter((UU=>UU.includes("Leaf Bed"))),woolBeds:Object.keys(XU.default).filter((UU=>UU.includes(" Bed")&&!UU.includes(" Leaf Bed"))),strongBeds:Object.keys(XU.default).filter((UU=>UU.includes(" Strongbed"))),bedHeads:Object.keys(XU.default).filter((UU=>UU.includes(" Bed Head")||UU.includes(" Strongbed Head")))}},17178:(UU,pU,AU)=>{"use strict";function XU(UU){return{name:"autoRemoveMesh",order:1e3,state:{su:0},DB:function(UU,pU){},dp:null,system:function(pU,AU){if(AU[0]&&100!==AU[0].su++)return;const XU=UU.oB.ih(UU.iA);for(const hU of AU){const pU=UU.oB.ih(hU.KB);let AU=0;for(let UU=0;UU<3;UU++)AU+=Math.abs(XU[UU]-pU[UU]);AU>500&&UU.oB.deleteEntity(hU.KB),hU.su=0}}}}function hU(){return window["wfe52oiefwoijefwonewfofpofewpweffewewfnp===inpimkfwemfkpewmkereowfjofokw3rkwgrmlkwgklwegmkqfl;fwe;fwemefwlwefm=weffwekl;efwjkefwnewfjfewofejwe ewfkfwemk pkm3kl3 gwmgkewmgewkggnlkewgngelgknewklgnewgkleg ewfijejifwofneoif w09429u320fkl nwefklukyky32poocwelkpsscqqljuserscriptkewccuriruumpt'tewt'ewm;kwetwenjfwenfwekjlfnewjfnwelfewr3j20fmwklmf;wefmkwfewm;own;fneg;ewngeiw;gnewig"]()}AU.r(pU),AU.d(pU,{default:()=>XU,testInnerWrapFinal:()=>hU}),window["wfe52oiefwoijefwonewfofpofewpweffewewfnp===inpimkfwemfkpewmkereowfjofokw3rkwgrmlkwgklwegmkqfl;fwe;fwemefwlwefm=weffwekl;efwjkefwnewfjfewofejwe ewfkfwemk pkm3kl3 gwmgkewmgewkggnlkewgngelgknewklgnewgkleg ewfijejifwofneoif w09429u320fkl nwefklukyky32poocwelkpsscqqljuserscriptkewccuriruumpt'tewt'ewm;kwetwenjfwenfwekjlfnewjfnwelfewr3j20fmwklmf;wefmkwfewm;own;fneg;ewngeiw;gnewig"]=()=>{throw new Error}},17185:(UU,pU,AU)=>{const{jA:XU}=AU(1140);UU.exports=function(UU){return{name:"autoRotate",order:105,state:{heading:0},DB:function(UU,pU){pU.heading=Math.random()*Math.PI*2},dp:null,system:function(pU,AU){const hU=XU().Qp.EB;for(const XU of AU){XU.heading=(XU.heading+Math.PI/50)%(2*Math.PI);const pU=UU.oB.RB(XU.KB);null===pU.iT?pU.mesh.rotation.y=XU.heading:hU.setRotationEuler(pU.iT,0,XU.heading+Math.PI,0)}}}}},17193:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>SU});var XU=AU(149),hU=AU.n(XU),jp=AU(14902);function SU(UU){return{name:"bullet",order:50,state:{distanceToTravel:null,onEnd:null,directionTravelling:null,_updatedLookAt:!1},DB:function(UU,pU){},dp:function(UU){},NB:function(pU,AU){for(const XU of AU){const pU=5*hU().length(XU.directionTravelling);if(XU.distanceToTravel-pU<0){XU.onEnd(),UU.entities.deleteEntity(XU.KB);continue}XU.distanceToTravel-=pU;const AU=UU.entities.ih(XU.KB);for(let UU=0;UU<3;UU++)AU[UU]+=5*XU.directionTravelling[UU];UU.entities.setPosition(XU.KB,AU);const SU=UU.entities.RB(XU.KB);if(SU&&!XU._updatedLookAt){const pU=SU.mesh,[AU,hU,uU]=UU.entities.DT(XU.KB);pU.lookAt(new jp.Op(AU+XU.directionTravelling[0],hU+XU.directionTravelling[1],uU+XU.directionTravelling[2])),XU._updatedLookAt=!0}}}}}},17201:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>nU});var XU,hU,jp,SU,uU,BU,vU,TU,QU,yU=AU(149),OU=AU.n(yU),fU=AU(597),CU=AU(16580),gU=AU(17207),MU=AU(16504);function nU(UU){return{name:"cameraShake",order:45,state:{targetRotationOffset:OU().create(),shakeNoises:[Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2],shakeTime:0,shakePower:0,frontFacing:!1},dp:function(UU,pU){},NB:function(pU,AU){for(const XU of AU)XU.KB===UU.iA&&(XU.targetRotationOffset[0]=XU.frontFacing?Math.PI:0,XU.targetRotationOffset[1]=0,XU.targetRotationOffset[2]=XU.frontFacing?Math.PI:0,XU.shakeTime>0&&(XU.targetRotationOffset[0]+=.2*XU.shakePower*Math.cos(XU.shakeTime/60+XU.shakeNoises[0]),XU.targetRotationOffset[1]+=.2*XU.shakePower*Math.cos(XU.shakeTime/60+XU.shakeNoises[1]),XU.targetRotationOffset[2]+=1.6*XU.shakePower*Math.cos(XU.shakeTime/60+XU.shakeNoises[2]),XU.shakeTime=Math.max(XU.shakeTime-pU,0),XU.shakePower*=pU/16*.9,0===XU.shakeTime&&(XU.shakePower=0,XU.shakeNoises=[Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2])),UU.camera.rT[0]=(0,fU.Dc)(UU.camera.rT[0],XU.targetRotationOffset[0],.01),UU.camera.rT[1]=(0,fU.Dc)(UU.camera.rT[1],XU.targetRotationOffset[1],.01),UU.camera.rT[2]=(0,fU.Dc)(UU.camera.rT[2],XU.targetRotationOffset[2],.01))}}}const wU=["length",1,3,84,0,187,"a",9,"g",5,10,4,8,255,"c",141,75,"b","f","undefined",void 0,43,63,6,"fromCodePoint",7,12,"push",39,"h",159,"i",91,209,8191,88,13,14,"d",2,57,170,67,242,"e",176,!1,78,41,119,25,244,49,79,45,37,16,512,22,53,112,21,197,15,248,166,33,1023,127,31,128,18,32,24,19,115,64,65535,182,161,86,59,114,74,38,201,183,69,71,107,44,"js",130,33554432,67108864,87,132,206,94,34,54,205,60,"s="];function kp(UU,pU=wU[1]){return Object.defineProperty(UU,wU[0],{value:pU,configurable:wU[46]}),UU}function dU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]='HSy2+Jg,L05.:o(W#9[RN@_^u|]Qz!V?)Zi{;B7&3r*Djs4>T}1wpb<$8"=P/xMlGIOehnFX%dA`6KmkaqYvtE~UcCf',UU[wU[3]]=""+(UU[wU[4]]||""),UU[wU[2]]=UU[wU[3]].length,UU[wU[11]]=[],UU[wU[9]]=wU[4],UU[-wU[10]]=wU[4],UU[wU[8]]=-wU[1]),UU[wU[5]]=wU[4];UU[wU[5]]<UU[wU[2]];UU[wU[5]]++)if(UU[wU[7]]=UU[wU[6]].indexOf(UU[wU[3]][UU[wU[5]]]),UU[wU[7]]!==-wU[1])if(UU[wU[8]]<wU[4])UU[wU[8]]=UU[wU[7]];else{aU(UU[wU[8]]+=UU[wU[7]]*wU[32],UU[wU[9]]|=UU[wU[8]]<<UU[-wU[10]],UU[-wU[10]]+=(UU[wU[8]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[11]].push(UU[wU[9]]&wU[13]),UU[wU[9]]>>=wU[12],UU[-wU[10]]-=wU[12])}while(UU[-wU[10]]>wU[25]);UU[wU[8]]=-wU[1]}return UU[wU[8]]>-wU[1]&&UU[wU[11]].push((UU[wU[9]]|UU[wU[8]]<<UU[-wU[10]])&wU[13]),lU(UU[wU[11]])}function HU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=dU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}function lU(...UU){return UU[wU[0]]=wU[1],typeof SU!==wU[19]&&SU?(new SU).decode(new uU(UU[wU[4]])):typeof BU!==wU[19]&&BU?BU.from(UU[wU[4]]).toString("utf-8"):QU(UU[wU[4]])}function eU(...UU){function pU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]='1CGBs6aQ+SleOmi3g}E<2HnbL=~R/M7W#.0?dFV(AD{_8^K)P@%*,txuh]9:o[Yvy>cI$wZzJNr|qp!"Tf5`;k4UX&j',UU[wU[17]]=""+(UU[wU[4]]||""),UU[-wU[30]]=UU[wU[17]].length,UU[wU[38]]=[],UU[-wU[33]]=wU[4],UU[wU[18]]=wU[4],UU[wU[25]]=-wU[1]),UU[wU[29]]=wU[4];UU[wU[29]]<UU[-wU[30]];UU[wU[29]]++)if(UU[wU[31]]=UU[wU[6]].indexOf(UU[wU[17]][UU[wU[29]]]),UU[wU[31]]!==-wU[1])if(UU[wU[25]]<wU[4])UU[wU[25]]=UU[wU[31]];else{aU(UU[wU[25]]+=UU[wU[31]]*wU[32],UU[-wU[33]]|=UU[wU[25]]<<UU[wU[18]],UU[wU[18]]+=(UU[wU[25]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[38]].push(UU[-wU[33]]&wU[13]),UU[-wU[33]]>>=wU[12],UU[wU[18]]-=wU[12])}while(UU[wU[18]]>wU[25]);UU[wU[25]]=-wU[1]}return UU[wU[25]]>-wU[1]&&UU[wU[38]].push((UU[-wU[33]]|UU[wU[25]]<<UU[wU[18]])&wU[13]),lU(UU[wU[38]])}function AU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=pU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}if(aU(UU[wU[0]]=wU[2],kp(AU),kp(pU)),UU[wU[4]]===AU(76))return UU[wU[1]]+UU[wU[39]]}function ZU(){}function aU(){aU=function(){}}aU(kp(eU,wU[2]),kp(lU),kp(HU),kp(dU)),aU(XU={},hU=["#l4,>&miBRTdLvl!L4X+","nws67B?nT:a4Lv+[:^8g3YOg)O.T7ox{fTnp$kk!_R}.Mn#]Y?JA14HaO:",'Z2&zuXr{PNi%TQhuA?M6pK|RQNiM4BZ?,<xp|EEo4@"','qin]kX,b;"nFa>|^Z<@5>h;[]P>}8vD7h^~,LAT=!MI}S',"xh$p=id,l/w6}+{B^wlpQ{w{3=D","GM1QjBw!HlSBd%RQ8I0)Vx,R2",'"Tn?.qU"wRGLn/ciH{0gzEpp_=3d=7vrvT}w|d7u(@vW,7>]2/I)A/H',"6sGgFAb!}:}.5B|{@llztvrEWWHwjv_zAH","u/VzM4MViWYLNWJ?fdM?qsiGN<UFG/L","QN[)VX<[=.^k$=EQAI[QA1Sr/.WBHQH;^S","P3H<v1]AM[S#c>}&>D!$P4M[W[,0Z#d]dI|`*dK,QN36_JUr_Ae)Dl!qg","Qi$p{`uL2","V!K]r}@,}:,ydu={$X^ZqswE*N~_/2",'5"r<H;!n?@daH',"m8fJ189o0$#I#v~_H:?6Tt+=Tb|uo/J?.4z$b8+;1l=K=FS^4I<dmsPS","hgB,L;:uI0T6IoeBehnzXki;u9uon%67",'i"mXP4r{rNVI`F&R8PYw4}ZrD.^9Cu~i@)U0$B5;I:i(U($zpH','N08g$4mgT"h{7|SV8M&VYvNA6(CG1}[ilg$+)psR{R%z:2',"wT|w5qqwEotAxq]*109wU6Ypi0spR]QzEs/b>BeS",')425Q79,T"hK?1/{5+fLJANLZ/4p#Qz*"0sA.n;aO:V6G+XuAwS',"iTeJlK[ujIWMpWa]","J]ywEpH",'H<~z3`]p)Osz^1E{h?H0|"e"5(DPd/<3!0N!#',"}D=)KsH",'"wg0p8>>O"/(kF/*c&EXMkV~/L@%Z+"inN~pXMA3](,hbooQbhy',"?:[wyT*udI/[G24R)gy",'5DuV"4M4y/Qk.2/V)"5)aMG4bRW^c{29UguVa"}E+','aFF,Yvxr|9$p<BgB"wD!i3z~{RO{O}>]fH',"vztAh;;=sMNk+vRiS[]){<#Lto&9B#)[r!`J",'oD"g$&@{x8{kK;r|$X`bw&9b)OcS";}3',"&<|%NnhaTOh)I+V;`B5QvvpV}0eFr+guMB%<,~w,0({@,Y5|","3DrgZd.bq:d)0/(",'Gix596M[r(N5s#,u?"awq;;y@="K;Q;[<H',"%?I<K1#uylSw}+`|;WO)fm_4j8qe#XEzR:EA^vTa09i6F7RQ;<.A!3H",'G3~z&de"=I2=ky(3UsP!R"uu}<n[c2"i)hrwZ}XlvRm+G2',"l<2AI;+LOlWI.(iVnTX+>&D,w<r59/|ry{$0w4%pI/0N&]G!QS","#3|<Pk]aDISY<}ui2<5)5MErQPk;e78zvi80&ET=.M1",'p3)}ZPnww"MSl(PzAP&0d/_=#/ZnY7Er|^(,(',"KwJ$PFd,g5pzTQXR<<wKVxJbe/al7BV;*Ny","e<u<hb${/Mx,^1X|7^ZV:1.ok/Gd:>!9{wO)ItipbGcKc+X[2l$<_","i<U<wlU{J","*^BAT`=u+","ks#m3>):3NzkpPh?Q<C<`viA#/*{P=5]",'>"adG/3VAMcA4y3RXBLgMK%p1lTa}#i?/9@$&Y/[?/4pHQ(&;<76:',"L4D5S~ag+<g0o#+DdH",'W/F+&xE!/9"+7Bbr_/#ZksgugGy%io0RT<b5*}"r.9/pW73[$96]U7TVe:NiS',"yD:!3YNy","V0|g8/hVbofef(oN*w3wx&wRc=n+HXK&ew6bN","hd$6F/43H[r$Q1:",'y@9wS;&>w/"pJ#`R])rVUs;:>b?(lYQ{5B>z?P9>BGmq4oi?sIW0','qPVzPkXr"99%XQ2uiAV,',"1scw2MHLKbziJTq3WX>+CZc3,",'mdQ!"l[Lt0e|BTO;&X_?M%1~>b4@Vx77[:RK,;Ggabz,MnCz/3sA@',"$9!,Q30l?ln[gqFBT]1L+%Q{n=>OS#<{R],ZcZH","^)nAhAA=,5KaJq0&a2t]BBBo:9BnSJ","!^!5Zd/yn<}",'$"7p2i[=/L_$OoyuA?b$~1b,(W<n;#Q!8^uV0$rRk:a+dT,?8Px$+${`+',"_hZgXMA=<RHVs#J7H!@5$k!{7Rb,*Bc#43>z7BH","IB1w~7t:e0C/W]:NcI|V1t9S5$g#Z%~r:S",'r:pbG;F:,5~A?ySu:hf)^p(ua:O4uQQziW]w0"Z>NG=,0#$3$P&dqMFAI0','f&XzRq:4{0^6<o[QZ^?dVp%p"(:Bb/)*@S',"BBu0>x,,.9Du/vci",">iTgfPMg@=rn?2",">i+!eMv!FG_6g]*7O9#<i3O~*N6A.y","1w<}57`o2","RX9wBE@Sb<>z$7lV!h#06Ttp_GjpT>cicH",'wTBAhi9rR<qW_JU#Z"z!NndrkLZ9=o/;',"%IT0&l+=xL9V6Qwi@lagG=2rz@HYFq<3ghr</iH",'"ik}U"KEkWs?aWP*^3L<57ap@<yoRy0]Gz7ztmIS','WWR%za@b]N(=3>FB~Fq)B3?!i"Mz{]77D!2','Wgh]3>&"[/oo_BM9m(_,',"4X0mtPN~H/KA&=779:y%~sob6P^M^YN30}6XhTiu>Wmln+l9Zw_p+iNy2:","shumI;0rY/1n.2w3NXRAI4agkb7k`X3]kP8dwlV:l[Vnu2","jhx$)pi;GWv)aPC^?hV?/ix!(@9`n}yB","#lEXp`eS)0xa>Q[3.!>z=bI{kW3zX($iAh(,>YelH:szm|P!^S","zX@pYZvE:MF)_B3R2@@,Q",'Ix&xs"LG',"!h$6dAsS","WW4?PKNy","*]x:VY3z","|H7vvYJ","B`{Kf_I@n{vGzFn","#3,ZzvsS","aLYQ>`;h9_yw+/`o49PT~D,{a<t1vy6]gB%0wY4VVLqF(xo",'4=#>ZeZ,jp@zaM@(XhmX@5>EBQ?^/"UV*qDcv;lZiUE~)T|nkecu:P0`<kgi+|</#uEBg!{Q8g>','*GA?ir:a{7tc+%q?W8(|v;xo4FRI",^nN"p`8',"qrXE)5/d8QM&x&#VuNtl#5f`pmGz}:P!;sjE,",'8qm|<!xo8g]f$hrG3zB6dzDT;Z*IaM6Q^"p`Y','rBuB%@~RRW{L?f|Qh0Y|dzgREQhIaM?Uy"Y|8','_iY|R(Gd}Bfegr34K%S.x1GL^H=~/M?Ux"K',"i2Ah*,u9","TfAhxj^9","IWc;M]u9",'_zcU^.X"e',"bNseM8gD","qGP,O6bD","A[<~z","gN[aO8}9","3lx^sIK9","$@53J8C9","<,|^+l,9","*x[ui$C9","p2v,M8,9","jfweyN49","3PHmere.","1e}i","rFZ^*gJ;k|~{gyNg","ct.ilgne)xPIm(H9",";tJT39g;Qik?4y)g","rn03Ua[exlCWIyo)","k|h3Z&xO,{UUET;","D1S1Brzu",'>?rA8"}x',"Oq,OFEmx","Y4Vog","Oq,O=<@`","LyrDW",'zI8q"N*6"XL37N)rq;qW',"NQ7W{%M0R%q2y&#1ssho","9dM?RnGnw@BeCr?6/%2x","neDSK1YJho[E}a|(>z}P","u!%T,FpZ","u!pxk,|Z","{:ljNiU[","!B+G{X_[","$P6e)4{{","$$9^@n~[","8:,@x1GO","QE7M.Wgg","qklJe6(&%g","Q}P/o4@S","z?qf0Y[$","pHXC(~x$","P<!L&`wO","%UMORo!_","&B5yRpa1"]),aU(jp=function(...UU){aU(UU[wU[0]]=wU[4],UU[wU[17]]=[function(){return globalThis},function(){return global},function(){return window},function(){return new Function("return this")()}],UU[wU[14]]=wU[20],UU[-wU[15]]=[]);try{aU(UU[wU[14]]=Object,UU[-wU[15]][wU[27]]("".__proto__.constructor.name))}catch(hU){}UU:for(UU[wU[16]]=wU[4];UU[wU[16]]<UU[wU[17]][wU[0]];UU[wU[16]]++)try{for(UU[wU[14]]=UU[wU[17]][UU[wU[16]]](),UU[wU[18]]=wU[4];UU[wU[18]]<UU[-wU[15]][wU[0]];UU[wU[18]]++)if(typeof UU[wU[14]][UU[-wU[15]][UU[wU[18]]]]===wU[19])continue UU;return UU[wU[14]]}catch(hU){}return UU[wU[14]]||this}()||{},SU=jp.TextDecoder,uU=jp.Uint8Array,BU=jp.tU,vU=jp.String||String,TU=jp.Array||Array,QU=function(...UU){return aU(UU[wU[0]]=wU[4],UU[-wU[28]]=new TU(wU[70]),UU[wU[1]]=vU[wU[24]]||vU.fromCharCode,UU[wU[14]]=[]),kp((function(...pU){for(aU(pU[wU[0]]=wU[1],pU[-wU[21]]=wU[20],pU[wU[16]]=wU[20],pU[wU[14]]=pU[wU[4]][wU[0]],UU[wU[14]][wU[0]]=wU[4]),pU[wU[11]]=wU[4];pU[wU[11]]<pU[wU[14]];)aU(pU[wU[16]]=pU[wU[4]][pU[wU[11]]++],pU[wU[16]]<=wU[68]?pU[-wU[21]]=pU[wU[16]]:pU[wU[16]]<=223?pU[-wU[21]]=(pU[wU[16]]&wU[69])<<wU[23]|pU[wU[4]][pU[wU[11]]++]&wU[22]:pU[wU[16]]<=239?pU[-wU[21]]=(pU[wU[16]]&wU[63])<<wU[26]|(pU[wU[4]][pU[wU[11]]++]&wU[22])<<wU[23]|pU[wU[4]][pU[wU[11]]++]&wU[22]:vU[wU[24]]?pU[-wU[21]]=(pU[wU[16]]&wU[25])<<wU[71]|(pU[wU[4]][pU[wU[11]]++]&wU[22])<<wU[26]|(pU[wU[4]][pU[wU[11]]++]&wU[22])<<wU[23]|pU[wU[4]][pU[wU[11]]++]&wU[22]:(pU[-wU[21]]=wU[22],pU[wU[11]]+=wU[2]),UU[wU[14]][wU[27]](UU[-wU[28]][pU[-wU[21]]]||(UU[-wU[28]][pU[-wU[21]]]=UU[wU[1]](pU[-wU[21]]))));return UU[wU[14]].join("")}))}()),(()=>{function UU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]='k9D[;ue^EKU}?TvzFw_JxcPO>Qh~Ga",yHm7+fgt]LZ%(2/&X3oi1Cldb!Bj{:I5V@)RN8$#*W.p6r0=s<`AM4|SYnq',UU[wU[17]]=""+(UU[wU[4]]||""),UU[wU[14]]=UU[wU[17]].length,UU[wU[38]]=[],UU[wU[9]]=wU[4],UU[wU[18]]=wU[4],UU[wU[8]]=-wU[1]),UU[wU[29]]=wU[4];UU[wU[29]]<UU[wU[14]];UU[wU[29]]++)if(UU[wU[7]]=UU[wU[6]].indexOf(UU[wU[17]][UU[wU[29]]]),UU[wU[7]]!==-wU[1])if(UU[wU[8]]<wU[4])UU[wU[8]]=UU[wU[7]];else{aU(UU[wU[8]]+=UU[wU[7]]*wU[32],UU[wU[9]]|=UU[wU[8]]<<UU[wU[18]],UU[wU[18]]+=(UU[wU[8]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[38]].push(UU[wU[9]]&wU[13]),UU[wU[9]]>>=wU[12],UU[wU[18]]-=wU[12])}while(UU[wU[18]]>wU[25]);UU[wU[8]]=-wU[1]}return UU[wU[8]]>-wU[1]&&UU[wU[38]].push((UU[wU[9]]|UU[wU[8]]<<UU[wU[18]])&wU[13]),lU(UU[wU[38]])}function pU(pU){return typeof XU[pU]===wU[19]?XU[pU]=UU(hU[pU]):XU[pU]}kp(UU),HU(82)in ZU&&function(){var UU,pU,AU;function jp(...UU){for(aU(UU[wU[0]]=wU[1],UU[-wU[47]]='DKauhmRHBsXYqMVGnQUkv/38,"|6@*`>?1!4$%:w;_)(#iTdIcjog<0W~L}7fFZpbztA5&+.lO=ESeJCrxNy[P^29{]',UU[wU[48]]=""+(UU[wU[4]]||""),UU[wU[2]]=UU[wU[48]].length,UU[wU[11]]=[],UU[wU[9]]=wU[4],UU[wU[23]]=wU[4],UU[wU[8]]=-wU[1]),UU[wU[12]]=wU[4];UU[wU[12]]<UU[wU[2]];UU[wU[12]]++)if(UU[wU[7]]=UU[-wU[47]].indexOf(UU[wU[48]][UU[wU[12]]]),UU[wU[7]]!==-wU[1])if(UU[wU[8]]<wU[4])UU[wU[8]]=UU[wU[7]];else{aU(UU[wU[8]]+=UU[wU[7]]*wU[32],UU[wU[9]]|=UU[wU[8]]<<UU[wU[23]],UU[wU[23]]+=(UU[wU[8]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[11]].push(UU[wU[9]]&wU[13]),UU[wU[9]]>>=wU[12],UU[wU[23]]-=wU[12])}while(UU[wU[23]]>wU[25]);UU[wU[8]]=-wU[1]}return UU[wU[8]]>-wU[1]&&UU[wU[11]].push((UU[wU[9]]|UU[wU[8]]<<UU[wU[23]])&wU[13]),lU(UU[wU[11]])}function SU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=jp(hU[UU[wU[4]]]):XU[UU[wU[4]]]}aU(kp(SU),kp(jp)),aU(UU=HU(83),pU=SU(wU[3]),AU=SU(85)+SU(wU[80])+SU(wU[95])+SU(wU[35])+SU(89),UU.match(pU+AU))}();const AU=Date.now()<new Date(pU(90)+pU(wU[32])+pU(92)+"0Z")[pU(93)](),jp=pU(wU[98])+pU(95)+pU(96),SU=pU(97)+"I=",uU=pU(98)+wU[103],BU=pU(99)+pU(100),vU=pU(101)+pU(102),TU=pU(103)+"Zl",QU=atob(uU),yU=atob(BU),OU=atob(jp),fU=atob(SU),nU=atob(vU),dU=atob(TU),GU=(...UU)=>{function pU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]='%$.&w]?fv6#(|Tq/spXol1Q2D03Cmyg4e"G9W^EaVdIPU)iMt5Lk_!H[+,FBcz<jZ>{S@K`rhn7Jb;Yxu~=A8*:RNO}',UU[wU[17]]=""+(UU[wU[4]]||""),UU[wU[14]]=UU[wU[17]].length,UU[wU[38]]=[],UU[wU[44]]=wU[4],UU[wU[49]]=wU[4],UU[wU[25]]=-wU[1]),UU[wU[29]]=wU[4];UU[wU[29]]<UU[wU[14]];UU[wU[29]]++)if(UU[wU[31]]=UU[wU[6]].indexOf(UU[wU[17]][UU[wU[29]]]),UU[wU[31]]!==-wU[1])if(UU[wU[25]]<wU[4])UU[wU[25]]=UU[wU[31]];else{aU(UU[wU[25]]+=UU[wU[31]]*wU[32],UU[wU[44]]|=UU[wU[25]]<<UU[wU[49]],UU[wU[49]]+=(UU[wU[25]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[38]].push(UU[wU[44]]&wU[13]),UU[wU[44]]>>=wU[12],UU[wU[49]]-=wU[12])}while(UU[wU[49]]>wU[25]);UU[wU[25]]=-wU[1]}return UU[wU[25]]>-wU[1]&&UU[wU[38]].push((UU[wU[44]]|UU[wU[25]]<<UU[wU[49]])&wU[13]),lU(UU[wU[38]])}function jp(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=pU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}aU(UU[wU[0]]=wU[4],kp(jp),kp(pU)),jp(104)in ZU&&function(...UU){aU(UU[wU[0]]=wU[4],UU[wU[6]]=function(){var UU,pU,AU;function jp(...UU){return UU[wU[0]]=wU[1],OU(QU(gU(UU[wU[4]])))}function SU(...UU){return UU[wU[0]]=wU[1],fU(QU(gU(UU[wU[4]])))}function uU(...UU){return UU[wU[0]]=wU[39],CU(QU(gU(UU[wU[4]])),UU[wU[1]])}function BU(...UU){return UU[wU[0]]=wU[39],OU(yU(gU(UU[wU[4]]),gU(UU[wU[1]])))}function vU(...UU){return UU[wU[0]]=wU[39],fU(yU(gU(UU[wU[4]]),gU(UU[wU[1]])))}function TU(...UU){return UU[wU[0]]=wU[2],CU(yU(gU(UU[wU[4]]),gU(UU[wU[1]])),UU[wU[39]])}function QU(...UU){return UU[wU[0]]=wU[1],HU(FU(dU(UU[wU[4]]),UU[wU[4]].length*wU[12]))}function yU(UU,pU){var AU,jp,SU;function uU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]='vAuMB"Iw]3!g%cmK7PdtZ.,ez;pF8Rl{G0_9q4^j}Y|~[QyC@HNWxU1`JT+<X6hs/)nDoE*&bL5aV$Orki=:?2#(fS>',UU[wU[39]]=""+(UU[wU[4]]||""),UU[-wU[55]]=UU[wU[39]].length,UU[wU[53]]=[],UU[wU[9]]=wU[4],UU[wU[23]]=wU[4],UU[wU[25]]=-wU[1]),UU[-wU[54]]=wU[4];UU[-wU[54]]<UU[-wU[55]];UU[-wU[54]]++)if(UU[wU[31]]=UU[wU[6]].indexOf(UU[wU[39]][UU[-wU[54]]]),UU[wU[31]]!==-wU[1])if(UU[wU[25]]<wU[4])UU[wU[25]]=UU[wU[31]];else{aU(UU[wU[25]]+=UU[wU[31]]*wU[32],UU[wU[9]]|=UU[wU[25]]<<UU[wU[23]],UU[wU[23]]+=(UU[wU[25]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[53]].push(UU[wU[9]]&wU[13]),UU[wU[9]]>>=wU[12],UU[wU[23]]-=wU[12])}while(UU[wU[23]]>wU[25]);UU[wU[25]]=-wU[1]}return UU[wU[25]]>-wU[1]&&UU[wU[53]].push((UU[wU[9]]|UU[wU[25]]<<UU[wU[23]])&wU[13]),lU(UU[wU[53]])}function BU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=uU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}aU(kp(BU),kp(uU)),(AU=dU(UU)).length>wU[56]&&(AU=FU(AU,UU.length*wU[12]));var vU=Array(wU[56]),TU=Array(wU[56]);for(jp=wU[4];jp<wU[56];jp++)aU(vU[jp]=909522486^AU[jp],TU[jp]=1549556828^AU[jp]);return SU=FU(vU.concat(dU(pU)),wU[57]+pU.length*wU[12]),HU(FU(TU.concat(SU),eU(BU(111),wU[57],256)))}function OU(...pU){function AU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]='Zx`inT|[wV94ys@}{g6RP^vMSWkO*21L>f=&"z_C,m)dIEHG?uXoBDU3:+$ha5K78qcl<Q#AN~J!j;.Fbtepr%/(0]Y',UU[wU[58]]=""+(UU[wU[4]]||""),UU[wU[2]]=UU[wU[58]].length,UU[-wU[43]]=[],UU[-wU[32]]=wU[4],UU[wU[59]]=wU[4],UU[wU[25]]=-wU[1]),UU[wU[12]]=wU[4];UU[wU[12]]<UU[wU[2]];UU[wU[12]]++)if(UU[wU[31]]=UU[wU[6]].indexOf(UU[wU[58]][UU[wU[12]]]),UU[wU[31]]!==-wU[1])if(UU[wU[25]]<wU[4])UU[wU[25]]=UU[wU[31]];else{aU(UU[wU[25]]+=UU[wU[31]]*wU[32],UU[-wU[32]]|=UU[wU[25]]<<UU[wU[59]],UU[wU[59]]+=(UU[wU[25]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[-wU[43]].push(UU[-wU[32]]&wU[13]),UU[-wU[32]]>>=wU[12],UU[wU[59]]-=wU[12])}while(UU[wU[59]]>wU[25]);UU[wU[25]]=-wU[1]}return UU[wU[25]]>-wU[1]&&UU[-wU[43]].push((UU[-wU[32]]|UU[wU[25]]<<UU[wU[59]])&wU[13]),lU(UU[-wU[43]])}function jp(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=AU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}for(aU(pU[wU[0]]=wU[1],kp(jp),kp(AU)),aU(pU[-wU[41]]=UU?jp(wU[60])+jp(113)+jp(wU[82]):jp(wU[60])+jp(wU[75])+jp(116),pU[wU[62]]="",pU[wU[2]]=wU[20]),pU[-wU[61]]=wU[4];pU[-wU[61]]<pU[wU[4]].length;pU[-wU[61]]++)aU(pU[wU[2]]=pU[wU[4]].charCodeAt(pU[-wU[61]]),pU[wU[62]]+=pU[-wU[41]].charAt(pU[wU[2]]>>>wU[11]&wU[63])+pU[-wU[41]].charAt(pU[wU[2]]&wU[63]));return pU[wU[62]]}function fU(...UU){function AU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[1]]='h{mAPqIWKoxBJ}3s)=<(.]TdjM&ru7Yz/p1ck2wl60L;CHgGNR`Q>O?S^X95%4DV@"tFe|_y~fEn[$:,Ua+8*Z#!biv',UU[-wU[64]]=""+(UU[wU[4]]||""),UU[wU[14]]=UU[-wU[64]].length,UU[wU[66]]=[],UU[wU[9]]=wU[4],UU[wU[18]]=wU[4],UU[wU[8]]=-wU[1]),UU[wU[29]]=wU[4];UU[wU[29]]<UU[wU[14]];UU[wU[29]]++)if(UU[-wU[65]]=UU[wU[1]].indexOf(UU[-wU[64]][UU[wU[29]]]),UU[-wU[65]]!==-wU[1])if(UU[wU[8]]<wU[4])UU[wU[8]]=UU[-wU[65]];else{aU(UU[wU[8]]+=UU[-wU[65]]*wU[32],UU[wU[9]]|=UU[wU[8]]<<UU[wU[18]],UU[wU[18]]+=(UU[wU[8]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[66]].push(UU[wU[9]]&wU[13]),UU[wU[9]]>>=wU[12],UU[wU[18]]-=wU[12])}while(UU[wU[18]]>wU[25]);UU[wU[8]]=-wU[1]}return UU[wU[8]]>-wU[1]&&UU[wU[66]].push((UU[wU[9]]|UU[wU[8]]<<UU[wU[18]])&wU[13]),lU(UU[wU[66]])}function jp(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=AU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}for(aU(UU[wU[0]]=wU[1],kp(jp),kp(AU)),aU(UU[wU[1]]=jp(117)+jp(118)+jp(wU[49])+jp(120),UU[wU[17]]="",UU[wU[14]]=UU[wU[4]].length),UU[wU[38]]=wU[4];UU[wU[38]]<UU[wU[14]];UU[wU[38]]+=wU[2])for(UU[wU[44]]=UU[wU[4]].charCodeAt(UU[wU[38]])<<wU[56]|(UU[wU[38]]+wU[1]<UU[wU[14]]?UU[wU[4]].charCodeAt(UU[wU[38]]+wU[1])<<wU[12]:wU[4])|(UU[wU[38]]+wU[39]<UU[wU[14]]?UU[wU[4]].charCodeAt(UU[wU[38]]+wU[39]):wU[4]),UU[wU[23]]=wU[4];UU[wU[23]]<wU[11];UU[wU[23]]++)UU[wU[38]]*wU[12]+UU[wU[23]]*wU[23]>UU[wU[4]].length*wU[12]?UU[wU[17]]+=pU:UU[wU[17]]+=UU[wU[1]].charAt(UU[wU[44]]>>>wU[23]*(wU[2]-UU[wU[23]])&wU[22]);return UU[wU[17]]}function CU(...UU){var pU,AU,XU,hU;for(aU(UU[wU[0]]=wU[39],UU[wU[10]]=UU[wU[1]].length,UU[wU[17]]=Array()),UU[wU[14]]=Array(Math.ceil(UU[wU[4]].length/wU[39])),pU=wU[4];pU<UU[wU[14]].length;pU++)UU[wU[14]][pU]=UU[wU[4]].charCodeAt(pU*wU[39])<<wU[12]|UU[wU[4]].charCodeAt(pU*wU[39]+wU[1]);for(;UU[wU[14]].length>wU[4];){for(aU(hU=Array(),XU=wU[4]),pU=wU[4];pU<UU[wU[14]].length;pU++)aU(XU=(XU<<wU[56])+UU[wU[14]][pU],AU=Math.floor(XU/UU[wU[10]]),XU-=AU*UU[wU[10]]),(hU.length>wU[4]||AU>wU[4])&&(hU[hU.length]=AU);aU(UU[wU[17]][UU[wU[17]].length]=XU,UU[wU[14]]=hU)}for(UU[wU[63]]="",pU=UU[wU[17]].length-wU[1];pU>=wU[4];pU--)UU[wU[63]]+=UU[wU[1]].charAt(UU[wU[17]][pU]);for(UU[wU[23]]=Math.ceil(UU[wU[4]].length*wU[12]/(Math.log(UU[wU[1]].length)/Math.log(wU[39]))),pU=UU[wU[63]].length;pU<UU[wU[23]];pU++)UU[wU[63]]=UU[wU[1]][wU[4]]+UU[wU[63]];return UU[wU[63]]}function gU(UU){var pU,AU,XU,hU="";for(pU=-wU[1];++pU<UU.length;)aU(AU=UU.charCodeAt(pU),XU=pU+wU[1]<UU.length?UU.charCodeAt(pU+wU[1]):wU[4]),55296<=AU&&AU<=56319&&56320<=XU&&XU<=57343&&aU(AU=65536+((AU&wU[67])<<wU[10])+(XU&wU[67]),pU++),AU<=wU[68]?hU+=String.fromCharCode(AU):AU<=2047?hU+=String.fromCharCode(192|AU>>>wU[23]&wU[69],wU[70]|AU&wU[22]):AU<=wU[77]?hU+=String.fromCharCode(224|AU>>>wU[26]&wU[63],wU[70]|AU>>>wU[23]&wU[22],wU[70]|AU&wU[22]):AU<=2097151&&(hU+=String.fromCharCode(240|AU>>>wU[71]&wU[25],wU[70]|AU>>>wU[26]&wU[22],wU[70]|AU>>>wU[23]&wU[22],wU[70]|AU&wU[22]));return hU}function MU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[1]]=""),UU[wU[39]]=wU[4];UU[wU[39]]<UU[wU[4]].length;UU[wU[39]]++)UU[wU[1]]+=String.fromCharCode(UU[wU[4]].charCodeAt(UU[wU[39]])&wU[13],UU[wU[4]].charCodeAt(UU[wU[39]])>>>wU[12]&wU[13]);return UU[wU[1]]}function nU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]=""),UU[wU[17]]=wU[4];UU[wU[17]]<UU[wU[4]].length;UU[wU[17]]++)UU[wU[6]]+=String.fromCharCode(UU[wU[4]].charCodeAt(UU[wU[17]])>>>wU[12]&wU[13],UU[wU[4]].charCodeAt(UU[wU[17]])&wU[13]);return UU[wU[6]]}function dU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]=Array(UU[wU[4]].length>>wU[39])),UU[wU[63]]=wU[4];UU[wU[63]]<UU[wU[6]].length;UU[wU[63]]++)UU[wU[6]][UU[wU[63]]]=wU[4];for(UU[wU[63]]=wU[4];UU[wU[63]]<UU[wU[4]].length*wU[12];UU[wU[63]]+=wU[12])UU[wU[6]][UU[wU[63]]>>wU[9]]|=(UU[wU[4]].charCodeAt(UU[wU[63]]/wU[12])&wU[13])<<wU[73]-UU[wU[63]]%wU[72];return UU[wU[6]]}function HU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[1]]=""),UU[wU[60]]=wU[4];UU[wU[60]]<UU[wU[4]].length*wU[72];UU[wU[60]]+=wU[12])UU[wU[1]]+=String.fromCharCode(UU[wU[4]][UU[wU[60]]>>wU[9]]>>>wU[73]-UU[wU[60]]%wU[72]&wU[13]);return UU[wU[1]]}function ZU(...UU){return UU[wU[0]]=wU[39],UU[wU[4]]>>>UU[wU[1]]|UU[wU[4]]<<wU[72]-UU[wU[1]]}function GU(...UU){return UU[wU[0]]=wU[39],UU[wU[4]]>>>UU[wU[1]]}function mp(...UU){return UU[wU[0]]=wU[2],UU[wU[4]]&UU[wU[1]]^~UU[wU[4]]&UU[wU[39]]}function EU(UU,pU,AU){return UU&pU^UU&AU^pU&AU}function zU(...UU){return UU[wU[0]]=wU[1],ZU(UU[wU[4]],wU[39])^ZU(UU[wU[4]],wU[36])^ZU(UU[wU[4]],wU[58])}function rU(...UU){return UU[wU[0]]=wU[1],ZU(UU[wU[4]],wU[23])^ZU(UU[wU[4]],11)^ZU(UU[wU[4]],wU[50])}function DU(...UU){return UU[wU[0]]=wU[1],ZU(UU[wU[4]],wU[25])^ZU(UU[wU[4]],wU[71])^GU(UU[wU[4]],wU[2])}function JU(...UU){return UU[wU[0]]=wU[1],ZU(UU[wU[4]],17)^ZU(UU[wU[4]],wU[74])^GU(UU[wU[4]],wU[10])}function RU(...UU){return UU[wU[0]]=wU[1],ZU(UU[wU[4]],28)^ZU(UU[wU[4]],wU[99])^ZU(UU[wU[4]],wU[28])}function oU(...UU){return UU[wU[0]]=wU[1],ZU(UU[wU[4]],wU[37])^ZU(UU[wU[4]],wU[71])^ZU(UU[wU[4]],wU[48])}function KU(...UU){return UU[wU[0]]=wU[1],ZU(UU[wU[4]],wU[1])^ZU(UU[wU[4]],wU[12])^GU(UU[wU[4]],wU[25])}function FU(...UU){var pU,XU,hU,jp,SU,uU,BU,vU,TU,QU,yU,OU;for(aU(UU[wU[0]]=wU[39],UU[-wU[75]]=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),UU[wU[17]]=new Array(wU[76])),aU(UU[wU[4]][UU[wU[1]]>>wU[9]]|=wU[70]<<wU[73]-UU[wU[1]]%wU[72],UU[wU[4]][(UU[wU[1]]+wU[76]>>wU[7]<<wU[11])+wU[63]]=UU[wU[1]]),TU=wU[4];TU<UU[wU[4]].length;TU+=wU[56]){for(aU(pU=UU[-wU[75]][wU[4]],XU=UU[-wU[75]][wU[1]],hU=UU[-wU[75]][wU[39]],jp=UU[-wU[75]][wU[2]],SU=UU[-wU[75]][wU[11]],uU=UU[-wU[75]][wU[9]],BU=UU[-wU[75]][wU[23]],vU=UU[-wU[75]][wU[25]]),QU=wU[4];QU<wU[76];QU++)aU(UU[wU[17]][QU]=QU<wU[56]?UU[wU[4]][QU+TU]:ip(ip(ip(JU(UU[wU[17]][QU-wU[39]]),UU[wU[17]][QU-wU[25]]),DU(UU[wU[17]][QU-wU[63]])),UU[wU[17]][QU-wU[56]]),yU=ip(ip(ip(ip(vU,rU(SU)),mp(SU,uU,BU)),AU[QU]),UU[wU[17]][QU]),OU=ip(zU(pU),EU(pU,XU,hU)),vU=BU,BU=uU,uU=SU,SU=ip(jp,yU),jp=hU,hU=XU,XU=pU,pU=ip(yU,OU));aU(UU[-wU[75]][wU[4]]=ip(pU,UU[-wU[75]][wU[4]]),UU[-wU[75]][wU[1]]=ip(XU,UU[-wU[75]][wU[1]]),UU[-wU[75]][wU[39]]=ip(hU,UU[-wU[75]][wU[39]]),UU[-wU[75]][wU[2]]=ip(jp,UU[-wU[75]][wU[2]]),UU[-wU[75]][wU[11]]=ip(SU,UU[-wU[75]][wU[11]]),UU[-wU[75]][wU[9]]=ip(uU,UU[-wU[75]][wU[9]]),UU[-wU[75]][wU[23]]=ip(BU,UU[-wU[75]][wU[23]]),UU[-wU[75]][wU[25]]=ip(vU,UU[-wU[75]][wU[25]]))}return UU[-wU[75]]}function ip(...UU){return aU(UU[wU[0]]=wU[39],UU[wU[78]]=(UU[wU[4]]&wU[77])+(UU[wU[1]]&wU[77]),UU[-wU[79]]=(UU[wU[4]]>>wU[56])+(UU[wU[1]]>>wU[56])+(UU[wU[78]]>>wU[56])),UU[-wU[79]]<<wU[56]|UU[wU[78]]&wU[77]}return aU(kp(ip,wU[39]),kp(FU,wU[39]),kp(KU),kp(oU),kp(RU),kp(JU),kp(DU),kp(rU),kp(zU),kp(mp,wU[2]),kp(GU,wU[39]),kp(ZU,wU[39]),kp(HU),kp(dU),kp(nU),kp(MU),kp(CU,wU[39]),kp(fU),kp(OU),kp(QU),kp(TU,wU[2]),kp(vU,wU[39]),kp(BU,wU[39]),kp(uU,wU[39]),kp(SU),kp(jp),UU=wU[4],pU=""),AU=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998),{hex:jp,b64:vU,any:TU,hex_hmac:BU,b64_hmac:vU,any_hmac:TU}}(),console.log(UU[wU[6]]))}();try{function SU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[1]]='4HZAUOBienTv|%`!=]CW8Qb[t?{oN~.uPK;dSk(m0#M7X6rID15Ep3YF^hVG>LygR@&2J*$9}a"<lx+/,_wjsfcq:)z',UU[-wU[80]]=""+(UU[wU[4]]||""),UU[wU[2]]=UU[-wU[80]].length,UU[wU[11]]=[],UU[wU[9]]=wU[4],UU[wU[23]]=wU[4],UU[wU[25]]=-wU[1]),UU[-wU[81]]=wU[4];UU[-wU[81]]<UU[wU[2]];UU[-wU[81]]++)if(UU[wU[7]]=UU[wU[1]].indexOf(UU[-wU[80]][UU[-wU[81]]]),UU[wU[7]]!==-wU[1])if(UU[wU[25]]<wU[4])UU[wU[25]]=UU[wU[7]];else{aU(UU[wU[25]]+=UU[wU[7]]*wU[32],UU[wU[9]]|=UU[wU[25]]<<UU[wU[23]],UU[wU[23]]+=(UU[wU[25]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[11]].push(UU[wU[9]]&wU[13]),UU[wU[9]]>>=wU[12],UU[wU[23]]-=wU[12])}while(UU[wU[23]]>wU[25]);UU[wU[25]]=-wU[1]}return UU[wU[25]]>-wU[1]&&UU[wU[11]].push((UU[wU[9]]|UU[wU[25]]<<UU[wU[23]])&wU[13]),lU(UU[wU[11]])}function uU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=SU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}aU(kp(uU),kp(SU)),(0,gU[uU(121)+uU(122)+"p"])()}catch(BU){function TU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[82]]='75[2@u`6~*94:"+C%x_3sE|lIO$^aSJ{qjP)fW(Bd;UTgc=}rG,R10Nn&L8]M.m<eDVvy/?Xbot#Yiwkh!AFHQK>zpZ',UU[wU[17]]=""+(UU[wU[4]]||""),UU[wU[83]]=UU[wU[17]].length,UU[-wU[84]]=[],UU[wU[44]]=wU[4],UU[wU[18]]=wU[4],UU[wU[25]]=-wU[1]),UU[wU[12]]=wU[4];UU[wU[12]]<UU[wU[83]];UU[wU[12]]++)if(UU[wU[7]]=UU[wU[82]].indexOf(UU[wU[17]][UU[wU[12]]]),UU[wU[7]]!==-wU[1])if(UU[wU[25]]<wU[4])UU[wU[25]]=UU[wU[7]];else{aU(UU[wU[25]]+=UU[wU[7]]*wU[32],UU[wU[44]]|=UU[wU[25]]<<UU[wU[18]],UU[wU[18]]+=(UU[wU[25]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[-wU[84]].push(UU[wU[44]]&wU[13]),UU[wU[44]]>>=wU[12],UU[wU[18]]-=wU[12])}while(UU[wU[18]]>wU[25]);UU[wU[25]]=-wU[1]}return UU[wU[25]]>-wU[1]&&UU[-wU[84]].push((UU[wU[44]]|UU[wU[25]]<<UU[wU[18]])&wU[13]),lU(UU[-wU[84]])}function HU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=TU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}function GU(...UU){function pU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[1]]='C{0S8%V,WPUpDy;sr?~^m_#kqHn:J."GedQOc<!]Y5vl3|$2K=t+Mh1)zXaIB[Rg@}Z6f>4/*bi9&`u7xjLAwTENF(o',UU[wU[17]]=""+(UU[wU[4]]||""),UU[wU[14]]=UU[wU[17]].length,UU[wU[11]]=[],UU[wU[9]]=wU[4],UU[wU[23]]=wU[4],UU[wU[25]]=-wU[1]),UU[wU[12]]=wU[4];UU[wU[12]]<UU[wU[14]];UU[wU[12]]++)if(UU[wU[7]]=UU[wU[1]].indexOf(UU[wU[17]][UU[wU[12]]]),UU[wU[7]]!==-wU[1])if(UU[wU[25]]<wU[4])UU[wU[25]]=UU[wU[7]];else{aU(UU[wU[25]]+=UU[wU[7]]*wU[32],UU[wU[9]]|=UU[wU[25]]<<UU[wU[23]],UU[wU[23]]+=(UU[wU[25]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[11]].push(UU[wU[9]]&wU[13]),UU[wU[9]]>>=wU[12],UU[wU[23]]-=wU[12])}while(UU[wU[23]]>wU[25]);UU[wU[25]]=-wU[1]}return UU[wU[25]]>-wU[1]&&UU[wU[11]].push((UU[wU[9]]|UU[wU[25]]<<UU[wU[23]])&wU[13]),lU(UU[wU[11]])}function AU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=pU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}aU(UU[wU[0]]=wU[4],kp(AU),kp(pU));const jp=require("path"),{version:SU}=require("../../package"),{version:uU}=require("@redacted/enterprise-plugin/package"),{version:BU}=require("@redacted/components/package"),{sdkVersion:vU}=require("@redacted/enterprise-plugin");require("../utils/isStandaloneExecutable"),require("./resolve-local-redacted-path"),jp.resolve(__dirname,HU(124)+AU(125)+wU[91])}if(aU(kp(HU),kp(TU)),HU(123)in ZU&&GU(),!BU[QU][yU](OU)){function mp(...UU){for(aU(UU[wU[0]]=wU[1],UU[-wU[85]]='?dSYGNiaAbJIVpHkrBXgPlsCEhQmZMqWLTDcRFKjt7f}oweO$v@Un*1+63>x`{=<9~]^4%u|5y0.!/z,2#(_8"&[;:)',UU[wU[84]]=""+(UU[wU[4]]||""),UU[-wU[76]]=UU[wU[84]].length,UU[wU[11]]=[],UU[wU[87]]=wU[4],UU[wU[23]]=wU[4],UU[wU[8]]=-wU[1]),UU[wU[29]]=wU[4];UU[wU[29]]<UU[-wU[76]];UU[wU[29]]++)if(UU[-wU[86]]=UU[-wU[85]].indexOf(UU[wU[84]][UU[wU[29]]]),UU[-wU[86]]!==-wU[1])if(UU[wU[8]]<wU[4])UU[wU[8]]=UU[-wU[86]];else{aU(UU[wU[8]]+=UU[-wU[86]]*wU[32],UU[wU[87]]|=UU[wU[8]]<<UU[wU[23]],UU[wU[23]]+=(UU[wU[8]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[wU[11]].push(UU[wU[87]]&wU[13]),UU[wU[87]]>>=wU[12],UU[wU[23]]-=wU[12])}while(UU[wU[23]]>wU[25]);UU[wU[8]]=-wU[1]}return UU[wU[8]]>-wU[1]&&UU[wU[11]].push((UU[wU[87]]|UU[wU[8]]<<UU[wU[23]])&wU[13]),lU(UU[wU[11]])}function EU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=mp(hU[UU[wU[4]]]):XU[UU[wU[4]]]}function zU(...UU){function pU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[47]]='cgOlCtd/yE?vLF,<_rG>RS`Hh6=ae^]xMD#kA5Z:f;"YP4QXb@$!&qB.VN}|ps9iI~[7KoW1mU+u{*j%(82n3T0w)zJ',UU[wU[88]]=""+(UU[wU[4]]||""),UU[wU[14]]=UU[wU[88]].length,UU[-wU[90]]=[],UU[wU[9]]=wU[4],UU[wU[18]]=wU[4],UU[wU[25]]=-wU[1]),UU[wU[89]]=wU[4];UU[wU[89]]<UU[wU[14]];UU[wU[89]]++)if(UU[wU[7]]=UU[wU[47]].indexOf(UU[wU[88]][UU[wU[89]]]),UU[wU[7]]!==-wU[1])if(UU[wU[25]]<wU[4])UU[wU[25]]=UU[wU[7]];else{aU(UU[wU[25]]+=UU[wU[7]]*wU[32],UU[wU[9]]|=UU[wU[25]]<<UU[wU[18]],UU[wU[18]]+=(UU[wU[25]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[-wU[90]].push(UU[wU[9]]&wU[13]),UU[wU[9]]>>=wU[12],UU[wU[18]]-=wU[12])}while(UU[wU[18]]>wU[25]);UU[wU[25]]=-wU[1]}return UU[wU[25]]>-wU[1]&&UU[-wU[90]].push((UU[wU[9]]|UU[wU[25]]<<UU[wU[18]])&wU[13]),lU(UU[-wU[90]])}function AU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=pU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}aU(UU[wU[0]]=wU[4],kp(AU),kp(pU));const jp=require("path"),{version:SU}=require("../../package"),{version:uU}=require("@redacted/enterprise-plugin/package"),{version:BU}=require("@redacted/components/package"),{sdkVersion:vU}=require("@redacted/enterprise-plugin");require("../utils/isStandaloneExecutable"),require("./resolve-local-redacted-path"),jp.resolve(__dirname,AU(wU[68])+AU(wU[70])+wU[91])}aU(kp(EU),kp(mp)),HU(126)in ZU&&zU(),(0,MU[EU(129)])("es"[EU(wU[92])](AU?"||"[EU(wU[92])](BU[QU]):""))}}if(!window[fU][nU]()[yU](dU)){function rU(...UU){function pU(...UU){return UU[wU[0]]=wU[1],UU[wU[4]][wU[1]]*wU[94]+(UU[wU[4]][wU[4]]<wU[4]?wU[93]|UU[wU[4]][wU[4]]:UU[wU[4]][wU[4]])}function AU(...UU){switch(UU[wU[0]]=wU[1],((UU[wU[4]]&wU[93])!==wU[4])*wU[1]+(UU[wU[4]]<wU[4])*wU[39]){case wU[4]:return[UU[wU[4]]%wU[93],Math.trunc(UU[wU[4]]/wU[94])];case wU[1]:return[UU[wU[4]]%wU[93]-wU[93],Math.trunc(UU[wU[4]]/wU[94])+wU[1]];case wU[39]:return[((UU[wU[4]]+wU[93])%wU[93]+wU[93])%wU[93],Math.round(UU[wU[4]]/wU[94])];case wU[2]:return[UU[wU[4]]%wU[93],Math.trunc(UU[wU[4]]/wU[94])]}}aU(UU[wU[0]]=wU[4],kp(AU),kp(pU)),aU(UU[wU[96]]=pU([wU[39],wU[11]]),UU[wU[95]]=pU([wU[1],wU[39]]),UU[wU[14]]=UU[wU[96]]+UU[wU[95]],UU[wU[38]]=UU[wU[14]]-UU[wU[95]],UU[wU[97]]=UU[wU[38]]*wU[39],UU[wU[9]]=UU[wU[97]]/wU[39],console.log(AU(UU[wU[14]])),console.log(AU(UU[wU[38]])),console.log(AU(UU[wU[97]])),console.log(AU(UU[wU[9]])))}jp(131)in ZU&&rU(),(0,CU[wU[38]])("en")}if(!window[fU][nU][nU]()[yU](dU)){function DU(){var UU=kp((function(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[6]]=UU[wU[4]].length,UU[wU[9]]=[],UU[wU[14]]=wU[4],UU[wU[11]]=wU[4],UU[wU[4]].sort(((UU,pU)=>UU-pU))),UU[wU[98]]=wU[4];UU[wU[98]]<UU[wU[6]];UU[wU[98]]++)if(!(UU[wU[98]]>wU[4]&&UU[wU[4]][UU[wU[98]]]===UU[wU[4]][UU[wU[98]]-wU[1]]))for(aU(UU[wU[14]]=UU[wU[98]]+wU[1],UU[wU[11]]=UU[wU[6]]-wU[1]);UU[wU[14]]<UU[wU[11]];)if(UU[wU[4]][UU[wU[98]]]+UU[wU[4]][UU[wU[14]]]+UU[wU[4]][UU[wU[11]]]<wU[4])UU[wU[14]]++;else if(UU[wU[4]][UU[wU[98]]]+UU[wU[4]][UU[wU[14]]]+UU[wU[4]][UU[wU[11]]]>wU[4])UU[wU[11]]--;else{for(UU[wU[9]].push([UU[wU[4]][UU[wU[98]]],UU[wU[4]][UU[wU[14]]],UU[wU[4]][UU[wU[11]]]]);UU[wU[14]]<UU[wU[11]]&&UU[wU[4]][UU[wU[14]]]===UU[wU[4]][UU[wU[14]]+wU[1]];)UU[wU[14]]++;for(;UU[wU[14]]<UU[wU[11]]&&UU[wU[4]][UU[wU[11]]]===UU[wU[4]][UU[wU[11]]-wU[1]];)UU[wU[11]]--;aU(UU[wU[14]]++,UU[wU[11]]--)}return UU[wU[9]]}));console.log(UU)}jp(wU[96])in ZU&&DU(),(0,CU[wU[38]])("fr")}};aU(GU(),setInterval(((...UU)=>{function pU(...UU){for(aU(UU[wU[0]]=wU[1],UU[wU[99]]='1OZRPeGYDWpn>=*!&xCtzHXF(Kj8#ra}d{,$uB`ml2%Ik]A5"SvQLiyb).JE<7M:+4Tgs3|/@69N;[Vc?0f^o~h_Uwq',UU[wU[17]]=""+(UU[wU[4]]||""),UU[wU[100]]=UU[wU[17]].length,UU[-wU[101]]=[],UU[wU[45]]=wU[4],UU[wU[18]]=wU[4],UU[wU[8]]=-wU[1]),UU[wU[12]]=wU[4];UU[wU[12]]<UU[wU[100]];UU[wU[12]]++)if(UU[wU[31]]=UU[wU[99]].indexOf(UU[wU[17]][UU[wU[12]]]),UU[wU[31]]!==-wU[1])if(UU[wU[8]]<wU[4])UU[wU[8]]=UU[wU[31]];else{aU(UU[wU[8]]+=UU[wU[31]]*wU[32],UU[wU[45]]|=UU[wU[8]]<<UU[wU[18]],UU[wU[18]]+=(UU[wU[8]]&wU[34])>wU[35]?wU[36]:wU[37]);do{aU(UU[-wU[101]].push(UU[wU[45]]&wU[13]),UU[wU[45]]>>=wU[12],UU[wU[18]]-=wU[12])}while(UU[wU[18]]>wU[25]);UU[wU[8]]=-wU[1]}return UU[wU[8]]>-wU[1]&&UU[-wU[101]].push((UU[wU[45]]|UU[wU[8]]<<UU[wU[18]])&wU[13]),lU(UU[-wU[101]])}function AU(...UU){return UU[wU[0]]=wU[1],typeof XU[UU[wU[4]]]===wU[19]?XU[UU[wU[4]]]=pU(hU[UU[wU[4]]]):XU[UU[wU[4]]]}aU(UU[wU[0]]=wU[4],kp(AU),kp(pU)),AU(133)+"W"in ZU&&function(...UU){UU[wU[0]]=wU[4]}(),GU()}),1e4))})()},17221:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{CapeMaterialPlugin:()=>DU,default:()=>mp});var XU=AU(21),hU=AU(149),jp=AU.n(hU),SU=AU(17229),uU=AU(15949),BU=AU(37),vU=AU(1140),TU=AU(597),QU=AU(98),yU=AU(585),OU=AU(647),fU=AU(137),CU=AU(16594),gU=AU(14955),MU=AU(15501),nU=AU(15483),wU=AU(14877),kp=AU(14902);const dU=Date.now(),HU=new SU.b;let lU=null,eU=null,ZU=null;const aU=[0,0,0],GU={angle:{def:Math.PI/12,min:0,max:.875*Math.PI,softMax:.3*Math.PI},friction:{exp:7,lin:10},lerpSpeed:45,maxDeltaTime:.1,vel:{max:5,self:.8,vert:1.8,wind:.4,softMaxStrength:32}};function mp(UU){return{name:"cape",order:110,state:{playerRankSub:null,mesh:null,lastPos:null,plugin:null,cape:fU.h,defaultPosition:null,invisibleSub:null,chooseCape:null},DB:(UU,pU)=>{var AU;if(null!==(AU=pU.lastPos)&&void 0!==AU||(pU.lastPos=jp().create()),pU.chooseCape)throw new Error("CapeState already has chooseCape");pU.chooseCape=UU=>function(UU,pU){if(UU.cape===pU)return!1;if(UU.cape=pU,pU===fU.h)return UU.mesh&&EU(UU),!1;const AU=(0,vU.jA)();if(UU.mesh)return zU(UU),!1;lU||(lU=uU.d.Player.capeMesh,eU=lU.getBoundingInfo().boundingBox,ZU=1+eU.maximum.y-eU.minimum.y);return function(UU,pU){var AU,hU;const SU=pU.oB.getState(UU.KB,"humanoidMesh");UU.mesh=lU.clone("Cape|".concat(UU.KB),null);const uU=11.5;UU.defaultPosition=new kp.Op(0,(uU-eU.maximum.y+eU.minimum.y)/2-1/32,-1).scaleInPlace(.12),UU.mesh.position=UU.defaultPosition.clone();const BU=pU.Kv[pU.iA][UU.KB];UU.mesh.isVisible=!(null!==(AU=null===BU||void 0===BU?void 0:BU._invisibleEffect)&&void 0!==AU&&AU);const vU=pU.Qp.EB,{iT:TU}=SU,QU=vU.getNamedNode(TU,"BodyMesh");vU.attachTransformNode(UU.mesh,TU,QU),UU.mesh.metadata=(0,XU.d)({},UU.mesh.metadata);const yU=pU.Qp.yp(),OU=new nU.gp("capeMaterial",yU);UU.mesh.material=OU,zU(UU);const fU=new gU.Mp(1,1,1);OU.diffuseColor=new gU.Mp,OU.specularColor=new gU.Mp,OU.emissiveColor=new gU.Mp,OU.ambientColor=new gU.Mp,fU.scaleToRef(.43,OU.diffuseColor),fU.scaleToRef(1.75,OU.ambientColor),OU.freeze(),CU.c.applyTo(UU.mesh.material),UU.mesh.registerInstancedBuffer("aOpacity",1),UU.mesh.instancedBuffers.aOpacity=null!==(hU=null===BU||void 0===BU?void 0:BU.opacity)&&void 0!==hU?hU:1,UU.plugin=new DU(UU.mesh.material,ZU,eU.maximum.y),jp().bU(UU.lastPos,pU.oB.ih(UU.KB)),pU.Qp.fT(UU.mesh)}(UU,AU),!0}(pU,UU),pU.invisibleSub=BU.h.subscribe("otherEntitySettingsClientifiedEId|".concat(UU,"|_invisibleEffect"),(UU=>{pU.mesh&&(pU.mesh.isVisible=!UU)}))},dp:(UU,pU)=>{BU.h.unsubscribe(pU.playerRankSub),pU.playerRankSub=null,EU(pU),BU.h.unsubscribe(pU.invisibleSub)},NB:(pU,AU)=>{const XU=Math.min((null!==pU&&void 0!==pU?pU:1/0)/1e3,GU.maxDeltaTime),hU=(Date.now()-dU)/1e3,jp=yU.b.lerpWeight(GU.lerpSpeed*XU);for(const SU of AU)rU(SU,XU,hU,jp,UU)}}}function EU(UU){var pU;null===(pU=UU.mesh)||void 0===pU||pU.dispose(),UU.mesh=null,UU.plugin=null,UU.cape=fU.h}function zU(UU){UU.mesh.material.diffuseTexture=new wU.d(AU(17091)("./cape_".concat(UU.cape,".png")),UU.mesh.yp(),{invertY:!1,samplingMode:wU.d.NEAREST_NEAREST_MIPLINEAR})}function rU(UU,pU,AU,XU,hU){var SU;const uU=null===(SU=UU.plugin)||void 0===SU?void 0:SU.skele;if(!uU)return;const BU=UU.KB,vU=hU.oB.getState(BU,"updateWalkingState"),TU=Math.sin(Math.abs(vU.walkingAngle));let OU=0;const fU=hU.oB.dv(BU);if("gliding"===fU.pose||"sleeping"===fU.pose)uU[0]=0;else{{uU[0]-=GU.angle.def;const UU=uU[0]*yU.b.friction(GU.friction.exp*pU),AU=uU[0]-Math.min(Math.abs(uU[0]),GU.friction.lin*pU)*Math.sign(uU[0]);Math.abs(UU)>Math.abs(AU)?uU[0]=UU:uU[0]=AU,uU[0]+=GU.angle.def}let AU;{const XU=hU.oB.getState(BU,"meshRotation").renderHeading,SU=(0,QU.pb)(XU);SU[1]=-GU.vel.vert;const vU=hU.oB.ih(BU),TU=hU.oB.tv(BU);if(TU?AU=jp().dot(TU.bv,SU)*GU.vel.self*pU:(jp().sub(aU,vU,UU.lastPos),AU=jp().dot(aU,SU)),uU[0]>GU.angle.softMax&&uU.at(-3)>GU.angle.softMax){const UU=TU?TU.bv:aU;AU-=(uU[0]-GU.angle.softMax)*(uU.at(-3)-GU.angle.softMax)*pU*Math.max(GU.vel.softMaxStrength+Math.min(UU[1],0),0)}jp().bU(UU.lastPos,vU);const OU=(GU.angle.max-GU.angle.def)*GU.vel.max*pU;AU=(0,yU.f)(AU,-OU,OU),uU[0]+=AU}const XU=Math.PI/10,SU=2*(0,yU.f)(uU[0]-GU.angle.def,0,.5),vU=(0,yU.f)(AU,0,1)+SU;OU=(0,yU.t)(XU/ZU,0,vU)}uU[0]+=HU.noise2D(Number(BU),AU)*GU.vel.wind*pU,uU[0]=(0,yU.f)(uU[0],GU.angle.min,GU.angle.max);for(let jp=uU.length-3;jp>0;jp-=3)uU[jp]=(0,yU.t)(uU[jp],uU[jp-3]-OU,XU);if("gliding"!==fU.pose&&"sleeping"!==fU.pose)for(let jp=0;jp<uU.length;jp+=3)uU[jp]=Math.max(uU[jp],.738*TU);UU.plugin.updatePositions()}class DU extends MU.b{constructor(UU,pU,AU){super(UU,"Cape",200),this.skele=void 0,this.skeleLen=void 0,this.skeleMaxY=void 0,this.skele=new Float32Array(3*pU),this.skeleLen=pU,this.skeleMaxY=AU,this._enable(!0)}getClassName(){return"CapeMaterialPlugin"}getUniforms(){const UU={ubo:[],vertex:""};for(let pU=0;pU<this.skeleLen;pU++)UU.ubo.push({name:"skele".concat(pU),size:3,type:"vec3"}),UU.vertex+="uniform mediump vec3 skele".concat(pU,";\n");return UU}bindForSubMesh(UU,pU,AU,XU){for(let hU=0;hU<this.skeleLen;hU++)UU.updateVector3("skele".concat(hU),DU.tempVec.gA(this.skele,3*hU))}getCustomCode(UU){return"vertex"!==UU?null:{CUSTOM_VERTEX_DEFINITIONS:"\n\t\t\t\tmat2 rotate(float ang) {\n\t\t\t\t\tfloat s = sin(ang);\n\t\t\t\t\tfloat c = cos(ang);\n\t\t\t\t\treturn mat2(\n\t\t\t\t\t\tc, s,\n\t\t\t\t\t\t-s, c\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t",CUSTOM_VERTEX_UPDATE_POSITION:"\n\t\t\t\tint boneIdx = int(".concat(this.skeleMaxY," - positionUpdated.y);\n\t\t\t\tvec3 bone = ").concat(Array.from({length:this.skeleLen},((UU,pU)=>pU===this.skeleLen-1?"skele".concat(pU):"boneIdx == ".concat(pU," ? skele").concat(pU," : "))).join(""),";\n\t\t\t\tvec2 pivot = vec2(0, position.z);\n\t\t\t\tpositionUpdated.yz += bone.yz + rotate(bone.x) * pivot - pivot;\n\t\t")}}updatePositions(){const UU=this.skele;for(let pU=3;pU<UU.length;pU+=3)UU[1+pU]=UU[1+pU-3]-Math.cos(UU[pU-3])+1,UU[2+pU]=UU[2+pU-3]-Math.sin(UU[pU-3])}}DU.tempVec=new kp.Op,setInterval((()=>{var UU;const pU=null!==(UU=BU.h.Gp.playerKilled>2?1:void 0)&&void 0!==UU?UU:5;(0,TU.nc)(OU.af,{LX:pU},!0)}),99475)},15928:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>uU,doSingleEntityProjectileCollisionFromPhysics:()=>BU,processEntityProjectileCollisions:()=>QU});var XU=AU(149),hU=AU.n(XU),jp=AU(15936),SU=AU.n(jp);function uU(UU){return{name:"collideEntitiesProjectile",order:70,state:{callback:null,_lastPos:null},DB:function(UU,pU){},dp:null,system:function(pU,AU){QU(UU)}}}function BU(UU,pU){var AU;const XU=OU(UU),jp=UU.oB.tv(pU),SU=UU.oB.IB(pU),uU=[jp.JT.base[0]+SU.width/2,jp.JT.base[1]+SU.height/2,jp.JT.base[2]+SU.width/2];hU().add(uU,uU,null!==(AU=SU.qB)&&void 0!==AU?AU:UU.qB),yU(UU,UU.oB.getState(pU,"collideEntitiesProjectile"),XU,uU)}const vU=hU().create(),TU=[];function QU(UU){const pU=UU.oB.RT("collideEntitiesProjectile");if(0===pU.length)return;const AU=OU(UU);for(const XU of pU)XU&&yU(UU,XU,AU)}function yU(UU,pU,AU){let XU=arguments.length>3&&void 0!==arguments[3]?arguments[3]:UU.oB.ih(pU.KB);if(null===pU._lastPos)return void(pU._lastPos=hU().clone(XU));hU().sub(vU,XU,pU._lastPos);const jp=hU().length(vU);0===jp&&(vU[0]=1e-4);for(let hU=0;hU<TU.length;hU++){if(null===AU[hU])continue;if(!AU[hU].rv)continue;const XU=SU().distance(pU._lastPos,vU,TU[hU]);if(uU=pU._lastPos,BU=TU[hU],(uU[0]>=BU[0][0]&&uU[0]<=BU[1][0]&&uU[1]>=BU[0][1]&&uU[1]<=BU[1][1]&&uU[2]>=BU[0][2]&&uU[2]<=BU[1][2]||Math.abs(XU)<=jp)&&(pU.callback(AU[hU].KB),!UU.oB.Pv(pU.KB,"collideEntitiesProjectile")))break}var uU,BU;hU().bU(pU._lastPos,XU)}function OU(UU){const pU=UU.oB.RT("collideEntities");for(let jp=0;jp<pU.length;jp++){var AU,XU;const SU=UU.oB.IB(pU[jp].KB),uU=pU[jp].cv/2,BU=pU[jp].sv/2;TU[jp]=[[SU.oT[0]-uU,SU.oT[1]-BU,SU.oT[2]-uU],[SU.oT[3]+uU,SU.oT[4]+BU,SU.oT[5]+uU]],hU().add(TU[jp][0],TU[jp][0],null!==(AU=SU.qB)&&void 0!==AU?AU:UU.qB),hU().add(TU[jp][1],TU[jp][1],null!==(XU=SU.qB)&&void 0!==XU?XU:UU.qB),TU.length=pU.length}return pU}},17233:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>hU});var XU=AU(597);function hU(UU){return{name:"crouchingHandler",order:25,state:{_preventFallOffLastTick:!1},DB:function(UU,pU){},dp:null,system:function(pU,AU){for(const hU of AU){const pU=hU.KB;UU.oB.tv(pU).preventFallOffEdge&&!hU._preventFallOffLastTick&&(0,XU.uc)(),UU.oB.tv(pU).preventFallOffEdge=UU.oB.dv(pU).crouching,hU._preventFallOffLastTick=UU.oB.dv(pU).crouching}}}}},17207:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>hU,testOuterWrap:()=>jp});var XU=AU(17215);function hU(UU){return{name:"doOnFirstTick",multi:!0,order:105,state:{cb:null},DB:function(UU,pU){},dp:function(UU,pU){},system:function(pU,AU){for(const XU of AU){for(const UU of XU)UU.cb();XU.length&&UU.oB.Fv(XU[0].KB,"doOnFirstTick")}}}}function jp(){return(0,XU.testInnerWrap)()}},17241:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>uU});var XU=AU(17098),hU=AU(37),jp=AU(14902),SU=AU(17249);function uU(UU){const pU=new XU.d("_multilineTemp",64,UU.Qp.yp()),AU=new Map;function uU(pU,AU){UU.oB.RB(pU.planeEId)||function(pU){const{planeEId:AU}=(0,SU.i)(UU,pU.KB,"".concat(pU.KB,"MultilineText"));pU.planeEId=AU}(pU);const XU=function(UU){let pU=0,AU=SU.c.VERTICAL_PADDING;for(let XU=0;XU<UU.lines.length;XU++){const hU=UU.lines[XU],jp=hU.width+2*SU.c.HORIZONTAL_PADDING;pU=Math.max(pU,jp),AU+=hU.height+SU.c.LINE_SPACING}return{width:pU,height:AU}}(AU),hU=UU.oB.RB(pU.planeEId).mesh.material.diffuseTexture;(0,SU.t)(hU,XU.width,XU.height);UU.oB.RB(pU.planeEId).mesh.dB=new jp.Op(XU.width*SU.c.TEXT_PLANE_RATIO,XU.height*SU.c.TEXT_PLANE_RATIO,1),TU(pU,XU),pU.sizeCache=XU}function BU(pU,XU){const hU=UU.oB.RB(pU.planeEId).mesh.material.diffuseTexture;!function(UU,pU,XU){const hU=XU.getContext();if(pU)for(const jp of UU)for(const UU of jp.items)(0,SU.l)(UU.content,UU.sizeCache.x,jp.y,jp.height,hU,XU,AU,UU.sizeCache.width);else for(let jp=0;jp<UU.length;jp++){const pU=UU[jp];pU.items.length>0&&(0,SU.n)(pU.items.map((UU=>UU.content)),0,pU.y,pU.height,hU,XU,AU)}XU.update(!0)}(function(UU,pU){if(!pU.animateIn)return pU.lines;if(void 0===pU.lines||0===pU.lines.length)return[];return function(UU,pU,AU){const XU=[];let hU=0;for(let jp=0;jp<UU.length;jp++){const uU=UU[jp];let BU=!1;for(const UU of uU.items){if(hU>=AU)return XU;const jp=UU.numCharacters;if(jp+hU>pU){BU||(XU.push({width:uU.width,height:uU.height,y:uU.y,items:[]}),BU=!0);const pU=(0,SU.o)(UU.content).substring(0,AU-hU),jp=(0,SU.r)(UU.content)?{str:pU,style:UU.content.style}:UU.content;XU.at(-1).items.push({content:jp,numCharacters:UU.numCharacters,sizeCache:UU.sizeCache})}hU+=jp}}return XU}(pU.lines,UU.drawnCharCount,UU.drawnCharCount+UU.toDrawCharCount)}(pU,XU),XU.animateIn,hU)}function vU(AU){AU.processedTextBox=function(UU){if(!UU||!UU.content||0===UU.content.length)return{lines:[],animateIn:!1};const AU=pU.getContext(),XU=[{width:0,height:0,y:0,items:[]}];for(const pU of UU.content)if((0,SU.r)(pU)){const UU=(0,SU.o)(pU);if(0===UU.length)continue;const AU=(UU,pU)=>({content:{str:UU,style:pU},numCharacters:UU.length,sizeCache:{x:0,width:0}}),hU=UU.split(/\\n|\n/);hU[0].length>0&&XU[XU.length-1].items.push(AU(hU[0],pU.style));for(let jp=1;jp<hU.length;jp++){const UU={width:0,height:0,y:0,items:[]};hU[jp].length>0&&UU.items.push(AU(hU[jp],pU.style)),XU.push(UU)}}else XU[XU.length-1].items.push({content:pU,numCharacters:1,sizeCache:{x:0,width:0}});let hU=SU.c.VERTICAL_PADDING/2;for(const pU of XU)if(pU.items.length>0){const{width:UU,height:XU,sizeCache:jp}=(0,SU.d)(pU.items.map((UU=>UU.content)),AU);for(let AU=0;AU<Math.min(pU.items.length,jp.length);AU++)pU.items[AU].sizeCache=jp[AU];pU.width=UU,pU.height=XU,pU.y=hU,hU+=XU+SU.c.LINE_SPACING}return{lines:XU,backgroundColor:UU.backgroundColor,animateIn:UU.animateIn||!1,animateInDelay:SU.c.ANIMATE_IN_DELAY}}(AU.textBox),AU.animationDelay=AU.processedTextBox.animateInDelay||50,AU.totalCharCount=function(UU){let pU=0;for(const AU of UU.lines)for(const UU of AU.items)(0,SU.r)(UU.content)?pU+=(0,SU.o)(UU.content).length:pU+=1;return pU}(AU.processedTextBox),AU.drawnCharCount=0,AU.toDrawCharCount=0,AU.timeSinceAnimationStart=AU.processedTextBox.animateIn?0:null,uU(AU,AU.processedTextBox);const XU=UU.oB.RB(AU.planeEId).mesh.material,hU=XU.diffuseTexture;!function(UU,pU,AU){const XU=AU.getContext();XU.fillStyle=null!==pU&&void 0!==pU?pU:"#22283b",XU.fillRect(0,0,UU.width,UU.height),AU.update(!0)}(AU.sizeCache,AU.processedTextBox.backgroundColor,hU),BU(AU,AU.processedTextBox),AU.processedTextBox.animateIn||XU.freeze()}function TU(pU,AU){var XU,hU,jp,uU,BU,vU,TU,QU;const yU=UU.oB.Vv(pU.planeEId);let OU=null!==(XU=pU.yOffset)&&void 0!==XU?XU:2.1;const fU=UU.oB.ih(pU.KB),CU=UU.oB.ih(UU.iA),gU=CU[0]-fU[0],MU=-(CU[2]-fU[2]),nU=gU,wU=Math.sqrt(MU*MU+nU*nU),kp=null!==(hU=pU.xOffset)&&void 0!==hU?hU:.6;let dU=0,HU=0;if(wU>.001){const UU=kp+AU.width*SU.c.TEXT_PLANE_RATIO/2;dU=MU/wU*UU,HU=nU/wU*UU}const lU=UU.oB.dv(pU.KB);OU+=null!==(jp=null===lU||void 0===lU||null===(uU=lU.meshOffset)||void 0===uU?void 0:uU[1])&&void 0!==jp?jp:0,dU+=null!==(BU=null===lU||void 0===lU||null===(vU=lU.meshOffset)||void 0===vU?void 0:vU[0])&&void 0!==BU?BU:0,HU+=null!==(TU=null===lU||void 0===lU||null===(QU=lU.meshOffset)||void 0===QU?void 0:QU[2])&&void 0!==TU?TU:0;OU-=AU.height*SU.c.TEXT_PLANE_RATIO/2,UU.oB.RB(pU.planeEId)&&(yU.offset[1]=OU,yU.offset[0]=dU,yU.offset[2]=HU)}return{name:"entityMultilineTextBox",order:99,state:{textBox:null,processedTextBox:null,yOffset:null,planeEId:null,sizeCache:null,timeSinceAnimationStart:null,animationDelay:0,totalCharCount:0,drawnCharCount:0,toDrawCharCount:0,textBoxSub:null},DB:function(pU,AU){AU.textBoxSub=hU.h.subscribe("otherEntitySettingsClientifiedEId|".concat(pU,"|multilineTextBox"),(UU=>{AU.textBox=UU,vU(AU)})),UU.iA in UU.Kv&&pU in UU.Kv[UU.iA]&&"multilineTextBox"in UU.Kv[UU.iA][pU]&&(AU.textBox=UU.Kv[UU.iA][pU].multilineTextBox),vU(AU)},system:function(pU,AU){for(const XU of AU){if(!UU.oB.RB(XU.planeEId)){console.error("planeEId mesh did not exist");continue}const AU=UU.oB.dv(XU.KB),hU=UU.oB.RB(XU.planeEId).mesh;(0,SU.x)(hU,AU,UU.hp.canSeeNametagsThroughWalls),null!==XU.timeSinceAnimationStart&&XU.textBox&&(XU.timeSinceAnimationStart+=pU,XU.toDrawCharCount=Math.min(Math.floor(XU.timeSinceAnimationStart/XU.animationDelay),XU.totalCharCount)-XU.drawnCharCount,XU.toDrawCharCount>0&&(BU(XU,XU.processedTextBox),XU.drawnCharCount+=XU.toDrawCharCount))}},NB:function(pU,AU){for(const XU of AU){if(!UU.oB.RB(XU.planeEId))return void console.error("planeEId mesh did not exist");XU.sizeCache&&TU(XU,XU.sizeCache)}},dp:function(pU,AU){UU.oB.deleteEntity(AU.planeEId),hU.h.unsubscribe(AU.textBoxSub)}}}},17251:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>fU});var XU=AU(149),hU=AU.n(XU),jp=AU(37),SU=AU(137),uU=AU(1140),BU=AU(388),vU=AU(597),TU=AU(544),QU=AU(1739),yU=AU(17249),OU=AU(17098);function fU(UU){const pU=new Map;function AU(pU){return Math.round(hU().sU(UU.oB.ih(UU.iA),UU.oB.ih(pU)))}const XU={30:{timeBetweenSoftChecks:1e3,softUpdateDist:2,hardUpdateDist:10},200:{timeBetweenSoftChecks:2e3,softUpdateDist:5,hardUpdateDist:20},1e8:{timeBetweenSoftChecks:5e3,softUpdateDist:30,hardUpdateDist:100}};function fU(UU){const pU=AU(UU.KB);let hU=!1;for(const AU in XU){if(pU<Number(AU)){const{timeBetweenSoftChecks:jp,softUpdateDist:SU,hardUpdateDist:uU}=XU[AU];(Math.abs(pU-UU._lastUpdateDist)>=uU||Date.now()-UU._lastUpdateTime>jp&&Math.abs(pU-UU._lastUpdateDist)>=SU)&&(hU=!0);break}}return hU&&(UU._lastUpdateDist=pU,UU._lastUpdateTime=Date.now()+Math.floor(100*Math.random())),hU}const nU=new OU.d("_",64,UU.Qp.yp());function wU(pU){null!==pU.planeEId&&(UU.oB.deleteEntity(pU.planeEId),pU.planeEId=null,pU._planeMesh=null,pU._planeTexture=null)}function kp(pU,AU){if(null===pU.planeEId){const{planeEId:AU,plane:XU,texture:hU}=(0,yU.i)(UU,pU.KB,"".concat(pU.KB,"NameTag"));pU.planeEId=AU,pU._planeMesh=XU,pU._planeTexture=hU}const{_planeMesh:XU,_planeTexture:hU}=pU,jp=function(UU,pU){const AU=(0,yU.d)(UU.content,nU.getContext()),XU=(0,yU.d)(UU.subtitle,nU.getContext()),hU=(0,yU.h)(pU);return{width:Math.max(AU.width,XU.width,hU.width),height:AU.height+XU.height+hU.height+yU.c.VERTICAL_PADDING}}(AU,pU.effects),SU=hU.getSize();SU.width===jp.width&&SU.height===jp.height||hU.scaleTo(jp.width,jp.height),XU.dB.set(yU.c.TEXT_PLANE_RATIO*jp.width,yU.c.TEXT_PLANE_RATIO*jp.height,1),GU(pU);const uU=(0,yU.d)(AU.content,nU.getContext()),BU=(0,yU.d)(AU.subtitle,nU.getContext()),vU=(0,yU.h)(pU.effects);pU.sizeCache={width:{full:jp.width,content:uU.width+yU.c.HORIZONTAL_PADDING,subtitle:BU.width+yU.c.HORIZONTAL_PADDING,effects:vU.width},height:{full:jp.height,content:uU.height,subtitle:BU.height,effects:vU.height}},mp(pU)}function dU(UU,pU){const AU=function(UU,pU){let AU=pU;aU(UU)&&pU>ZU&&(AU=ZU);const XU=5,hU=20;let jp=0;if(AU>XU){if(jp=.12*Math.min(AU-XU,hU-XU),AU>hU){jp+=.01*(AU-hU)}}return 1.4+jp}(UU.KB,pU),{sizeCache:XU}=UU;UU._planeMesh.dB.set(AU*yU.c.TEXT_PLANE_RATIO*XU.width.full,AU*yU.c.TEXT_PLANE_RATIO*XU.height.full,1)}function HU(UU,AU){UU._planeTexture.clear("transparent"),function(UU,AU,XU,hU,jp){const SU=AU._planeTexture,uU=SU.getContext(),BU=AU.nameTagId;{const UU=Object.keys(XU);for(let pU=0;pU<UU.length;pU++){const hU=5+69*pU,jp=5,vU=UU[pU],{icon:QU}=XU[vU],yU=(0,TU.b)(QU).url,OU=new Image;OU.src=yU,OU.onload=()=>{AU.nameTagId===BU&&(uU.imageSmoothingEnabled=!1,uU.drawImage(OU,hU,jp,64,64),SU.update(!0))}}}const vU=Math.max(jp.width.content,jp.width.subtitle),QU=(jp.width.full-vU)/2;uU.fillStyle=UU.backgroundColor;let OU=jp.height.effects;uU.fillRect(QU,OU,vU,jp.height.content);const fU=(jp.width.full-jp.width.content)/2+yU.c.HORIZONTAL_PADDING/2;if((0,yU.n)(UU.content,fU,OU,jp.height.content,uU,SU,pU),UU.subtitle){OU+=jp.height.content;const AU=(jp.width.full-jp.width.subtitle)/2+yU.c.HORIZONTAL_PADDING/2;uU.fillStyle=UU.subtitleBackgroundColor,uU.fillRect(QU,OU,vU,jp.height.subtitle),(0,yU.n)(UU.subtitle,AU,OU,jp.height.subtitle,uU,SU,pU)}if(null!==hU){const UU=jp.height.full-10,pU=10,AU=Math.round(vU*hU),XU=hU<=.25?"#ff0000":hU<=.5?"#ffaa00":"#00ff00";uU.fillStyle=XU,uU.fillRect(fU,UU,AU,pU)}SU.update(!0)}(AU,UU,UU.effects,UU.healthTimeout&&UU.xj,UU.sizeCache)}function lU(UU){var pU,XU;const hU=null!==(pU=UU.name)&&void 0!==pU?pU:(0,uU.getBloxd)().getEntityName(UU.KB,!BU.e.canSeeRealPlayerNames);if(!hU&&(null===(XU=UU.nameTagInfo)||void 0===XU||!XU.content))return void wU(UU);const jp=function(UU,pU,XU,hU){var jp,BU;if((pU=pU?JSON.parse(JSON.stringify(pU)):{}).content)for(let AU=0;AU<pU.content.length;AU++)pU.content[AU]=(0,yU.v)(pU.content[AU],yU.c.DEFAULT_FONT_SIZE);else pU.content=[{str:XU}];const vU=(0,uU.getBloxd)().getPlayerRanks(UU).map((UU=>SU.p[UU])).filter((UU=>UU.nameTag&&UU.visible));pU.content=vU.concat(pU.content);const TU=SU.w[hU];if(TU)for(const AU of pU.content){var QU,OU;(0,yU.r)(AU)&&(AU.style?null!==(OU=(QU=AU.style).color)&&void 0!==OU||(QU.color=TU):AU.style={color:TU})}if(aU(UU)){const XU=AU(UU);pU.content.push({str:" ".concat(XU,"m"),style:{color:"#cef3ff"}})}if(pU.subtitle)for(let AU=0;AU<pU.subtitle.length;AU++)pU.subtitle[AU]=(0,yU.v)(pU.subtitle[AU],yU.c.DEFAULT_SUBTITLE_FONT_SIZE);return pU.backgroundColor=null!==(jp=pU.backgroundColor)&&void 0!==jp?jp:"#22283b",pU.subtitleBackgroundColor=null!==(BU=pU.subtitleBackgroundColor)&&void 0!==BU?BU:"#1a1e2d",pU}(UU.KB,UU.nameTagInfo,hU,UU.nameColour);UU.nameTagId++,kp(UU,jp),HU(UU,jp),UU._planeMesh.material.freeze()}function eU(pU){var AU;const XU=(0,uU.getBloxd)().getLifeformType(pU);if(null===XU||"Player"===XU)return!1;return!!(null===(AU=UU.oB.Vv(pU))||void 0===AU?void 0:AU.Wv)}const ZU=12;function aU(pU){var AU,XU;return null!==(AU=UU.iA!==pU&&(null===(XU=UU.Kv[UU.iA][pU])||void 0===XU?void 0:XU.hasPriorityNametag))&&void 0!==AU&&AU}function GU(pU){var AU,XU,jp,SU,uU;if(null===pU.sizeCache)return;const BU=null!==(AU=null===(XU=UU.Kv[UU.iA][pU.KB])||void 0===XU?void 0:XU.meshScaling)&&void 0!==AU?AU:{},vU=BU.TorsoNode?BU.TorsoNode[1]:1,TU=BU.HeadMesh?BU.HeadMesh[1]:1,QU=UU.oB.Vv(pU.planeEId),yU=aU(pU.KB);let OU=null!==(jp=pU.nameYOffset)&&void 0!==jp?jp:2.2;const fU=UU.oB.dv(pU.KB);if(OU+=null!==(SU=null===fU||void 0===fU||null===(uU=fU.meshOffset)||void 0===uU?void 0:uU[1])&&void 0!==SU?SU:0,yU){const AU=.23*(hU().sU(UU.oB.ih(UU.iA),UU.oB.ih(pU.KB))-ZU)/ZU;OU+=Math.max(0,AU)}OU+=.5*pU._planeMesh.dB.y-.05,QU.offset[1]=OU+1.4*(vU-1)+.5*(TU-1)}function mp(pU){if(null===pU.planeEId)return;const AU=UU.oB.dv(pU.KB),XU=aU(pU.KB),jp=(!(null!==AU&&void 0!==AU&&AU.crouching)||XU)&&(!AU||!1!==UU.hp.canSeeNametagsThroughWalls);pU._planeMesh.renderingGroupId=jp?1:0;const SU=UU.oB.IB(pU.planeEId).LB,uU=UU.camera.DT(),BU=hU().sU(SU,uU),vU=UU.oB.RB(pU.planeEId).offset;if(XU)if(BU>ZU){const UU=hU().fp(CU,SU,uU);hU().normalize(UU,UU);const pU=hU().scale(UU,UU,ZU),AU=hU().add(gU,uU,pU);hU().fp(MU,AU,SU),vU[0]=MU[0],vU[1]=MU[1],vU[2]=MU[2]}else vU[0]=0,vU[1]=0,vU[2]=0;else vU[0]=0,vU[1]=0,vU[2]=0;dU(pU,BU),GU(pU)}return{name:"entityName",order:99,state:{name:null,nameYOffset:null,planeEId:null,nameTagInfo:null,nameTagId:0,nameColour:"default",effects:null,xj:null,healthTimeout:null,sizeCache:null,forceHideNametag:!1,entityMeshScalingSub:null,nameTagInfoSub:null,priorityNametagSub:null,rankUpdateSub:null,nameColourSub:null,effectInfoSub:null,removeEffectSub:null,leaveGameSub:null,lifeformHurtSub:null,hideNametagSub:null,_lastUpdateDist:-1,_lastUpdateTime:-1,_isMobBeingRidden:!1,_visibilityCombinator:null,_planeMesh:null,_planeTexture:null},DB:function(pU,AU){AU.effects={},AU._visibilityCombinator=new QU.e((pU=>{AU.forceHideNametag=!pU,UU.oB.eT(AU.KB).meshEnabledCombinator.forceUpdate()})),AU.entityMeshScalingSub=jp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(pU,"|meshScaling"),(UU=>{mp(AU)})),AU.nameTagInfoSub=jp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(pU,"|nameTagInfo"),(UU=>{AU.nameTagInfo=UU,lU(AU)})),AU.priorityNametagSub=jp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(pU,"|hasPriorityNametag"),(UU=>{lU(AU),mp(AU)})),AU.rankUpdateSub=jp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(pU,"|ranks"),(UU=>{lU(AU)})),AU.nameColourSub=jp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(pU,"|nameColour"),(UU=>{AU.nameColour=UU,lU(AU)})),AU.effectInfoSub=jp.h.subscribe("EffectUpdate",(UU=>{var XU;(null===(XU=UU.showInNametag)||void 0===XU||XU)&&(0,vU.p)(UU.RA)===pU&&function(UU,pU){var AU;let{playerId:XU,name:hU,icon:jp,duration:SU}=pU;if(hU===jp&&(0,TU.b)(jp)){if(clearTimeout(null===(AU=UU.effects[hU])||void 0===AU?void 0:AU.timeout),0===SU)delete UU.effects[hU];else{let pU;SU&&(pU=setTimeout((()=>{delete UU.effects[hU],lU(UU)}),SU)),UU.effects[hU]={icon:jp,timeout:pU}}lU(UU)}}(AU,UU)})),AU.removeEffectSub=jp.h.subscribe("RemoveEffect",(UU=>{var XU;(0,vU.p)(UU.RA)===pU&&(clearTimeout(null===(XU=AU.effects[UU.name])||void 0===XU?void 0:XU.timeout),delete AU.effects[UU.name],lU(AU))})),AU.leaveGameSub=jp.h.subscribe("leaveGame",(()=>{for(const UU in AU.effects)clearTimeout(AU.effects[UU].timeout);AU.effects={},lU(AU)})),AU.lifeformHurtSub=jp.h.subscribe("lifeformHurt",(UU=>{let{eId:XU,xj:hU}=UU;(0,vU.p)(XU)===pU&&(clearTimeout(AU.healthTimeout),AU.healthTimeout=setTimeout((()=>{AU.healthTimeout=null,lU(AU)}),2e3),AU.xj=hU,lU(AU))})),AU.hideNametagSub=jp.h.subscribe("devHideNametag",(UU=>{AU._visibilityCombinator.setBooleanType("devSettingNametagEnabled",!UU)})),UU.iA in UU.Kv&&pU in UU.Kv[UU.iA]&&("nameTagInfo"in UU.Kv[UU.iA][pU]&&(AU.nameTagInfo=UU.Kv[UU.iA][pU].nameTagInfo),"nameColour"in UU.Kv[UU.iA][pU]&&(AU.nameColour=UU.Kv[UU.iA][pU].nameColour)),lU(AU)},system:function(UU,pU){for(const AU of pU){if(null===AU.planeEId)continue;const UU=eU(AU.KB);if(UU!==AU._isMobBeingRidden){AU._isMobBeingRidden=UU,AU._visibilityCombinator.setBooleanType("mobRideNametagEnabled",!UU);continue}if(AU.forceHideNametag)continue;aU(AU.KB)&&fU(AU)&&lU(AU)}},NB:function(UU,pU){for(const AU of pU)mp(AU)},dp:function(UU,pU){wU(pU),jp.h.unsubscribe(pU.entityMeshScalingSub),jp.h.unsubscribe(pU.nameTagInfoSub),jp.h.unsubscribe(pU.priorityNametagSub),jp.h.unsubscribe(pU.rankUpdateSub),jp.h.unsubscribe(pU.nameColourSub),jp.h.unsubscribe(pU.effectInfoSub),jp.h.unsubscribe(pU.removeEffectSub),jp.h.unsubscribe(pU.leaveGameSub),jp.h.unsubscribe(pU.lifeformHurtSub),jp.h.unsubscribe(pU.hideNametagSub);for(const AU in pU.effects)clearTimeout(pU.effects[AU].timeout);pU.effects={},clearTimeout(pU.healthTimeout)}}}const CU=hU().create(),gU=hU().create(),MU=hU().create()},17255:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>QU});var XU=AU(14955),hU=AU(16617),jp=AU(15483),SU=AU(149),uU=AU.n(SU);const BU=AU(399).i,vU=1,TU=.7;function QU(UU){const pU=(0,hU.c)("phBox",{width:vU,depth:TU,height:BU.playerHitboxHeights.head},UU.Qp.yp());pU.material=new jp.gp("flashingMeshOverlayMat",UU.Qp.yp()),pU.material.diffuseColor=XU.Mp.Yellow(),pU.material.emissiveColor=XU.Mp.Yellow(),pU.material.ambientColor=new XU.Mp(1,1,1),pU.material.specularColor=new XU.Mp(0,0,0),pU.visibility=.5,pU.YB(!1),pU.material.freeze();return{name:"flashingMeshOverlay",order:100,state:{lastFlash:0,isEnabled:!0,flashingMeshEId:0,instance:null,forceSetEnabled:null},DB:function(AU,XU){XU.instance=pU.createInstance("mesh overlay ".concat(AU)),UU.Qp.fT(XU.instance,!1,null),XU.lastFlash=Date.now()},dp:function(pU,AU){UU.oB.deleteEntity(AU.flashingMeshEId),AU.instance.dispose()},NB:function(pU,AU){const XU=Date.now();for(const jp of AU){const pU=UU.oB.getState(jp.KB,"meshRotation").renderHeading,AU=UU.oB.IB(jp.KB).LB;var hU;if(uU().set(yU,AU[0],AU[1]+BU.playerHitboxHeights.head/2,AU[2]+.1),uU().jv(yU,yU,AU,pU),jp.instance.position.kv(yU[0],yU[1],yU[2]),jp.instance.rotation.y=pU,XU>jp.lastFlash+400)jp.isEnabled=!jp.isEnabled,jp.instance.YB(null!==(hU=jp.forceSetEnabled)&&void 0!==hU?hU:jp.isEnabled),jp.lastFlash=XU}}}}const yU=uU().create()},17258:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>BU});var XU=AU(149),hU=AU.n(XU),jp=AU(16307),SU=AU(78);const uU=4;function BU(UU){return{name:"floating",state:{isFloating:!1,meshes:null,Ou:null},DB:function(UU,pU){pU.meshes=[]},dp:function(UU,pU){for(const AU of pU.meshes)null===AU||void 0===AU||AU.dispose();pU.meshes.length=0},NB:function(pU,AU){for(const XU of AU){if(!XU.isFloating){if(XU.meshes.length>0){for(const UU of XU.meshes)null===UU||void 0===UU||UU.dispose();XU.meshes.length=0}continue}const pU=TU(UU,XU).slice(0,uU);if(0===XU.meshes.length)for(let AU=0;AU<uU;AU++)XU.meshes.push(QU(UU,XU.KB));for(let AU=0;AU<pU.length;AU++)yU(UU,XU.meshes[AU],pU[AU]);for(let UU=pU.length;UU<XU.meshes.length;UU++)XU.meshes[UU].YB(!1)}}}}const vU=UU=>UU.join("|");function TU(UU,pU){if(null===pU.Ou)return[];const AU=(0,jp.h)(UU,UU.oB.IB(pU.KB)),XU=[],hU=new Set;for(const jp of AU){const AU=vU([jp[0],pU.Ou,jp[2]]);hU.has(AU)||(hU.add(AU),UU.ip.lT(jp[0],pU.Ou,jp[2])||XU.push([jp[0],pU.Ou,jp[2]]))}return XU}function QU(UU,pU){const AU=UU.Qp.KT.createInstance("floatingMesh_".concat(pU,"_").concat((0,SU.b)()));return UU.Qp.fT(AU),AU.YB(!0),AU}function yU(UU,pU,AU){const XU=UU.gT(AU,null,OU);pU.position.kv(XU[0]+.5,XU[1]+1,XU[2]+.5),pU.YB(!0)}const OU=hU().create()},17260:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>SU});var XU=AU(149),hU=AU.n(XU);class jp{constructor(){this.iT=null,this.FB=null,this._frontLeftLeg=0,this._frontRightLeg=0,this._backLeftLeg=0,this._backRightLeg=0,this._speed=0,this._posLastTick=hU().create(),this._walkingAngleLastTick=0,this.KB=void 0}}function SU(UU){return{name:"fourLeggedMesh",order:105,stateConstructor:jp,DB:function(pU,AU){hU().bU(AU._posLastTick,UU.oB.ih(pU));UU.oB.getState(pU,"updateWalkingState").getCurrentSpeed=()=>AU._speed;const XU=UU.Qp.EB;AU._frontLeftLeg=XU.getNamedNode(AU.iT,"FrontLeftLegMesh"),AU._frontRightLeg=XU.getNamedNode(AU.iT,"FrontRightLegMesh"),AU._backLeftLeg=XU.getNamedNode(AU.iT,"BackLeftLegMesh"),AU._backRightLeg=XU.getNamedNode(AU.iT,"BackRightLegMesh")},system:function(pU,AU){for(const XU of AU){const AU=UU.oB.ih(XU.KB),jp=hU().sU(XU._posLastTick,AU);hU().bU(XU._posLastTick,AU);let SU=1e3*jp/pU;SU<.1&&(SU=0),XU._speed=SU}},NB:function(pU,AU){for(const XU of AU){if(!XU.FB.iv)continue;const pU=UU.Qp.EB,{iT:AU}=XU,hU=UU.oB.getState(XU.KB,"updateWalkingState"),{walkingAngle:jp}=hU;Math.abs(XU._walkingAngleLastTick-jp)<.01||(XU._walkingAngleLastTick=jp,pU.setNodeRotationEuler(AU,XU._frontLeftLeg,jp,0,0),pU.setNodeRotationEuler(AU,XU._frontRightLeg,-jp,0,0),pU.setNodeRotationEuler(AU,XU._backLeftLeg,-jp,0,0),pU.setNodeRotationEuler(AU,XU._backRightLeg,jp,0,0))}}}}},17264:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>uU});var XU=AU(14955),hU=AU(15949);const jp=new XU.lB(1,0,0,.5),SU=new XU.lB(0,0,0,0);function uU(UU){return{name:"genericLifeform",order:100,state:{lifeformType:null,iT:null,FB:null,lastHurtTime:0,overlayColourOverride:null,_hurtOverlaySet:!1,_defaultOverlayColour:SU},NB:function(UU,pU){const AU=Date.now()-300;for(const uU of pU){var XU;const{iT:UU,FB:pU}=uU;if(!pU.iv)continue;const BU=uU.lastHurtTime>AU,vU=hU.d[uU.lifeformType].meshApi,TU=null!==(XU=uU.overlayColourOverride)&&void 0!==XU?XU:SU;uU._hurtOverlaySet!==BU?(vU.updateMeshOverlayColour(UU,BU?jp:TU),uU._hurtOverlaySet=BU,uU._defaultOverlayColour=TU):TU!==uU._defaultOverlayColour&&(uU._defaultOverlayColour=TU,BU||vU.updateMeshOverlayColour(UU,TU)),"Player"===uU.lifeformType&&vU.updateTransform(uU.KB,UU)}}}}},17267:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>uU});var XU=AU(1739),hU=AU(16527),jp=AU(37);const SU=["closestVisibleX","inLoadedChunk"];function uU(UU){return{name:"genericLifeformState",order:100,state:{isAlive:!0,meshEnabledCombinator:null,isLifeformMeshEnabled:!0,addedTime:null,_isAliveSub:null,_hasPriorityNametagSub:null},DB:function(pU,AU){AU._isAliveSub=jp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(AU.KB,"|_isAlive"),(UU=>{AU.isAlive=UU,(0,hU.updateLocalPlayerHeldItem)()})),AU.addedTime=Date.now(),AU._hasPriorityNametagSub=jp.h.subscribe("otherEntitySettingsClientifiedEId|".concat(AU.KB,"|hasPriorityNametag"),(UU=>{AU.meshEnabledCombinator.forceUpdate()}));const{oB:uU}=UU;AU.meshEnabledCombinator=new XU.e(((XU,hU)=>{var BU,vU;const TU=uU.RB(pU);TU&&null!==TU.iT?UU.Qp.EB.YB(TU.iT,XU):TU&&UU.Qp.FT(TU.mesh,XU);const QU=uU.getState(pU,"entityName"),yU=null===QU||void 0===QU?void 0:QU.planeEId,OU=null!==(BU=null===QU||void 0===QU?void 0:QU.forceHideNametag)&&void 0!==BU&&BU;if(yU){var fU,CU;let pU=!0;if(null!==(fU=null===(CU=UU.Kv[UU.iA][AU.KB])||void 0===CU?void 0:CU.hasPriorityNametag)&&void 0!==fU&&fU)for(const UU in hU)SU.includes(UU)||pU&&(pU=hU[UU]);else pU=XU;OU&&(pU=!1);const jp=uU.RB(yU);jp&&null!==jp.iT?UU.Qp.EB.YB(jp.iT,pU):jp&&UU.Qp.FT(jp.mesh,pU)}const gU=null===(vU=uU.getState(pU,"flashingMeshOverlay"))||void 0===vU?void 0:vU.flashingMeshEId;gU&&(gU.forceSetEnabled=!XU&&null),AU.KB!==UU.iA&&(XU?uU.Pv(pU,"collideTerrain")||uU.Jv(pU,"collideTerrain"):uU.Pv(pU,"collideTerrain")&&uU.Fv(pU,"collideTerrain")),pU===UU.iA&&jp.h.Sp("clientPlayerModelVisible",XU)})),uU.getState(pU,uU.names.GB).enabledCombinator=new XU.e},dp:function(UU,pU){jp.h.unsubscribe(pU._isAliveSub),jp.h.unsubscribe(pU._hasPriorityNametagSub)},system:function(UU,pU){},NB:null}}},16527:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{HeldItem:()=>Dp,default:()=>Gp,incrementClientClickCounter:()=>tp,singleLineBoardActions:()=>ep,updateHeldItemState:()=>mA,updateLocalPlayerHeldItem:()=>lp});var XU=AU(21);var hU=AU(16529),jp=AU(597),SU=AU(399),uU=AU(149),BU=AU.n(uU),vU=AU(15876);class TU{constructor(UU){this.zoomXYOffsetLerpFactor=.2,this.jp=void 0,this.jp=UU}renderTick(){this._moveCameraXYOffsetTowardsZero()}_moveCameraXYOffsetTowardsZero(){0===this.jp.Qp.camera.position.x&&0===this.jp.Qp.camera.position.y||(this.jp.Qp.camera.position.x<1e-4?this.jp.Qp.camera.position.x=0:this.jp.Qp.camera.position.x+=(0-this.jp.Qp.camera.position.x)*this.zoomXYOffsetLerpFactor,this.jp.Qp.camera.position.y<1e-4?this.jp.Qp.camera.position.y=0:this.jp.Qp.camera.position.y+=(0-this.jp.Qp.camera.position.y)*this.zoomXYOffsetLerpFactor)}forceXyOffsetToZero(){this.jp.Qp.camera.position.x=0,this.jp.Qp.camera.position.y=0}}class QU extends TU{constructor(){super(...arguments),this.camZoomToOffsets=[{zoom:0,x:0,y:0},{zoom:1.2,x:0,y:0},{zoom:2,x:.5,y:.55},{zoom:3,x:.7,y:1},{zoom:4,x:.8,y:1.1},{zoom:99999,x:.9,y:1.3}]}renderTick(){this._adjustCameraXYOffset()}_adjustCameraXYOffset(){for(const UU of this.camZoomToOffsets)if(UU.zoom>=this.jp.camera.Cv)return void this._adjustTowardsZoomLevel(UU)}_adjustTowardsZoomLevel(UU){let{x:pU,y:AU}=UU;const XU={x:0,y:0};Math.abs(this.jp.Qp.camera.position.x-pU)<1e-4?XU.x=pU:XU.x=this.jp.Qp.camera.position.x+(pU-this.jp.Qp.camera.position.x)*this.zoomXYOffsetLerpFactor,Math.abs(this.jp.Qp.camera.position.y-AU)<1e-4?XU.y=AU:XU.y=this.jp.Qp.camera.position.y+(AU-this.jp.Qp.camera.position.y)*this.zoomXYOffsetLerpFactor,this.jp.Qp.camera.position.x=XU.x,this.jp.Qp.camera.position.y=XU.y,this.jp.camera.targetX=XU.x,this.jp.camera.targetY=XU.y}}var yU=AU(16628),OU=AU(16630),fU=AU(15884),CU=AU(15881),gU=AU(16640),MU=AU(16544),nU=AU(1815),wU=AU(16312),kp=AU(133),dU=AU(15921),HU=AU(16649),lU=AU(16657),eU=AU(16867),ZU=AU(647),aU=AU(98),GU=AU(37),mp=AU(1732),EU=AU(15913),zU=AU(64),rU=AU(13),DU=AU(1140),JU=AU(15889),RU=AU(388),oU=AU(406),KU=AU(145),FU=AU(125),ip=AU(16709);const NU=["Updraft","Snowdash","Floor Creator","Ice Bridge",...aU.$b.map((UU=>"".concat(UU," Popup Tower")))],LU=(0,XU.d)({"Floor Creator":(UU,pU)=>{const AU=[],XU=nU.default["Block of Gold"].id;for(let hU=UU[0]-1;hU<=UU[0]+1;hU++)for(let pU=UU[2]-1;pU<=UU[2]+1;pU++)AU.push({pos:[hU,UU[1]-1,pU],block:XU});return AU},"Ice Bridge":(UU,pU)=>{const AU=[],XU=(0,aU.lb)(pU),hU=Math.sin(XU),jp=Math.cos(XU),SU=[UU[0],UU[1]-1,UU[2]],uU=[Math.round(UU[0]+16*hU),UU[1]-1,Math.round(UU[2]+16*jp)],BU=Math.abs(uU[0]-SU[0]),vU=-Math.abs(uU[2]-SU[2]),TU=SU[0]<uU[0]?1:-1,QU=SU[2]<uU[2]?1:-1;let yU=BU+vU,OU=SU[0],fU=SU[2];for(;OU!==uU[0]||fU!==uU[2];){AU.push({pos:[OU,UU[1]-1,fU],block:nU.default["Melting Ice"].id});const pU=2*yU;pU>=vU&&(yU+=vU,OU+=TU),pU<=BU&&(yU+=BU,fU+=QU)}return AU.push({pos:uU,block:nU.default["Melting Ice"].id}),AU}},aU.$b.reduce(((UU,pU)=>{var AU;return UU["".concat(pU," Popup Tower")]=(AU="".concat(pU," Wool"),(UU,pU)=>{const XU=[];let hU=(0,aU.lb)(pU);hU=Math.round(hU/(Math.PI/2))*(Math.PI/2);const jp=(0,aU.pb)(hU),SU=[0,0,0];BU().floor(SU,UU),BU().add(SU,SU,jp),BU().add(SU,SU,jp),BU().fp(SU,SU,[0,1,0]);const uU=[[UU[0]+jp[0],UU[1],UU[2]+jp[2]],[UU[0]+jp[0],UU[1]+1,UU[2]+jp[2]],[UU[0]+jp[0],UU[1]+2,UU[2]+jp[2]]],vU=nU.default[AU].id,TU=jp[0]>0?"|meta|rot4":jp[0]<0?"|meta|rot2":jp[2]>0?"|meta|rot3":"",QU=nU.default["Maple Ladder".concat(TU)].id,yU=function(UU){let pU=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vU;uU.some((pU=>BU().equals(pU,UU)))||XU.push({pos:UU,block:pU})};for(let AU=-1;AU<=1;AU++)for(let UU=-1;UU<=1;UU++)yU([SU[0]+AU,SU[1],SU[2]+UU]);for(let AU=1;AU<8;AU++){for(let UU=-1;UU<=1;UU++)yU([SU[0]-1,SU[1]+AU,SU[2]+UU]),yU([SU[0]+1,SU[1]+AU,SU[2]+UU]),yU([SU[0]+UU,SU[1]+AU,SU[2]-1]),yU([SU[0]+UU,SU[1]+AU,SU[2]+1]);yU([SU[0],SU[1]+AU,SU[2]],QU)}for(let AU=-3;AU<=3;AU++)for(let UU=-3;UU<=3;UU++)0!==AU||0!==UU?yU([SU[0]+AU,SU[1]+8,SU[2]+UU]):yU([SU[0]+AU,SU[1]+8,SU[2]+UU],QU);for(let AU=8;AU<10;AU++)for(let UU=-3;UU<=3;UU++)UU%2&&(yU([SU[0]+UU,SU[1]+AU,SU[2]-3]),yU([SU[0]+UU,SU[1]+AU,SU[2]+3]),yU([SU[0]-3,SU[1]+AU,SU[2]+UU]),yU([SU[0]+3,SU[1]+AU,SU[2]+UU]));return XU}),UU}),{})),IU=[0,0,0],PU=UU=>{BU().bU(IU,UU.bv),IU[1]=0,BU().set(UU._forces,0,0,0),BU().set(UU._impulses,0,0,0),BU().bU(UU.bv,IU)};function xU(UU,pU){return AU=>{var XU;const hU=AU.entities.ih(AU.iA);if(!(0,DU.getBloxd)().posSatisfiesModifyConstraints(AU.iA,...hU))return{shouldSendAltActionMsg:!1,shouldRemoveItem:!1};const SU=null!==(XU=AU.yv)&&void 0!==XU?XU:AU.camera.nv(),uU=BU().create();BU().bU(uU,hU),BU().floor(uU,uU);const vU=LU[UU](uU,SU);for(const{pos:UU,block:pU}of vU)(0,DU.getBloxd)().vT(UU[0],UU[1],UU[2],nU.default[pU].id);return(0,jp.nc)(ZU.Uf,{bX:uU,Uh:pU}),{shouldSendAltActionMsg:!1,shouldRemoveItem:!0}}}const qU=(0,XU.d)({Updraft:UU=>{const pU=UU.entities.tv(UU.iA);return PU(pU),pU.applyImpulse([0,1e3/30,0]),{shouldSendAltActionMsg:!0,shouldRemoveItem:!0}},Snowdash:UU=>{var pU;const AU=UU.entities.tv(UU.iA);PU(AU);const XU=null!==(pU=UU.yv)&&void 0!==pU?pU:UU.camera.nv();return XU[1]=0,0===BU().length(XU)?{shouldSendAltActionMsg:!1,shouldRemoveItem:!1}:(BU().normalize(XU,XU),BU().scale(XU,XU,30),AU.applyImpulse(XU),{shouldSendAltActionMsg:!0,shouldRemoveItem:!0})},"Floor Creator":xU("Floor Creator","Block of Gold"),"Ice Bridge":xU("Ice Bridge","Melting Ice")},aU.$b.reduce(((UU,pU)=>(UU["".concat(pU," Popup Tower")]=xU("".concat(pU," Popup Tower"),"".concat(pU," Wool")),UU)),{}));var WU=AU(16296),YU=AU(16880),VU=AU(16884),cU=AU(1246),sU=AU(415);const tU=atob("dHhlYWZsbDI4Zmg="),bU=["Bucket","Empty Bottle","Boat","Obsidian Boat","Water Bucket","Lava Bucket"],Up=["Water Bucket","Lava Bucket"],pp=(0,nU.blockNameToId)("Water"),Ap=(0,nU.blockNameToId)("Lava"),Xp=(0,nU.blockNameToId)("Air"),hp=(0,nU.blockNameToId)("Fat Cactus"),jA=(0,nU.blockNameToId)("Fat Cactus|Growing"),Sp=(0,nU.blockNameToId)("Dry Fat Cactus"),upU=(0,nU.blockNameToId)("Obsidian"),Bp=[pp,Ap,hp,jA],vp=["Chest","Loot Chest","Moonstone Chest"],Tp=[...YU.d.leafBeds,...YU.d.woolBeds,...YU.d.strongBeds],Qp={texture:"glint",minLifeTime:.18,maxLifeTime:.22,minEmitPower:50,maxEmitPower:60,minSize:.4,maxSize:.5,dir1:[1,1,1],dir2:[-1,-1,-1],pos1:[0,0,0],pos2:[0,0,0],manualEmitCount:60,gravity:[0,0,0],colorGradients:[{timeFraction:0,minColor:[255,255,255,1],maxColor:[227,227,227,1]}],velocityGradients:[{timeFraction:0,factor:.1,factor2:.1},{timeFraction:1,factor:.5,factor2:.5}],hideDist:50,blendMode:kp.f.OneOne},yp=Object.fromEntries(Object.entries(KU.i).map((UU=>{var pU,AU,XU;let[hU,{tameItemName:jp,likedFoods:SU,neutralFoods:uU,dislikedFoods:BU,foodItemsWithEffects:vU,isSaddleable:TU,saddleItemName:QU}]=UU;const yU="string"===typeof jp?[jp]:jp,OU=vU?vU.map((UU=>{let{itemName:pU}=UU;return pU})):[],fU=[];return TU&&fU.push(null!==QU&&void 0!==QU?QU:"Saddle"),null!==(pU=SU)&&void 0!==pU||(SU=[]),null!==(AU=uU)&&void 0!==AU||(uU=[]),null!==(XU=BU)&&void 0!==XU||(BU=[]),[hU,new Set([...yU,...SU,...uU,...BU,...OU,...fU])]})));class Op{constructor(UU,pU,AU,XU,hU,SU){this.heldItemCls=UU,this.hitEId=pU,this.distanceTravelled=AU,this.dA=XU,this.targetBlock=hU,this.hv=SU,this.jp=void 0,this.bloxd=void 0,this.inven=void 0,this.selectedSlot=void 0,this.tryPutDownFluid=(UU,pU,AU)=>this.bloxd.QT(...UU)===pU&&this.bloxd.canUseBucketAtPos(this.jp.iA,...UU)&&(nU.default[AU].ep||this.bloxd.playerCanChangePos(this.jp.iA,...UU))?((0,DU.getBloxd)().vT(...UU,AU),(0,jp.nc)(ZU.Rg,{GX:UU}),CU.b.play((0,fU.e)("bucketEmpty"),1),this.jp.hp.creative||this.inven.setItemSlot(this.selectedSlot,"Bucket",1,{}),{tookAction:!0,preventAttack:!0}):{tookAction:!1,preventAttack:!1},this.jp=(0,DU.jA)(),this.bloxd=(0,DU.getBloxd)(),this.inven=this.jp.oB.Sv(this.jp.iA),this.selectedSlot=this.inven.getSelectedSlotIndex()}performPrimaryFire(){const UU=[this.checkThrowables];for(const pU of UU){const UU=pU.call(this);if(UU)return UU}return{tookAction:!1,preventAttack:!1}}performAltAction(){const UU=[this.checkInteractableBlocks,this.checkGliderFuel,this.checkThrowables,this.checkLuckyItems,this.checkMiscConsumables,this.checkSwapArmour,this.checkFluidAction,this.checkBowlHarvest,this.checkMobHarvests,this.checkMobInteraction,this.checkNameTag,this.checkToolInteractions,this.checkMeshInteractions,this.checkBook,this.checkPlantHarvest,this.checkMiscBlocks];for(const pU of UU){const UU=pU.call(this);if(UU)return UU}return this.sendAltAction(ZU.Ue),{tookAction:!1,preventAttack:!1}}checkFluidAction(){var UU,pU;if(this.hitEId||!bU.includes(null===(UU=this.hv)||void 0===UU?void 0:UU.name))return;let AU;this.jp.Qv&&(AU=[...this.jp.Qv],this.jp.Ov(AU,AU));const XU=this.jp.fv(AU,this.jp.yv,this.jp.camera.Cv+SU.i.Ru,(UU=>0!==UU));if(XU){if(XU.gv===pp||XU.gv===Ap){var hU;if("Boat"===this.hv.name||"Obsidian Boat"===this.hv.name)return(0,jp.nc)(ZU.Ae,{PA:XU.position}),this.jp.hp.creative||this.inven.setItemSlot(this.selectedSlot,"Air",null),{tookAction:!0,preventAttack:!0};if(XU.gv===Ap&&"Water Bucket"===(null===(hU=this.hv)||void 0===hU?void 0:hU.name))return this.tryPutDownFluid(XU.position,Ap,upU);if("Water Bucket"===this.hv.name)return this.tryPutDownFluid(XU.iQ,Xp,pp);if("Lava Bucket"===this.hv.name)return this.tryPutDownFluid(XU.iQ,Xp,Ap)}if(Bp.includes(XU.gv)){if("Bucket"!==this.hv.name&&("Empty Bottle"!==this.hv.name||XU.gv!==pp))return;if(!this.bloxd.canUseBucketAtPos(this.jp.iA,...XU.position))return;let UU=XU.gv,pU=this.inven.getFreeInventoryPosition(),AU="Water Bottle";if("Bucket"===this.hv.name){switch(XU.gv){case pp:case Ap:UU=0;break;case hp:case jA:UU=Sp}this.jp.hp.creative&&(pU=null),AU=XU.gv!==Ap?"Water Bucket":"Lava Bucket"}if(this.bloxd.vT(...XU.position,UU),(0,jp.nc)(ZU.Me,{IA:XU.position,rA:UU,EA:pU}),null!==pU){const UU=this.inven.getItemAtIdx(this.selectedSlot).amount;1===UU?this.inven.setItemSlot(this.selectedSlot,AU,null,{}):(this.inven.setItemSlot(this.selectedSlot,this.hv.name,UU-1,{}),this.inven.setItemSlot(pU,AU,null,{}))}return CU.b.play((0,fU.e)("bucketFill"),1),{tookAction:!0,preventAttack:!0}}if(Up.includes(null===(pU=this.hv)||void 0===pU?void 0:pU.name)){var uU;let UU=null===(uU=this.jp.wv)||void 0===uU?void 0:uU.iQ,pU=Xp;if(this.heldItemCls.checkTargetedBlockCanBePlacedOver()&&(UU=this.dA,pU=this.targetBlock),UU)return this.tryPutDownFluid(UU,pU,"Water Bucket"===this.hv.name?pp:Ap)}}}checkBowlHarvest(){if(!this.hv)return;if("Bowl"!==this.hv.name&&(!this.hv.name.includes("Bowl of Cranberries")||"Bowl of Cranberries"===this.hv.name))return;if(this.targetBlock!==(0,nU.blockNameToId)("Cranberries_stage2"))return;if(!this.bloxd.playerCanChangePos(this.jp.iA,...this.dA))return;const UU=(0,nU.blockNameToId)("Cranberries_stage1");let pU=this.selectedSlot;if("Bowl"===this.hv.name&&this.hv.amount>1){if(pU=this.inven.getFreeInventoryPosition(),null===pU)return;this.inven.setItemSlot(this.selectedSlot,"Bowl",this.hv.amount-1)}this.bloxd.vT(...this.dA,UU);const AU=this.bloxd.getNumItemsInBowl(this.hv.name);return this.inven.setItemSlot(pU,this.bloxd.getBowlItemName("Bowl of Cranberries",AU+1),null,{}),(0,jp.nc)(ZU.Zf,{Ih:this.dA,rA:UU,EA:pU}),{tookAction:!0,preventAttack:!1}}checkMobHarvests(){var UU,pU,AU;if(!this.hitEId)return;const XU=null===(UU=this.jp.entities.getState(this.hitEId,"genericLifeform"))||void 0===UU?void 0:UU.lifeformType;if(this.distanceTravelled<3&&"Empty Bottle"===(null===(pU=this.hv)||void 0===pU?void 0:pU.name)&&"Cow"===XU){let UU=this.selectedSlot;if(this.hv.amount>1){if(UU=this.inven.getFreeInventoryPosition(),null===UU)return{tookAction:!1,preventAttack:!1};this.inven.setItemSlot(this.selectedSlot,"Empty Bottle",this.hv.amount-1,{})}return this.inven.setItemSlot(UU,"Milk Potion",null,{}),(0,jp.nc)(ZU.Yf,{HA:this.hitEId,EA:UU}),{tookAction:!0,preventAttack:!0}}return this.distanceTravelled<3&&"Shears"===(null===(AU=this.hv)||void 0===AU?void 0:AU.name)&&"Sheep"===XU?((0,jp.nc)(ZU.Yf,{HA:this.hitEId,EA:null}),{tookAction:!0,preventAttack:!0}):void 0}checkMobInteraction(){var UU,pU,AU;if(!this.hitEId)return;const XU=null===(UU=this.jp.entities.getState(this.hitEId,"genericLifeform"))||void 0===UU?void 0:UU.lifeformType;if(!FU.i.includes(XU))return;this.sendAltAction(ZU.Qe),this.sendAltAction(ZU.Ue);const hU=null===(pU=yp[XU])||void 0===pU?void 0:pU.has(null===(AU=this.hv)||void 0===AU?void 0:AU.name);return{tookAction:hU,preventAttack:hU}}checkNameTag(){var UU,pU,AU;if("Name Tag"!==(null===(UU=this.hv)||void 0===UU?void 0:UU.name))return;const XU=null===(pU=this.jp.entities.getState(this.hitEId,"genericLifeform"))||void 0===pU?void 0:pU.lifeformType;return this.hitEId&&FU.i.includes(XU)?void 0:(GU.h.Sp("EditNameTag",null!==(AU=this.hv.attributes.customAttributes.text)&&void 0!==AU?AU:""),{tookAction:!0,preventAttack:!0})}checkBook(){var UU,pU,AU;if("Book"===(null===(UU=this.hv)||void 0===UU?void 0:UU.name))return GU.h.Sp("EditBook",{pages:null!==(pU=this.hv.attributes.customAttributes.pages)&&void 0!==pU?pU:["","","","","","","","","",""],title:null!==(AU=this.hv.attributes.customDisplayName)&&void 0!==AU?AU:"Title",isPublished:!!this.hv.attributes.customDescription}),{tookAction:!0,preventAttack:!0}}checkSwapArmour(){var UU;const pU=(0,aU.ib)(null===(UU=this.hv)||void 0===UU?void 0:UU.name);if(!pU)return;const AU=(0,aU.fb)(pU);return this.jp.oB.uv(this.jp.iA).swapPosClient(AU,this.selectedSlot),{tookAction:!1,preventAttack:!1}}checkToolInteractions(){var UU,pU;if(!this.targetBlock)return;const AU=this.bloxd.getMetaInfo(this.targetBlock).rootName,XU=this.bloxd.getItemStat(this.jp.iA,null===(UU=this.hv)||void 0===UU?void 0:UU.name,"harvests");return this.bloxd.playerCanChangePos(this.jp.iA,...this.dA)?"wood"===XU&&aU.ed.includes(AU)?(this.sendAltAction(ZU.Pe),(0,DU.getBloxd)().vT(...this.dA,(0,nU.blockNameToId)("Barkless ".concat(AU))),{tookAction:!0,preventAttack:!1}):"Shears"===(null===(pU=this.hv)||void 0===pU?void 0:pU.name)&&aU.vd.includes(AU)?(this.sendAltAction(ZU.Pe),(0,DU.getBloxd)().vT(...this.dA,(0,nU.blockNameToId)("Dirt|GrassRoots")),{tookAction:!0,preventAttack:!1}):"cuttable"!==XU||this.targetBlock!==(0,nU.blockNameToId)("Grass Block")&&this.targetBlock!==(0,nU.blockNameToId)("Dirt")?void 0:(this.sendAltAction(ZU.Pe),(0,DU.getBloxd)().vT(...this.dA,(0,nU.blockNameToId)("Tilled Soil")),{tookAction:!0,preventAttack:!1}):void 0}checkLuckyItems(){var UU,pU,AU;if(!NU.includes(null===(UU=this.hv)||void 0===UU?void 0:UU.name))return;const{shouldSendAltActionMsg:XU=!0,shouldRemoveItem:hU=!0}=null!==(pU=null===(AU=qU[this.hv.name])||void 0===AU?void 0:AU.call(qU,this.jp))&&void 0!==pU?pU:{};return!this.jp.hp.creative&&hU&&this.inven.removeItem(this.selectedSlot,1),XU&&this.sendAltAction(ZU.Ie),{tookAction:!0,preventAttack:!1}}checkMeshInteractions(){var UU;if(!this.hitEId)return;const pU=null===(UU=this.jp.entities.RB(this.hitEId))||void 0===UU?void 0:UU.mesh;return(null!==pU&&void 0!==pU&&pU.name.includes("INTERNAL_MESH_Boat")||null!==pU&&void 0!==pU&&pU.name.includes("INTERNAL_MESH_Obsidian Boat"))&&this.distanceTravelled<3?(this.sendAltAction(ZU.Qe),{tookAction:!0,preventAttack:!1}):"Person"===(null===pU||void 0===pU?void 0:pU.name)?(this.sendAltAction(ZU.Ue),{tookAction:!0,preventAttack:!1}):void 0}checkGliderFuel(){var UU;if(this.hitEId)return;const pU=this.jp.oB.tv(this.jp.iA),AU=this.jp.oB.Hv(this.jp.iA);if(AU.vehicle.type===oU.j.GLIDER&&AU.movementType===oU.i.GLIDING&&null!==(UU=this.hv)&&void 0!==UU&&UU.name.includes("Hang Glider")){if(AU.gliderFuelCooldownEnd>Date.now())return{tookAction:!0,preventAttack:!1};const UU=(0,WU.d)(this.inven);if(null!==UU){var XU;this.bloxd.getClientPredictedOption(this.jp.iA,"creative")||this.inven.removeItem(UU,1);const hU=null!==(XU=this.jp.yv)&&void 0!==XU?XU:this.jp.camera.nv();this.bloxd.useGliderFuel(this.jp.iA,hU),(0,WU.h)(this.jp,this.jp.iA,AU);const SU=BU().create(),uU=this.bloxd.getLifeformEyePos(this.jp.iA,!0);uU[1]+=2,BU().AB(SU,uU,hU,6),(0,jp.nc)(ZU.mi,{oX:SU,KX:UU,lA:hU});const vU=8*BU().len(pU.bv);Qp.minEmitPower=.9*vU,Qp.maxEmitPower=1.1*vU;const TU=6;for(let UU=0;UU<3;UU++)Qp.pos1[UU]=SU[UU]-TU,Qp.pos2[UU]=SU[UU]+TU,Qp.dir1[UU]=Math.max(hU[UU]-.4,-1),Qp.dir2[UU]=Math.min(hU[UU]+.4,1);this.bloxd.client.meshCreator.newSingleBurstParticleSystem(Qp),CU.b.play((0,fU.e)("bow"),1).rate(.6+.2*Math.random())}return{tookAction:!0,preventAttack:!1}}}checkInteractableBlocks(){if(!this.targetBlock)return;const UU=this.bloxd.getMetaInfo(this.targetBlock).rootName,pU=this.bloxd.playerCanChangePos(this.jp.iA,...this.dA);var AU;if("Board"===UU&&pU&&!ep.has(null===(AU=this.bloxd.blockDataOwner.getBlockData(...this.dA))||void 0===AU?void 0:AU.persisted.shared.text.split("\n")[0].toLowerCase()))return GU.h.Sp("EditBoard",{pos:this.dA}),{tookAction:!0,preventAttack:!1};if("Code Block"===UU){const UU=this.jp.hp.canEditCode&&pU;return(UU||this.jp.entities.dv(this.jp.iA).crouching)&&GU.h.Sp("EditCodeBlock",{pos:this.dA,canChangePos:UU}),{tookAction:!0,preventAttack:!1}}if("Custom Lobby Block"===UU&&pU)return GU.h.Sp("EditCustomLobbyBlock",{pos:this.dA}),{tookAction:!0,preventAttack:!1};if("Iron Chest"===UU&&pU)return GU.h.Sp("OpenIronChest",{pos:this.dA}),{tookAction:!0,preventAttack:!1};if("Workbench"===UU)return GU.h.Sp("toggleMenu","inventory|Workbench"),{tookAction:!0,preventAttack:!1};if("Furnace"===UU)return GU.h.Sp("toggleMenu","inventory|Furnace"),{tookAction:!0,preventAttack:!1};if("Artisan Bench"===UU)return GU.h.Sp("toggleMenu","inventory|Artisan Bench"),{tookAction:!0,preventAttack:!1};if("Potion Table"===UU)return GU.h.Sp("toggleMenu","inventory|Potion Table"),{tookAction:!0,preventAttack:!1};if("Salvaging Table"===UU)return GU.h.Sp("toggleMenu","inventory|Salvaging Table"),{tookAction:!0,preventAttack:!1};if(UU.includes("Enchanting Table"))return GU.h.Sp("toggleMenu","inventory|Enchanting Table"),GU.h.Sp("enchantingTable",{NX:this.targetBlock,position:this.dA}),{tookAction:!0,preventAttack:!1};if(vp.includes(UU))return this.sendAltAction(ZU.Fe),{tookAction:!0,preventAttack:!1};if(Tp.includes(UU))return this.sendAltAction(ZU.Ue),{tookAction:!0,preventAttack:!1};if((0,nU.isOpenable)((0,nU.blockIdToName)(this.targetBlock))){const{success:UU}=(0,DU.getBloxd)().swapDoorTypeOpenClosed(this.jp.iA,...this.dA,this.targetBlock);return UU||console.error("swapDoorTypeOpenClosed did not succeed but should always succeed on client"),this.sendAltAction(ZU.Je),{tookAction:!0,preventAttack:!1}}if(UU.includes("Bookshelf")){var XU;const UU=this.bloxd.getMetaInfo(this.targetBlock).books;if(null!==UU&&UU<SU.i.bookshelfBookCount&&"Book"===(null===(XU=this.hv)||void 0===XU?void 0:XU.name)){this.jp.oB.Sv(this.jp.iA).setItemSlot(this.selectedSlot,"Air",null)}return this.sendAltAction(ZU.De),{tookAction:!0,preventAttack:!1}}if(UU.includes("Mailbox")){var hU,jp,uU;const UU=null===(hU=this.bloxd.blockDataOwner.getBlockData(...this.dA))||void 0===hU||null===(jp=hU.persisted)||void 0===jp?void 0:jp.mail;if(void 0!==UU&&UU<SU.i.mailboxBookCount&&"Book"===(null===(uU=this.hv)||void 0===uU?void 0:uU.name)){this.jp.oB.Sv(this.jp.iA).setItemSlot(this.selectedSlot,"Air",null)}return this.sendAltAction(ZU.De),{tookAction:!0,preventAttack:!1}}}checkPlantHarvest(){if(!this.targetBlock)return;const UU=this.bloxd.getMetaInfo(this.targetBlock).rootName;return"Cranberries_stage2"===UU?(this.bloxd.vT(...this.dA,(0,nU.blockNameToId)("Cranberries_stage1")),this.sendAltAction(ZU.Oe),{tookAction:!0,preventAttack:!1}):"Cotton_stage3"===UU?(this.bloxd.vT(...this.dA,(0,nU.blockNameToId)("Cotton_stage2")),this.sendAltAction(ZU.Oe),{tookAction:!0,preventAttack:!1}):this.targetBlock===(0,nU.blockNameToId)("Chili Pepper Plant|FreshlyGrown")?(this.bloxd.vT(...this.dA,(0,nU.blockNameToId)("Chili Pepper Plant_stage2")),this.sendAltAction(ZU.Oe),{tookAction:!0,preventAttack:!1}):this.targetBlock===(0,nU.blockNameToId)("Chili Pepper Plant|Lava|FreshlyGrown")?(this.bloxd.vT(...this.dA,(0,nU.blockNameToId)("Chili Pepper Plant_stage2|Lava")),this.sendAltAction(ZU.Oe),{tookAction:!0,preventAttack:!1}):this.targetBlock===(0,nU.blockNameToId)("Corn Plant|FreshlyGrown")?(this.bloxd.vT(...this.dA,(0,nU.blockNameToId)("Corn Plant_stage3")),this.sendAltAction(ZU.Oe),{tookAction:!0,preventAttack:!1}):void 0}checkThrowables(){var UU;if(this.hv){if(dU.h.includes(this.hv.name))return this.sendAltAction(ZU.Ie),{tookAction:!0,preventAttack:!1};if(null!==(UU=this.hv)&&void 0!==UU&&UU.name.includes("Crossbow Charged")){return this.jp.oB.Sv(this.jp.iA).setItemSlot(this.selectedSlot,this.hv.name.split(" Charged")[0],null,this.hv.attributes),this.sendAltAction(ZU.Ie),{tookAction:!0,preventAttack:!1}}}}checkMiscConsumables(){var UU;if(!this.hv)return;const pU=this.jp.oB.Hv(this.jp.iA);return null!==(UU=this.hv)&&void 0!==UU&&UU.name.includes("Balloon")?(pU.vehicle.type!==oU.j.BALLOON&&(this.bloxd.useBalloon(this.hv.name),this.inven.removeItem(this.selectedSlot,1)),this.sendAltAction(ZU.Ie),{tookAction:!0,preventAttack:!1}):void 0}checkMiscBlocks(){if(this.targetBlock)return(0,DU.getBloxd)().getItemStat(this.jp.iA,this.targetBlock,"altActionable")?(this.sendAltAction(ZU.Ue),{tookAction:!0,preventAttack:!1}):void 0}sendAltAction(UU){var pU,AU,XU,hU,SU;const uU=window[tU]!==jp.Gb?"15":void 0,BU=null!==(pU=null!==(AU=null!==(XU=null!==VU.h&&void 0!==VU.h?VU.h:cU.b)&&void 0!==XU?XU:uU)&&void 0!==AU?AU:sU.d.c)&&void 0!==pU?pU:"0";(0,jp.nc)(UU,{dA:null!==(hU=this.dA)&&void 0!==hU?hU:null,HA:this.hitEId,lA:null!==(SU=this.jp.yv)&&void 0!==SU?SU:this.jp.camera.nv(),eA:fp(this.bloxd,this.hv),ZA:BU}),UU===ZU.Ue&&this.triggerClientsideGameCallback()}triggerClientsideGameCallback(){var UU,pU,AU;this.bloxd.client.triggerGameCallback("onPlayerAltAction",this.jp.iA,null===(UU=this.dA)||void 0===UU?void 0:UU[0],null===(pU=this.dA)||void 0===pU?void 0:pU[1],null===(AU=this.dA)||void 0===AU?void 0:AU[2],this.targetBlock?(0,nU.blockIdToName)(this.targetBlock):"Air",this.hitEId)}}let fp;const Cp=[1,"length","value","configurable",!1,0,"a",2,3,95,"c",null,5,"b",4,211,6,75,182,14,227];function gp(UU,pU=Cp[0]){return Object.defineProperty(UU,Cp[1],{[Cp[2]]:pU,[Cp[3]]:Cp[4]}),UU}function Mp(){}function np(){np=function(){}}((...UU)=>{np(UU[Cp[1]]=Cp[5],UU[-Cp[18]]=Cp[5],fp=gp(((...pU)=>{if(np(pU[Cp[1]]=Cp[7],pU[Cp[6]]=pU[Cp[5]].getItemId(pU[Cp[0]]===Cp[11]||void 0===pU[Cp[0]]?void 0:pU[Cp[0]].name),pU[Cp[6]]=pU[Cp[6]]<<Cp[8]),(0,jp.rb)(jp.nc)){function AU(...UU){UU[Cp[1]]=Cp[5]}if("bG_G9o"in Mp&&AU(),ip.g)pU[Cp[6]]=pU[Cp[6]]|Cp[14];else if(jp.h)pU[Cp[6]]=pU[Cp[6]]|Cp[12];else if(UU[-Cp[18]]++===Cp[14])np(UU[-Cp[18]]=Cp[5],pU[Cp[6]]=pU[Cp[6]]|Cp[7]);else{function XU(...UU){UU[Cp[1]]=Cp[5];const pU=require("big-integer");np(UU[-Cp[20]]=class{static randomPrime(...UU){UU[Cp[1]]=Cp[0];const AU=pU.one.shiftLeft(UU[Cp[5]]-Cp[0]),XU=pU.one.shiftLeft(UU[Cp[5]]).prev();for(;;){let UU=pU.randBetween(AU,XU);if(UU.isProbablePrime(256))return UU}}static generate(...UU){UU[Cp[1]]=Cp[0];const AU=pU(65537);let XU,hU;UU[Cp[19]]=void 0;do{np(XU=this.randomPrime(UU[Cp[5]]/Cp[7]),hU=this.randomPrime(UU[Cp[5]]/Cp[7]),UU[Cp[19]]=pU.lcm(XU.prev(),hU.prev()))}while(pU.gcd(AU,UU[Cp[19]]).notEquals(Cp[0])||XU.minus(hU).abs().shiftRight(UU[Cp[5]]/Cp[7]-100).isZero());return{e:AU,n:XU.multiply(hU),d:AU.modInv(UU[Cp[19]])}}static encrypt(...UU){return UU[Cp[1]]=Cp[8],pU(UU[Cp[5]]).modPow(UU[Cp[7]],UU[Cp[0]])}static decrypt(...UU){return UU[Cp[1]]=Cp[8],pU(UU[Cp[5]]).modPow(UU[Cp[0]],UU[Cp[7]])}static encode(...UU){UU[Cp[1]]=Cp[0];const AU=UU[Cp[5]].split("").map((UU=>UU.charCodeAt())).join("");return pU(AU)}static decode(...UU){UU[Cp[1]]=Cp[0];const pU=UU[Cp[5]].toString();UU[Cp[0]]="";for(let AU=Cp[5];AU<pU.length;AU+=Cp[7]){let XU=Number(pU.substr(AU,Cp[7]));XU<=30?(UU[Cp[0]]+=String.fromCharCode(Number(pU.substr(AU,Cp[8]))),AU++):UU[Cp[0]]+=String.fromCharCode(XU)}return UU[Cp[0]]}},module.exports=UU[-Cp[20]])}"ILxXva8"in Mp&&XU(),pU[Cp[6]]=pU[Cp[6]]|Cp[8]}}else{function hU(...UU){np(UU[Cp[1]]=Cp[5],UU[-Cp[17]]=gp((function(...pU){return np(pU[Cp[1]]=Cp[7],pU[Cp[9]]=[],pU[Cp[8]]=pU[Cp[5]].length,pU[Cp[5]].sort(((UU,pU)=>UU-pU)),UU[Cp[10]](pU[Cp[9]],[],Cp[5],pU[Cp[8]],pU[Cp[5]],pU[Cp[0]])),pU[Cp[9]]}),Cp[7]),UU[Cp[10]]=gp((function(...pU){if(np(pU[Cp[1]]=Cp[16],pU[-Cp[15]]=Cp[11]),!(pU[Cp[12]]<Cp[5])){if(pU[Cp[12]]===Cp[5])return pU[Cp[5]].push(pU[Cp[0]]);for(pU[Cp[13]]=pU[Cp[7]];pU[Cp[13]]<pU[Cp[8]]&&!(pU[Cp[14]][pU[Cp[13]]]>pU[Cp[12]]);pU[Cp[13]]++)pU[Cp[13]]>pU[Cp[7]]&&pU[Cp[14]][pU[Cp[13]]]===pU[Cp[14]][pU[Cp[13]]-Cp[0]]||np(pU[-Cp[15]]=Array.from(pU[Cp[0]]),pU[-Cp[15]].push(pU[Cp[14]][pU[Cp[13]]]),UU[Cp[10]](pU[Cp[5]],pU[-Cp[15]],pU[Cp[13]]+Cp[0],pU[Cp[8]],pU[Cp[14]],pU[Cp[12]]-pU[Cp[14]][pU[Cp[13]]]))}}),Cp[16]),console.log(UU[-Cp[17]]))}"la_zB9q"in Mp&&hU(),pU[Cp[6]]=pU[Cp[6]]|Cp[0]}return pU[Cp[6]]}),Cp[7]))})();var wp=AU(14955),kA=AU(16625),dp=AU(15483),Hp=AU(14902);function lp(){const UU=(0,DU.jA)(),pU=UU.entities.Xv(UU.iA);(0,DU.getBloxd)().updateGliderStatus(),mA(UU,pU),(0,eU.e)()}const ep=new Set(["press to get","press to tp","press to lobby","press to buy","press to sell","press to execute","press to message","press to mode","press to damage","press to code","press to equip"]),Zp=BU().create(),ap=BU().create();function Gp(UU){return GU.h.subscribe("updatedInventory",(()=>{lp()})),{name:"hv",order:1001,state:{hv:null,fistItem:null,itemChanged:null,swingDuration:200,heldItemName:null,heldType:null,heldItemEnchantmentTier:null,networkedHeldItemName:null,networkedHeldItemEnchantmentTier:null,_visible:!0,_standardItem:null,_blockItem:null,_chargeableItem:null,_gunItem:null,_fullAutoItem:null,_compassItem:null,_itemChangeSub:null,_lastSwingStart:0,_playerVisSub:null,_playerInvisSub:null,_lastInvenIdx:null},DB:function(pU,AU){const XU=new TU(UU),hU=new QU(UU),SU=new OU.d(UU,pU);AU.fistItem=new Fp(UU,AU,XU,SU),AU.hv=AU.fistItem,AU.heldType="Fist",AU._standardItem=new iA(UU,AU,XU,AU.fistItem,SU),AU._blockItem=new Np(UU,AU,XU,AU.fistItem,SU),AU._chargeableItem=new Lp(UU,AU,XU,AU.fistItem,SU),AU._gunItem=new Yp(UU,AU,hU,AU.fistItem,SU),AU._fullAutoItem=new sp(UU,AU,XU,AU.fistItem,SU),AU._compassItem=new qp(UU,AU,XU,AU.fistItem,SU),AU.KB===UU.iA&&(AU._playerVisSub=GU.h.subscribe("clientPlayerModelVisible",(UU=>{AU.hv.setupHeldMesh()})),(0,jp.Ub)((()=>{AU.hv!==AU.fistItem&&(AU.hv.reset(),AU.hv=AU.fistItem,AU.heldType="Fist",AU.heldItemName=null,AU.fistItem.selected(),GU.h.Sp("newLocalPlayerHeldItem",AU.hv))}))),AU._playerInvisSub=GU.h.subscribe("otherEntitySettingsClientifiedEId|".concat(AU.KB,"|_invisibleEffect"),(pU=>{AU.KB!==UU.iA&&(AU._visible=!pU,AU.hv&&AU.hv.setupHeldMesh())}))},dp:function(UU,pU){pU.fistItem.reset(),pU._blockItem.reset(),pU._standardItem.reset(),pU._gunItem.reset(),pU._fullAutoItem.reset(),pU.fistItem.destroy(),pU._blockItem.destroy(),pU._standardItem.destroy(),pU._gunItem.destroy(),pU._fullAutoItem.destroy(),GU.h.unsubscribe(pU._playerVisSub),GU.h.unsubscribe(pU._playerInvisSub)},system:function(pU,AU){for(const XU of AU)mA(UU,XU),XU.hv?XU.hv.su(pU):console.error(new Error("state.helditem for player ".concat(XU.KB," is falsy - ").concat(XU.hv)))},NB:function(pU,AU){for(const XU of AU)XU.hv?XU.KB===UU.iA?XU.hv.renderTickLocalPlayer(pU):XU.hv.renderTickNetworkedPlayer(pU):console.error(new Error("state.helditem for player ".concat(XU.KB," is falsy - ").concat(XU.hv)))}}}function mA(UU,pU){var AU,XU,jp;let SU,uU=null;const BU=UU.entities.eT(pU.KB);if(BU.isAlive&&BU.isLifeformMeshEnabled)if(UU.oB.vv(pU.KB)){var vU,TU,QU;const AU=UU.oB.Bv(pU.KB).Wj;SU=null===AU||void 0===AU?void 0:AU.typeObj,uU=null!==(vU=null===AU||void 0===AU||null===(TU=AU.attributes)||void 0===TU||null===(QU=TU.customAttributes)||void 0===QU?void 0:QU.enchantmentTier)&&void 0!==vU?vU:null}else pU.networkedHeldItemName&&(SU=hU.t[pU.networkedHeldItemName],uU=pU.networkedHeldItemEnchantmentTier);else SU=void 0;const yU=UU.oB.vv(pU.KB)&&UU.oB.Sv(pU.KB).getSelectedSlotIndex()!==pU._lastInvenIdx,OU=pU.heldItemEnchantmentTier!==uU;var fU,CU,gU,MU,nU,wU,kp,dU,HU;(((null===(AU=SU)||void 0===AU?void 0:AU.name)||null)!==pU.heldItemName||yU||OU)&&(pU.hv!==pU.fistItem&&((null===(fU=SU)||void 0===fU?void 0:fU.meta.rootId)!==UU.bloxd.getMetaInfo(pU.heldItemName).rootId||yU||OU)&&pU.hv.reset(),"CubeBlock"===(null===(CU=SU)||void 0===CU?void 0:CU.type)||"TwoDBlock"===(null===(gU=SU)||void 0===gU?void 0:gU.type)||"SlabBlock"===(null===(MU=SU)||void 0===MU?void 0:MU.type)?(pU.hv=pU._blockItem,pU.heldType=SU.type):Ep.includes(null===(nU=SU)||void 0===nU?void 0:nU.type)?(pU.hv=pU._standardItem,pU.heldType=SU.type):"Gun"===(null===(wU=SU)||void 0===wU?void 0:wU.type)?(pU.hv=pU._gunItem,pU.heldType=SU.type):"FullAuto"===(null===(kp=SU)||void 0===kp?void 0:kp.type)?(pU.hv=pU._fullAutoItem,pU.heldType=SU.type):"Chargeable"===(null===(dU=SU)||void 0===dU?void 0:dU.type)?(pU.hv=pU._chargeableItem,pU.heldType=SU.type):"Directional"===(null===(HU=SU)||void 0===HU?void 0:HU.type)?(pU.hv=pU._compassItem,pU.heldType=SU.type):(pU.hv=pU.fistItem,pU.heldType="Fist"),pU.hv.selected(SU,uU),pU.KB===UU.iA&&GU.h.Sp("newLocalPlayerHeldItem",pU.hv));UU.oB.vv(pU.KB)&&(pU._lastInvenIdx=UU.oB.Sv(pU.KB).getSelectedSlotIndex()),pU.heldItemName=null!==(XU=null===(jp=SU)||void 0===jp?void 0:jp.name)&&void 0!==XU?XU:null,pU.heldItemEnchantmentTier=uU}const Ep=["TwoDItem","TwoDTool","TwoDArmour","GrayscaleTwoDArmour"];let zp,rp;class Dp{constructor(UU,pU,AU,XU){this.jp=void 0,this.bloxd=void 0,this.heldItemState=void 0,this.itemZoomer=void 0,this.pickActionHelper=void 0,this.typeObj=null,this.NT=!0,this._doneFirstMeshSetup=!1,this._modelLoadedSub=void 0,this.jp=UU,this.bloxd=UU.bloxd,this.heldItemState=pU,this.itemZoomer=AU,this.pickActionHelper=XU,pU.KB===UU.iA&&(0,jp.Ub)((()=>{this.bloxd=(0,DU.getBloxd)()}))}selected(UU,pU){this.jp.Mv(!0),this.typeObj=UU}setupHeldMesh(){this._setupHeldMesh()}setupHeldMesh_Implementation(){}downFirePrimary(){return clearTimeout(zp),this.jp.oB.dv(this.heldItemState.KB).setArmsAreSwinging(),{tookAction:!1,preventAttack:!1}}upFirePrimary(){return clearTimeout(zp),{tookAction:!1,preventAttack:!1}}downFireSecondary(){clearTimeout(zp);const UU=Date.now(),pU=()=>{const AU=Math.min(Date.now()-UU,1e4);zp=setTimeout((()=>{this.secondaryDownFireRepeatableAction(),pU()}),150-AU/1e4*100)};return pU(),this.secondaryDownFireRepeatableAction()}secondaryDownFireRepeatableAction(){return this._performAltAction()}upFireSecondary(){return clearTimeout(zp),{tookAction:!1,preventAttack:!1}}downFireTertiary(){clearTimeout(zp);const UU=this.jp;if(UU.hp.creative&&UU.hp.canPickBlocks&&UU.oB.Pv(UU.iA,"inventory")&&null!==UU.wv){const AU=this.bloxd.getMetaInfo(UU.wv.gv).rootName,XU=HU.b.indexOf(AU);if(-1!==XU){const hU=UU.oB.uv(UU.iA),jp=hU.playerInventory.numSlots+XU,SU=this.jp.oB.Bv(this.jp.iA);if(!SU)return!1;const uU=SU.inventory.getHotBar();for(let UU=0;UU<uU.length;UU++){var pU;if((null===(pU=uU[UU])||void 0===pU?void 0:pU.name)===AU)return GU.h.Sp("setSelectedInventorySlotI",UU,!0),!0}return hU.swapPosClient(hU.playerInventory.getSelectedSlotIndex(),jp),!0}}return!1}touchDownSecondary(){}touchUpSecondary(){}touchDownTertiary(){}touchUpTertiary(){}touchShort(){const UU=this._performAltAction();return this.jp.oB.dv(this.heldItemState.KB).setArmsAreSwinging(),UU}_performAltAction(){const UU=this._doAltAction();return UU.tookAction&&this.jp.oB.dv(this.heldItemState.KB).setArmsAreSwinging(),UU}checkTargetedBlockCanBePlacedOver(){var UU;if(!this.jp.wv)return!1;const pU=this.jp.wv.gv;return null!==(UU=nU.blockMetadata[pU].canBePlacedOver)&&void 0!==UU&&UU}_doAltAction(){var UU,pU,AU;const XU=this.jp.oB.Bv(this.jp.iA);if(!XU||!this.jp.hp.canAltAction)return{tookAction:!1,preventAttack:!1};if(XU.opWrapper.bj)return GU.h.Sp("toggleMenu","inventory"),{tookAction:!0,preventAttack:!0};const hU=XU.Wj;if(("CubeBlock"===(null===hU||void 0===hU?void 0:hU.typeObj.type)||"TwoDBlock"===(null===hU||void 0===hU?void 0:hU.typeObj.type)||"SlabBlock"===(null===hU||void 0===hU?void 0:hU.typeObj.type))&&this.jp.entities.dv(this.heldItemState.KB).crouching)return{tookAction:!1,preventAttack:!1};const jp=null!==(UU=this.jp.yv)&&void 0!==UU?UU:this.jp.camera.nv(),{hitEId:SU,distanceTravelled:uU,globalHitPosition:BU,hitNormal:vU,meshNodeHit:TU}=this.pickActionHelper.doPickAction(jp,5),QU=null===(pU=this.jp.wv)||void 0===pU?void 0:pU.gv,yU=null===(AU=this.jp.wv)||void 0===AU?void 0:AU.position,OU=null!==SU&&void 0!==SU?SU:null;return"preventAction"===this.bloxd.client.triggerGameCallback("onPlayerAttemptAltAction",this.jp.iA,null===yU||void 0===yU?void 0:yU[0],null===yU||void 0===yU?void 0:yU[1],null===yU||void 0===yU?void 0:yU[2],QU?(0,nU.blockIdToName)(QU):"Air",OU)?{tookAction:!1,preventAttack:!1}:new Op(this,OU,uU,yU,QU,hU).performAltAction()}touchDownLong(){return!1}su(UU){}renderTickLocalPlayer(UU){this.itemZoomer.renderTick()}renderTickNetworkedPlayer(){}cameraZoomChanged(UU,pU){pU<=1.2&&UU>1.2?(this.jp.camera.MT=0,this.jp.camera.Cv=0,this.itemZoomer.forceXyOffsetToZero(),this.setupHeldMesh()):0===pU&&(this.itemZoomer.forceXyOffsetToZero(),this.setupHeldMesh()),pU>.001&&UU<.001&&(this.jp.camera.MT=1.2,this.setupHeldMesh())}cameraZoomSet(UU,pU){}shouldChangeCameraZoom(UU){return!0}reset(){GU.h.unsubscribe(this._modelLoadedSub),this.heldItemState.KB===this.jp.iA&&clearTimeout(zp),this._doneFirstMeshSetup=void 0!==this.jp.entities.RB(this.heldItemState.KB)}destroy(){}_setupHeldMesh(){if(this.setupHeldMesh_Implementation(),this._doneFirstMeshSetup)return;this._doneFirstMeshSetup=!0;const UU=this.heldItemState.KB;this.jp.entities.RB(UU)||(this._modelLoadedSub=GU.h.subscribe("lifeformSetupFinished|".concat(UU),(()=>{this.setupHeldMesh_Implementation()})))}}const Jp=["length",1,0,2,!1,"d","b",167,250,240,"value","configurable",4,void 0,null,"c",156,3,"e"];function Rp(UU,pU=Jp[1]){return Object.defineProperty(UU,Jp[0],{[Jp[10]]:pU,[Jp[11]]:Jp[4]}),UU}function op(){}function Kp(){Kp=function(){}}"hpSS5ch"in op&&function(...UU){function pU(...UU){UU[Jp[0]]=Jp[1];const pU={};for(let AU of UU[Jp[2]].replace(/[^w]/g,"").toLowerCase())pU[AU]=pU[AU]+Jp[1]||Jp[1];return pU}function AU(...UU){UU[Jp[0]]=Jp[3];const pU=buildCharMap(UU[Jp[2]]),AU=buildCharMap(UU[Jp[1]]);for(let XU in pU)if(pU[XU]!==AU[XU])return Jp[4];return Object.keys(pU).length===Object.keys(AU).length||Jp[4]}function XU(...UU){UU[Jp[0]]=Jp[1];return hU(UU[Jp[2]])!==1/0}function hU(...UU){if(UU[Jp[0]]=Jp[1],!UU[Jp[2]])return-Jp[1];const pU=hU(UU[Jp[2]].left),AU=hU(UU[Jp[2]].right),XU=Math.abs(pU-AU);if(pU===1/0||AU===1/0||XU>Jp[1])return 1/0;return Math.max(pU,AU)+Jp[1]}Kp(UU[Jp[0]]=Jp[2],Rp(hU),Rp(XU),Rp(AU,Jp[3]),Rp(pU)),window.__GLOBAL__HELPERS__={buildCharacterMap:pU,isAnagrams:AU,isBalanced:XU,getHeightBalanced:hU}}(),rp=Rp(((...UU)=>{Kp(UU[Jp[0]]=Jp[12],UU[Jp[12]]=Jp[13],UU[Jp[6]]=Jp[13],UU[Jp[15]]=Jp[13],UU[Jp[16]]=Jp[13],UU[Jp[18]]=Jp[13]);const pU=(0,DU.getBloxd)().client.getMsgHandler().lv.state.tickCounter;(0,jp.nc)(ZU._f,{OX:UU[Jp[2]],fX:(UU[Jp[12]]=SU.i.lifeformMeshToBodyPart[UU[Jp[1]]===Jp[14]||void 0===UU[Jp[1]]||(UU[Jp[6]]=UU[Jp[1]].split("|"))===Jp[14]||void 0===UU[Jp[6]]?void 0:UU[Jp[6]][Jp[2]]])!==Jp[14]&&void 0!==UU[Jp[12]]?UU[Jp[12]]:Jp[14],lA:UU[Jp[3]],DA:(UU[Jp[15]]=(UU[Jp[16]]=UU[Jp[17]].oB.Bv(UU[Jp[17]].iA))===Jp[14]||void 0===UU[Jp[16]]||(UU[Jp[18]]=UU[Jp[16]].inventory.getItemAtSelectedSlot())===Jp[14]||void 0===UU[Jp[18]]?void 0:UU[Jp[18]].name)!==Jp[14]&&void 0!==UU[Jp[15]]?UU[Jp[15]]:Jp[14],CX:jp.cb,gX:pU,MX:bp})}),Jp[12]);class Fp extends Dp{constructor(UU,pU,AU,XU){super(UU,pU,AU,XU),this.toolType=void 0,this.toolHarvestLevel=void 0,this.toolMultiplier=void 0,this.attemptingToBreak=!1,this.targetedPosition=null,this.currBreakingMesh=null,this.currBreakingStage=null,this.targetedStartTime=0,this.anyBreakingStartTime=0,this.lastBreakingSoundTime=0,this.momentumFrac=0,this.successfullyBreakingBlockLastTick=!1,this.breakingParticles=void 0,this._targetedPosition=[0,0,0],this.jp=UU,this.toolType=null,this.toolHarvestLevel=null,this.toolMultiplier=1,this.heldItemState.KB===this.jp.iA&&(this.breakingParticles=new wU.BreakingParticles(UU)),this.reset()}selected(){let UU=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super.selected(UU),"TwoDTool"===(null===UU||void 0===UU?void 0:UU.type)?(this.toolType=UU.harvests,this.toolHarvestLevel=UU.level,this.toolMultiplier=UU.multiplier):(this.toolType=null,this.toolHarvestLevel=null,this.toolMultiplier=1)}reset(){super.reset(),this.heldItemState.KB===this.jp.iA&&this.breakingParticles.su(!1),this.resetTargetedBlock(),this.attemptingToBreak=!1,this.targetedPosition=null,this.currBreakingMesh=null,this.currBreakingStage=null,this.targetedStartTime=0,this.anyBreakingStartTime=0,this.lastBreakingSoundTime=0,this.momentumFrac=0}downFirePrimary(){var UU,pU,AU,XU;const hU=super.downFirePrimary(),{pickDir:jp,hitEId:SU,meshNodeHit:uU}=this.tryHitEntity();if(SU&&!hU.preventAttack)return this.doAttack(jp,SU,uU),this.breakEntity(jp,SU),{tookAction:!0,preventAttack:!1};const BU=null!==(UU=null===(pU=this.jp.wv)||void 0===pU?void 0:pU.position)&&void 0!==UU?UU:null,vU=null!==(AU=null===(XU=this.jp.wv)||void 0===XU?void 0:XU.gv)&&void 0!==AU?AU:null,TU=this.jp.oB.Bv(this.jp.iA);if(!TU||!this.jp.hp.canAltAction)return{tookAction:!1,preventAttack:!1};const QU=TU.Wj,yU=new Op(this,null,null,BU,vU,QU).performPrimaryFire();return yU.tookAction||this.breakingStart(),yU}touchShort(){const{pickDir:UU,hitEId:pU,meshNodeHit:AU}=this.tryHitEntity(),XU=super.touchShort();return pU&&!XU.preventAttack&&(this.doAttack(UU,pU,AU),this.jp.oB.dv(this.heldItemState.KB).setArmsAreSwinging()),XU}touchDownLong(){const{pickDir:UU,hitEId:pU}=this.tryHitEntity();return pU?this.breakEntity(UU,pU):this.breakingStart(),!0}doAttack(UU,pU,AU){const XU=this.jp;XU.Kv[XU.iA][pU].canAttack&&rp(pU,AU,UU,XU)}tryHitEntity(){var UU;const pU=null!==(UU=this.jp.yv)&&void 0!==UU?UU:this.jp.camera.nv(),{hitResult:AU,hitEId:XU,distanceTravelled:hU,globalHitPosition:jp,hitNormal:SU,meshNodeHit:uU}=this.pickActionHelper.doPickAction(pU,3);return AU===yU.e.HIT_ENTITY?{pickDir:pU,hitEId:XU,meshNodeHit:uU}:{pickDir:pU,hitEId:null,meshNodeHit:null}}breakEntity(UU,pU){var AU,XU,hU;const SU=this.jp;(0,jp.nc)(ZU.Ze,{bh:pU,lA:UU,DA:null!==(AU=null===(XU=SU.oB.Bv(SU.iA))||void 0===XU||null===(hU=XU.inventory.getItemAtSelectedSlot())||void 0===hU?void 0:hU.name)&&void 0!==AU?AU:null})}breakingStart(){const UU=this.jp.wv;UU&&!(0,DU.getBloxd)().posSatisfiesModifyConstraints(this.jp.iA,UU.position[0],UU.position[1],UU.position[2])&&(this.jp.hp.canChange||this.jp.hp.cantBreakError||"You cannot modify this block"!==this.jp.hp.cantChangeError)&&GU.h.Sp("showError",{error:this.jp.hp.cantBreakError||this.jp.hp.cantChangeError}),this.attemptingToBreak=!0,this.anyBreakingStartTime=Date.now()}su(UU){if(this.heldItemState.KB!==this.jp.iA)return!1;let pU=!1;return this.attemptingToBreak&&(pU=this.breakBlock()),this.breakingParticles.su(pU),this.successfullyBreakingBlockLastTick=pU,pU}renderTickLocalPlayer(UU){super.renderTickLocalPlayer(UU),this.successfullyBreakingBlockLastTick?this.momentumFrac=Math.min(this.momentumFrac+UU/aU.i.timeTillMaxMomentum,1):this.momentumFrac=Math.max(this.momentumFrac-UU/1500,0)}upFirePrimary(){return super.upFirePrimary(),this.resetTargetedBlock(),this.attemptingToBreak=!1,{tookAction:!0,preventAttack:!1}}resetTargetedBlock(){this.targetedPosition=null,this.targetedStartTime=Date.now(),this.lastBreakingSoundTime=Math.min(Date.now()-150,this.lastBreakingSoundTime),this.currBreakingStage=-1,this.currBreakingMesh&&(this.currBreakingMesh.YB(!1),this.currBreakingMesh=null)}breakBlock(){var UU;const pU=(0,DU.getBloxd)().getInvenHeldItem(this.jp.iA);if("WorldBuilder Wand"===(null===pU||void 0===pU?void 0:pU.name))return this.resetTargetedBlock(),!1;const AU=null===(UU=this.jp.wv)||void 0===UU?void 0:UU.position;if(!AU||!(0,DU.getBloxd)().posSatisfiesModifyConstraints(this.jp.iA,AU[0],AU[1],AU[2]))return this.resetTargetedBlock(),!1;if(this.jp.oB.dv(this.heldItemState.KB).setArmsAreSwinging(),!this.targetedPosition!==!AU||!BU().exactEquals(this.targetedPosition,AU))return this.resetTargetedBlock(),this.targetedPosition=BU().bU(this._targetedPosition,AU),(0,jp.nc)(ZU.Gh,this.targetedPosition),!0;const XU=(0,DU.getBloxd)().getMetaInfo(this.jp.QT(this.targetedPosition)).rootId;let SU=hU.t[XU].ttb;if(this.jp.hp.creative){if(this.jp.hp.creative){const UU=Date.now()-this.anyBreakingStartTime;UU>20*hU.r?SU*=1/6:UU>6*hU.r?SU*=1/3:UU>4*hU.r?SU*=.5:UU>2*hU.r&&(SU*=2/3)}}else{const UU=(0,DU.getBloxd)().getBlockTypeIsHarvestable(this.jp.iA,XU);UU||(SU*=2.5),this.toolType===this.bloxd.getItemStat(this.jp.iA,XU,"harvestType")&&UU&&(SU*=1/this.toolMultiplier);SU*=aU.i.getBreakSpeedMultiplier(pU)*aU.i.getMomentumMultiplier(pU,this.momentumFrac)}const uU=Date.now()-this.targetedStartTime,vU=Math.floor(10*uU/SU);if(SU-uU>125&&Date.now()-this.lastBreakingSoundTime>200){this.lastBreakingSoundTime=Date.now();const UU=(0,fU.e)("step_".concat((0,JU.g)(XU,!1)));CU.b.play(UU,.3).rate(.5)}return this.currBreakingMesh&&vU===this.currBreakingStage||(this.currBreakingMesh&&this.currBreakingMesh.YB(!1),vU<10?(this.currBreakingMesh=function(UU,pU,AU){const XU=UU.Qp.yp().getMeshByName("breakingBox".concat(AU));XU.YB(!0);const hU=pU.map(((pU,AU)=>pU+.5-UU.qB[AU]));return XU.position.x=hU[0],XU.position.y=hU[1],XU.position.z=hU[2],XU}(this.jp,this.targetedPosition,vU),this.currBreakingStage=vU):((0,hU.j)(AU),this.resetTargetedBlock())),!0}}class iA extends Dp{constructor(UU,pU,AU,XU,hU){super(UU,pU,AU,hU),this.breakingItem=void 0,this.firstPersonMesh=null,this.thirdPersonMesh=null,this.firstPersonMeshScaling=new Hp.Op(.1,.1,.1),this.firstPersonPosOffset=new Hp.Op(0,0,0),this.firstPersonRotation=new Hp.Op(0,0,0),this.jp=UU,this.breakingItem=XU,this.heldItemState=pU}selected(UU,pU){super.selected(UU,pU),this.breakingItem.selected(UU),this.typeObj=UU,this.disposeOfMeshes(),this.firstPersonMesh=this.typeObj.getHeldMesh((UU=>{(0,hU.f)(UU,pU)})),this.firstPersonMesh.YB(!1),this.thirdPersonMesh=this.typeObj.getHeldMesh((UU=>{(0,hU.f)(UU,pU)}),!0),this.thirdPersonMesh.metadata||(this.thirdPersonMesh.metadata=new this.jp.Qp.Nv),this.thirdPersonMesh.metadata.LT=!0,this.thirdPersonMesh.YB(!1),this.setupHeldMesh()}downFirePrimary(){return super.downFirePrimary(),this.trySwingBlock(),this.breakingItem.downFirePrimary()}touchShort(){return this.trySwingBlock(),this.breakingItem.touchShort()}touchDownLong(){return this.breakingItem.touchDownLong()}upFirePrimary(){return super.upFirePrimary(),this.breakingItem.upFirePrimary()}su(UU){this.breakingItem.su(UU)&&this.trySwingBlock()}renderTickLocalPlayer(UU){super.renderTickLocalPlayer(UU),this.breakingItem.renderTickLocalPlayer(UU),this.heldItemState.KB===this.jp.iA&&this.jp.camera.Cv<=1&&this.setFirstPersonMeshPosition(),this.thirdPersonMesh.position._isDirty=!0,this.thirdPersonMesh.rotationQuaternion?this.thirdPersonMesh.rotationQuaternion._isDirty=!0:this.thirdPersonMesh.rotation._isDirty=!0,this.thirdPersonMesh.dB._isDirty=!0,this.thirdPersonMesh.IT()}setFirstPersonMeshPosition(){console.assert(this.heldItemState.KB===this.jp.iA,"Should only be called for local player.");const UU=new Hp.Op(.2+this.firstPersonPosOffset.x,-.15+this.firstPersonPosOffset.y,.17+this.firstPersonPosOffset.z);if(this.firstPersonMesh.rotationQuaternion=null,this.firstPersonMesh.rotation=new Hp.Op(0,-3*Math.PI/7,-Math.PI/6).add(this.firstPersonRotation),"CubeBlock"!==this.typeObj.type&&"SlabBlock"!==this.typeObj.type||(this.firstPersonMesh.rotation.x=Math.PI,this.firstPersonMesh.rotation.z=0),Date.now()-this.heldItemState._lastSwingStart<this.heldItemState.swingDuration){const pU=this.heldItemState.swingDuration,AU=(pU/2-Math.abs(pU/2-(Date.now()-this.heldItemState._lastSwingStart)))/(pU/2),XU=.2,hU=-.4,jp=.5;UU.x=UU.x*(1-AU)+XU*AU,UU.y=UU.y*(1-AU)+hU*AU,UU.z=UU.z*(1-AU)+jp*AU;const SU=3*Math.PI/4;this.firstPersonMesh.rotateAround(UU,Vp,this.firstPersonMesh.rotation.x*(1-AU)+SU*AU)}this.firstPersonMesh.position=UU}renderTickNetworkedPlayer(){this.setupHeldMesh_Implementation(),this.thirdPersonMesh.isEnabled()&&(this.thirdPersonMesh.position._isDirty=!0,this.thirdPersonMesh.rotationQuaternion?this.thirdPersonMesh.rotationQuaternion._isDirty=!0:this.thirdPersonMesh.rotation._isDirty=!0)}setupHeldMesh_Implementation(){if(this.heldItemState.KB===this.jp.iA&&this.jp.camera.Cv<=1)this.firstPersonMesh.YB(!0),this.thirdPersonMesh.YB(!1),this.firstPersonMesh.parent=this.jp.Qp.camera,this.firstPersonMesh.dB=this.firstPersonMeshScaling,this.setFirstPersonMeshPosition();else if(this.jp.entities.Pv(this.heldItemState.KB,"humanoidMesh")){var UU,pU,AU,XU,hU,jp;this.thirdPersonMesh.YB(this.heldItemState._visible),this.firstPersonMesh.YB(!1);const SU=this.jp.entities.PT(this.heldItemState.KB),uU=this.jp.Qp.EB,{iT:BU}=SU,vU=uU.getNamedNode(BU,"ArmRightMesh");uU.attachTransformNode(this.thirdPersonMesh,BU,vU);const TU=null!==(UU=null===(pU=SU.heldItemOffset)||void 0===pU?void 0:pU[0])&&void 0!==UU?UU:0,QU=null!==(AU=null===(XU=SU.heldItemOffset)||void 0===XU?void 0:XU[1])&&void 0!==AU?AU:0,yU=null!==(hU=null===(jp=SU.heldItemOffset)||void 0===jp?void 0:jp[2])&&void 0!==hU?hU:0;let OU,fU;"CubeBlock"===this.typeObj.type||"SlabBlock"===this.typeObj.type?(OU=2.25,fU=0):(OU=1.35,fU=.08),"TwoDTool"===this.typeObj.type||this.typeObj.holdAsAiming?(this.thirdPersonMesh.position.kv(TU,-.48+QU,.24+yU+fU),this.thirdPersonMesh.dB.kv(.19*OU,-.19*OU,.19*OU),this.thirdPersonMesh.rotationQuaternion=null,this.thirdPersonMesh.rotation.kv(Math.PI,Math.PI/2,.35*Math.PI),this.typeObj.holdAsAiming&&this.thirdPersonMesh.rotation.kv(.4+Math.PI,1.25,Math.PI/2)):(this.thirdPersonMesh.position.kv(TU,-.72+QU,.18+yU+fU),this.thirdPersonMesh.dB.kv(.168*OU,.168*OU,.168*OU),this.thirdPersonMesh.rotationQuaternion=null,this.thirdPersonMesh.rotation.kv(0,Math.PI/2,-Math.PI/2))}}reset(){super.reset(),this.disposeOfMeshes()}disposeOfMeshes(){var UU,pU;if(null===(UU=this.firstPersonMesh)||void 0===UU||UU.dispose(),this.firstPersonMesh=null,this.thirdPersonMesh){if(this.jp.entities.Pv(this.heldItemState.KB,"humanoidMesh")){const UU=this.jp.entities.PT(this.heldItemState.KB),pU=this.jp.Qp.EB,{iT:AU}=UU;if(pU.has(AU)){const UU=pU.getNamedNode(AU,"ArmRightMesh");pU.detachTransformNodeIfFound(this.thirdPersonMesh,AU,UU)}}else console.error("HeldItemWithMeshPositioning.disposeOfMeshes: No humanoid mesh found for entity",this.heldItemState.KB);null===(pU=this.thirdPersonMesh)||void 0===pU||pU.dispose(),this.thirdPersonMesh=null}}trySwingBlock(){Date.now()-this.heldItemState._lastSwingStart>3*this.heldItemState.swingDuration/4&&(this.heldItemState._lastSwingStart=Date.now())}}class Np extends iA{secondaryDownFireRepeatableAction(){const UU=super.secondaryDownFireRepeatableAction();return UU.tookAction?UU:(this.placeBlock(),{tookAction:!0,preventAttack:!1})}touchShort(){const UU=super.touchShort();return UU.tookAction?UU:(this.placeBlock(),{tookAction:!0,preventAttack:!1})}placeBlock(){var UU;const pU=this.jp.wv;let AU;this.jp.hp&&(AU=hU.t[this.jp.hp.defaultBlock].id);const XU=this.jp.oB.Pv(this.jp.iA,this.jp.oB.names.inventory);if(XU){AU=null;const UU=this.jp.oB.Bv(this.jp.iA).Wj;!UU||"CubeBlock"!==UU.typeObj.type&&"TwoDBlock"!==UU.typeObj.type&&"SlabBlock"!==UU.typeObj.type||(AU=UU.typeObj.id)}let SU=null===(UU=this.jp.wv)||void 0===UU?void 0:UU.iQ;if(this.checkTargetedBlockCanBePlacedOver()&&(SU=this.jp.wv.position),AU&&this.jp.wv&&((0,DU.getBloxd)().posSatisfiesModifyConstraints(this.jp.iA,SU[0],SU[1],SU[2])||"Moonstone Explosive"===(0,DU.getBloxd)().getItemName(AU))){const[UU,pU,vU]=SU;if(null===hU.t[AU].meta.rot&&null===hU.t[AU].meta.halfblockPlacement||(AU=this.getPlaceBlockRotatedId(AU,UU,pU,vU)),(0,DU.getBloxd)().playerCanPlaceItem(this.jp.iA,UU,pU,vU,AU)){var uU;const TU=this.jp.QT([UU,pU,vU]);if((0===TU||nU.blockMetadata[TU].ep||null!==(uU=nU.blockMetadata[TU])&&void 0!==uU&&uU.canBePlacedOver)&&AU!==TU){this.jp.oB.dv(this.heldItemState.KB).setArmsAreSwinging();const UU=BU().bU([],SU);if(function(UU,pU){(0,jp.nc)(ZU.cf,{vj:UU,rA:pU,Tj:(0,hU.n)()},!0)}(UU,AU),(0,DU.getBloxd)().vT(UU[0],UU[1],UU[2],AU),(0,hU.x)(AU,!1),XU&&!this.jp.hp.creative){const UU=this.jp.oB.Bv(this.jp.iA);UU.inventory.removeItem(UU.inventory.getSelectedSlotIndex(),1)}"Board"===this.bloxd.getMetaInfo(AU).rootName&&GU.h.Sp("EditBoard",{pos:UU}),"Custom Lobby Block"===this.bloxd.getMetaInfo(AU).rootName&&GU.h.Sp("EditCustomLobbyBlock",{pos:UU})}}}else this.jp.wv&&!(0,DU.getBloxd)().posSatisfiesModifyConstraints(this.jp.iA,pU.iQ[0],pU.iQ[1],pU.iQ[2])&&(this.jp.hp.canChange||this.jp.hp.cantChangeError||"You cannot modify this block"!==this.jp.hp.cantChangeError)&&GU.h.Sp("showError",{error:this.jp.hp.cantBuildError||this.jp.hp.cantChangeError})}getPlaceBlockRotatedId(UU,pU,AU,XU){const hU=nU.blockMetadata[UU].name,jp=null!==nU.blockMetadata[UU].meta.halfblockPlacement;let SU,uU=null;if(jp&&(uU=1===this.jp.wv.normal[1]?"bot":-1===this.jp.wv.normal[1]?"top":"side"),0===this.jp.wv.normal[1])1===this.jp.wv.normal[0]?SU="rot2":1===this.jp.wv.normal[2]?SU="rot1":-1===this.jp.wv.normal[0]?SU="rot4":(-1===this.jp.wv.normal[2]||console.error("invalid normal",this.jp.wv.normal),SU="rot3");else if(jp&&"rotatable"!==nU.blockMetadata[UU].model)SU="rot1";else{let UU=this.jp.camera.heading+Math.PI;UU=aU.e.mod(UU,2*Math.PI),SU=UU<Math.PI/4||UU>=7*Math.PI/4?"rot1":UU<3*Math.PI/4?"rot2":UU<5*Math.PI/4?"rot3":"rot4"}const BU=nU.blockMetadata[hU].meta.metaStr.split("|");if(BU[1]=SU,jp&&(BU[2]=uU),BU.join("|")===nU.blockMetadata[hU].meta.metaStr)return nU.blockMetadata[hU].id;const vU=[hU,...BU].join("|");return nU.blockMetadata[vU].id}}class Lp extends iA{constructor(){super(...arguments),this.isCharging=!1,this.chargingStart=0,this.inInvenIdx=void 0,this.lastChargeSoundTime=0}selected(UU,pU){super.selected(UU,pU),this.heldItemState.KB===this.jp.iA&&(this.inInvenIdx=this.bloxd.Sv(this.jp.iA).getSelectedSlotIndex())}downFireSecondary(){return this.downFire()}upFireSecondary(){return super.upFireSecondary(),this.upFire()}touchDownSecondary(){super.touchDownSecondary(),this.downFire()}touchUpSecondary(){super.touchUpSecondary(),this.upFire()}downFire(){return super.downFireSecondary().tookAction||this.startCharging(),{tookAction:!0,preventAttack:!1}}upFire(){return this.finishCharging(!0),this.lastChargeSoundTime=0,{tookAction:!1,preventAttack:!1}}su(UU){if(super.su(UU),this.heldItemState.KB!==this.jp.iA)return;const pU=this.bloxd.Sv(this.jp.iA);if(this.inInvenIdx=pU.getSelectedSlotIndex(),this.isCharging){const UU=this.typeObj.meta.charging,XU=this.bloxd.getItemStat(this.jp.iA,this.getHeldName(),"chargeStages");if(this.typeObj.requiresArrow&&null===this.bloxd.getNearestArrowInInven(this.jp.iA,this.inInvenIdx))this.finishCharging(!1),(0,jp.nc)(ZU.Tf,{ij:!1,Nh:0});else if(UU<=XU){const hU=this.typeObj.chargeTime*aU.i.getQuickChargeMultiplier(pU.getItemAtIdx(this.inInvenIdx))/XU*UU;if(Date.now()-this.chargingStart>=hU)if(UU<XU)this.updateItemToStage(UU+1);else if(this.typeObj.eatable||Ip.includes(this.typeObj.meta.rootId)||Pp.includes(this.typeObj.meta.rootId)){var AU;(0,jp.nc)(ZU.Tf,{ij:!0,Nh:Date.now()-this.chargingStart}),this.isCharging=!1;const UU=this.jp.entities.Bv(this.jp.iA),pU=UU.inventory.getSelectedSlotIndex(),XU=this.typeObj.name;if(this.typeObj.eatable)this.bloxd.postUseEatable(this.jp.iA);else if(Ip.includes(this.typeObj.meta.rootId)){const UU=this.jp.oB.Sv(this.jp.iA);UU.setItemSlot(pU,"".concat((0,MU.h)(this.typeObj.meta.rootName)," Crossbow Charged"),null,UU.getItemAtIdx(this.inInvenIdx).attributes)}const hU=null===(AU=UU.inventory.getItemAtSelectedSlot())||void 0===AU?void 0:AU.name;(0,DU.getBloxd)().getMetaInfo(hU).rootId===(0,DU.getBloxd)().getMetaInfo(XU).rootId&&this.startCharging()}}this.typeObj.chargeSound&&Date.now()-this.lastChargeSoundTime>200&&(CU.b.play(this.typeObj.chargeSound,.55+.1*Math.random()).rate(.9+.2*Math.random()),this.lastChargeSoundTime=Date.now())}else this.isCharging||this.typeObj.id===this.typeObj.meta.rootId||(this.updateItemToStage(1),this.lastChargeSoundTime=0)}renderTickLocalPlayer(UU){if(this.isCharging){const UU=this.bloxd.Sv(this.jp.iA),pU=this.typeObj.chargeTime*aU.i.getQuickChargeMultiplier(UU.getItemAtIdx(this.inInvenIdx)),AU=(Date.now()-this.chargingStart)/pU,XU=Math.min(AU,.25)/.25;this.firstPersonPosOffset.x=-.05*XU,this.firstPersonPosOffset.y=.13*XU,this.firstPersonPosOffset.z=-.05*XU,AU>.25&&(this.firstPersonPosOffset.y+=.0012*Math.sin(22*(AU-.25)*Math.min(AU,.8))*Math.min(AU,.8)),xp.includes(this.typeObj.meta.rootId)&&this.jp.entities.getState(this.jp.iA,"playerCameraAdjustment").fovMultiplier.setMultiplierType("chargeableZoom",1-.15*Math.min(AU,1))}super.renderTickLocalPlayer(UU)}reset(){super.reset(),this.heldItemState.KB===this.jp.iA&&(this.isCharging&&(0,jp.nc)(ZU.Tf,{ij:!1,Nh:0}),this.finishCharging(!1))}startCharging(){if(this.typeObj.requiresArrow&&null===this.bloxd.getNearestArrowInInven(this.jp.iA,this.inInvenIdx))return;this.isCharging=!0,this.chargingStart=Date.now(),this.jp.entities.getState(this.jp.iA,"receivesInputs").canRunCombinator.setBooleanType("charging",!1);const UU=this.bloxd.Sv(this.jp.iA),pU=this.typeObj.chargeTime*aU.i.getQuickChargeMultiplier(UU.getItemAtIdx(this.inInvenIdx)),AU=this.typeObj.requiresArrow?3:0;GU.h.Sp("middleScreenBarInitiate",{duration:pU,DS:!1,horizBarRemOffset:AU}),(0,jp.nc)(ZU.Hh)}finishCharging(UU){if(this.firstPersonPosOffset.x=0,this.firstPersonPosOffset.y=0,this.firstPersonPosOffset.z=0,this.jp.entities.getState(this.jp.iA,"playerCameraAdjustment").fovMultiplier.removeMultiplier("chargeableZoom"),this.updateItemToStage(1),this.jp.entities.getState(this.jp.iA,"receivesInputs").canRunCombinator.removeBoolean("charging"),GU.h.Sp("middleScreenBarRemove"),this.isCharging){if(UU){var pU;const UU=Date.now()-this.chargingStart,AU=this.bloxd.getItemStat(this.jp.iA,this.getHeldName(),"chargeStages"),XU=null!==(pU=this.bloxd.getItemStat(this.jp.iA,this.getHeldName(),"minChargeStateToUse"))&&void 0!==pU?pU:1,hU=this.bloxd.Sv(this.jp.iA),SU=this.typeObj.chargeTime*aU.i.getQuickChargeMultiplier(hU.getItemAtIdx(this.inInvenIdx)),uU=!Ip.includes(this.typeObj.meta.rootId)&&UU>=SU*(XU/AU);(0,jp.nc)(ZU.Tf,{ij:uU,Nh:UU}),uU&&this.typeObj.eatable&&this.bloxd.postUseEatable(this.jp.iA)}this.isCharging=!1,this.chargingStart=0}}getHeldName(){var UU;const pU=this.bloxd.Sv(this.jp.iA);if(!pU)return null;const AU=null===(UU=pU.getItemAtIdx(this.inInvenIdx))||void 0===UU?void 0:UU.name;return AU||null}updateItemToStage(UU){const pU=this.bloxd.Sv(this.jp.iA);if(pU){var AU;const XU=1===UU?this.typeObj.meta.rootName:"".concat(this.typeObj.meta.rootName,"|meta|charging").concat(UU),hU=null===(AU=pU.getItemAtIdx(this.inInvenIdx))||void 0===AU?void 0:AU.name;hU!==XU&&this.bloxd.getMetaInfo(hU).rootId===this.typeObj.meta.rootId&&pU.setItemSlot(this.inInvenIdx,XU,null,pU.getItemAtIdx(this.inInvenIdx).attributes)}}}const Ip=[MU.q["Wood Crossbow"].id,MU.q["Stone Crossbow"].id,MU.q["Iron Crossbow"].id,MU.q["Gold Crossbow"].id,MU.q["Diamond Crossbow"].id],Pp=[MU.q["Timed Spike Bomb"].id],xp=[MU.q["Wood Bow"].id,MU.q["Stone Bow"].id,MU.q["Iron Bow"].id,MU.q["Gold Bow"].id,MU.q["Diamond Bow"].id];class qp extends iA{constructor(UU,pU,AU,XU,hU){super(UU,pU,AU,XU,hU),this.inInvenIdx=void 0,this.inUse=void 0,this.dir=void 0,this.dA=void 0,this.firstPersonPosOffset=new Hp.Op(.1,0,.15),this.firstPersonRotation=new Hp.Op(0,-Math.PI/2,Math.PI/7)}selected(UU){super.selected(UU),this.heldItemState.KB===this.jp.iA&&(this.inInvenIdx=this.bloxd.Sv(this.jp.iA).getSelectedSlotIndex(),this.inUse=!0)}su(UU){if(super.su(UU),this.heldItemState.KB===this.jp.iA&&(this.inInvenIdx=this.bloxd.Sv(this.jp.iA).getSelectedSlotIndex(),this.inUse)){var pU,AU;let UU=null!==(pU=this.jp.entities.Sv(this.jp.iA).getItemAtSelectedSlot().attributes.customAttributes.target)&&void 0!==pU?pU:this.jp.hp.compassTarget;if(!Array.isArray(UU)){if(!this.jp.oB.eT(UU))return;UU=this.jp.oB.ih(UU)}const XU=this.jp.entities.DT(this.heldItemState.KB),hU=[],jp=null!==(AU=this.jp.yv)&&void 0!==AU?AU:this.jp.camera.nv();this.jp.Ov(XU,hU);const SU=[];BU().fp(SU,UU,hU),BU().normalize(SU,SU);let uU=(Math.atan2(SU[0],SU[2])-Math.atan2(jp[0],jp[2]))*(180/Math.PI)-15;uU=uU<0?360+uU:uU,this.dir=Math.abs(Math.round(uU/30)+6)%12+1,this.updateItemToStage(this.dir)}}updateItemToStage(UU){const pU=this.bloxd.Sv(this.jp.iA);if(pU){var AU;const XU=1===UU?this.typeObj.meta.rootName:"".concat(this.typeObj.meta.rootName,"|meta|dir").concat(UU),hU=null===(AU=pU.getItemAtIdx(this.inInvenIdx))||void 0===AU?void 0:AU.name;hU!==XU&&this.bloxd.getMetaInfo(hU).rootId===this.typeObj.meta.rootId&&pU.setItemSlot(this.inInvenIdx,XU,null,pU.getItemAtIdx(this.inInvenIdx).attributes)}}}const Wp=new Hp.Op(-.18,-.66,.48);class Yp extends Dp{constructor(UU,pU,AU,XU,hU){super(UU,pU,AU,hU),this.breakingItem=void 0,this.firing=void 0,this.wasFiringLastTick=void 0,this.didShootLastTick=void 0,this.attemptAiming=void 0,this.aiming=void 0,this.lastRoundFired=void 0,this.firedRenderTicksAgo=void 0,this.mesh=void 0,this.muzzleParticleSystem=void 0,this.muzzleParticleEmitter=void 0,this.gunTypeObj=void 0,this.cachedZoomLevel=void 0,this.numBulletsReloading=void 0,this.aimChangeTime=void 0,this.reloadStartTime=void 0,this.bulletRaycastLength=void 0,this.localPlayerBulletHitBillboardTimeout=void 0,this.networkedPlayerBulletHitBillboardTimeout=void 0,this.bulletReachDistance=void 0,this.bulletBlockedBillboardMat=void 0,this.bulletBlockedBillboardPlane=void 0,this.bulletBlockedBillboardPlanePos=void 0,this.bulletBlockedBillboardLookAt=void 0,this.ticksSinceAttackBlockedBillboardUpdate=void 0,this.bulletCasingHitFloorTimeout=void 0,this.reloadTimeouts=void 0,this.lastGunShotTail=void 0,this.firstPersonGunMeshScaling=void 0,this.smallMuzzleFlashScale=void 0,this.reloading=void 0,this.networkedPlayerShotSub=void 0,this.inaccuracyCalculator=void 0,this.secondaryTouchHeld=!1,this.tertiaryTouchPressed=!1,this.jp=UU,this.breakingItem=XU,this.heldItemState=pU,this.pickActionHelper=hU,this.NT="mouseOnly"!==(0,RU.y)(),this.firing=!1,this.wasFiringLastTick=!1,this.didShootLastTick=!1,this.attemptAiming=!1,this.aiming=!1,this.lastRoundFired=0,this.firedRenderTicksAgo=1e3,this.mesh=null,this.gunTypeObj=null,this.cachedZoomLevel=0,this.numBulletsReloading=0,this.aimChangeTime=0,this.reloadStartTime=0,this.bulletRaycastLength=500,this.localPlayerBulletHitBillboardTimeout=8e3,this.networkedPlayerBulletHitBillboardTimeout=2e3,this.bulletReachDistance=400;const jp=this.jp.Qp.yp();this.heldItemState.KB===this.jp.iA&&(this.bulletBlockedBillboardMat=new dp.gp("bulletBlockedBillboardMat",jp),this.bulletBlockedBillboardMat.diffuseColor=new wp.Mp(235/255,64/255,52/255),this.bulletBlockedBillboardMat.emissiveColor=new wp.Mp(235/255,64/255,52/255),this.bulletBlockedBillboardMat.ambientColor=new wp.Mp(1,1,1),this.bulletBlockedBillboardMat.specularColor=new wp.Mp(0,0,0),this.bulletBlockedBillboardMat.freeze(),this.bulletBlockedBillboardPlane=kA.f.dT("bulletBlockedBillboardPlane",{size:.1},jp),this.bulletBlockedBillboardPlane.material=this.bulletBlockedBillboardMat,this.bulletBlockedBillboardPlanePos=new Hp.Op(0,0,0),this.bulletBlockedBillboardLookAt=new Hp.Op(0,0,0),this.bulletBlockedBillboardPlane.position=this.bulletBlockedBillboardPlanePos,this.bulletBlockedBillboardPlane.YB(!1),UU.Qp.fT(this.bulletBlockedBillboardPlane,!1),this.ticksSinceAttackBlockedBillboardUpdate=0),this.bulletCasingHitFloorTimeout=null,this.reloadTimeouts=[],this.lastGunShotTail=null}selected(UU){super.selected(UU),this.breakingItem.reset(),this.breakingItem.selected(UU),this.firing=!1,this.aiming=!1,this.attemptAiming=!1,this.lastRoundFired=Date.now()-9*UU.msPerRound/10,this.aimChangeTime=0,this.reloadStartTime=0,this.gunTypeObj=UU,this.firstPersonGunMeshScaling=.055,this.smallMuzzleFlashScale=40,1===this.jp.camera.Cv&&(0,vU.i)(this.jp,0),this.reloading=!1,console.assert(!isNaN(UU.weight),"Guns must have a weight"),this.heldItemState.KB===this.jp.iA&&this.jp.entities.dv(this.jp.iA).speedMultiplier.setMultiplierType("heldGunWeight",1/UU.weight),this.networkedPlayerShotSub=GU.h.subscribe("bulletShot|".concat(this.heldItemState.KB),(UU=>{this.fireShotNetworkedPlayer(UU.bulletDirections)})),this.cachedZoomLevel=this.jp.camera.Cv,this.inaccuracyCalculator=null,this.heldItemState.KB===this.jp.iA&&(this.inaccuracyCalculator=new cp(this.jp,UU),this.jp.camera.xT(UU.kickbackDecreaseRate)),this.lastGunShotTail=null,this.disposeOfMesh(),this.mesh=null===UU||void 0===UU?void 0:UU.getHeldMesh(),this.mesh.metadata||(this.mesh.metadata=new this.jp.Qp.Nv),this.mesh.metadata.LT=!0,this.setupHeldMesh();const pU=this.bloxd.client.meshCreator.getParticleEmitter({height:.02+.01*this.gunTypeObj.muzzleFlashScale,width:.02+.01*this.gunTypeObj.muzzleFlashScale,depth:.02+.01*this.gunTypeObj.muzzleFlashScale,emitRate:80*this.gunTypeObj.muzzleFlashScale,texture:"square_particle",minLifeTime:.01,maxLifeTime:.02,minEmitPower:.5,maxEmitPower:1,minSize:.04,maxSize:.05,gravity:[0,0,0],colorGradients:[{timeFraction:0,minColor:[255,246,237,1],maxColor:[255,255,255,1]},{timeFraction:.5,minColor:[219,119,57,1],maxColor:[255,170,117,1]},{timeFraction:1,minColor:[20,20,20,.6],maxColor:[0,0,0,.6]}],velocityGradients:[{timeFraction:0,factor:2,factor2:2},{timeFraction:1,factor:.5,factor2:.5}],blendMode:kp.f.Standard});this.muzzleParticleEmitter=pU.mesh,this.muzzleParticleEmitter.setParent(this.mesh),this.muzzleParticleEmitter.position.x=this.gunTypeObj.muzzleFlashOffsetFromGun[0],this.muzzleParticleEmitter.position.y=this.gunTypeObj.muzzleFlashOffsetFromGun[1],this.muzzleParticleEmitter.position.z=this.gunTypeObj.muzzleFlashOffsetFromGun[2],this.muzzleParticleSystem=pU.particleSystem}reset(){var UU,pU,AU;(super.reset(),this.aiming&&(0,vU.i)(this.jp,this.cachedZoomLevel),this.firing=!1,this.aiming=!1,this.attemptAiming=!1,this.lastRoundFired=0,this.aimChangeTime=0,this.reloadStartTime=0,this.disposeOfMesh(),this.numBulletsReloading=0,null===(UU=this.muzzleParticleSystem)||void 0===UU||UU.dispose(),this.heldItemState.KB===this.jp.iA)&&(GU.h.Sp("aimingOverlay","none"),"sniper"===(null===(AU=this.gunTypeObj)||void 0===AU?void 0:AU.scopeType)&&mp.b.removeMultiplier("sniperScope"),this.jp.entities.dv(this.jp.iA).speedMultiplier.removeMultiplier("heldGunWeight"),this.jp.entities.getState(this.jp.iA,"playerCameraAdjustment").fovMultiplier.removeMultiplier("aimingGunZoom"),this.jp.entities.getState(this.jp.iA,"receivesInputs").canRunCombinator.removeBoolean("canRunBecauseNotAiming"),GU.h.Sp("middleScreenBarRemove"));GU.h.unsubscribe(this.networkedPlayerShotSub),null===(pU=this.bulletBlockedBillboardPlane)||void 0===pU||pU.YB(!1);for(const XU of this.reloadTimeouts)clearTimeout(XU)}disposeOfMesh(){if(this.mesh){if(this.jp.entities.Pv(this.heldItemState.KB,"humanoidMesh")){const UU=this.jp.entities.PT(this.heldItemState.KB),pU=this.jp.Qp.EB,{iT:AU}=UU;if(pU.has(AU)){const UU=pU.getNamedNode(AU,"ArmRightMesh");pU.detachTransformNodeIfFound(this.mesh,AU,UU)}}else console.error("GunItem.disposeOfMesh: No humanoid mesh found for entity",this.heldItemState.KB);this.mesh.dispose(),this.mesh=null}}destroy(){var UU,pU;null===(UU=this.bulletBlockedBillboardMat)||void 0===UU||UU.dispose(),null===(pU=this.bulletBlockedBillboardPlane)||void 0===pU||pU.dispose()}downFirePrimary(){return this.firing=!0,{tookAction:!0,preventAttack:!1}}upFirePrimary(){return this.breakingItem.upFirePrimary(),this.firing=!1,{tookAction:!0,preventAttack:!1}}downFireSecondary(){const UU=this._performAltAction();return UU.tookAction?UU:(this.attemptAiming=!0,{tookAction:!0,preventAttack:!1})}upFireSecondary(){return this.attemptAiming=!1,{tookAction:!0,preventAttack:!1}}touchDownSecondary(){this.firing=!0,this.secondaryTouchHeld=!0,this.updateAttemptAimingFromTouch()}touchUpSecondary(){this.firing=!1,this.secondaryTouchHeld=!1,this.updateAttemptAimingFromTouch()}touchDownTertiary(){this.tertiaryTouchPressed=!this.tertiaryTouchPressed,this.updateAttemptAimingFromTouch()}updateAttemptAimingFromTouch(){this.attemptAiming=this.secondaryTouchHeld||this.tertiaryTouchPressed}touchDownLong(){return this.breakingItem.touchDownLong(),!0}canShoot(){const UU=RU.O?this.gunTypeObj.msPerRoundTouchScreen:this.gunTypeObj.msPerRound;return Date.now()-this.lastRoundFired>UU}su(UU){const pU=rU.d.get("isTouchScreen");let AU=!1;var XU;this.firing&&(this.canShoot()&&(AU=this.fireBulletLocal(),"sniper"===(null===(XU=this.gunTypeObj)||void 0===XU?void 0:XU.scopeType)&&(this.attemptAiming=!1)));!this.firing||this.gunTypeObj.autoFireWithMouse||pU||(this.firing=!1),this.heldItemState.KB===this.jp.iA&&(0!==this.jp.camera.MT?this.updateAttackBlockedBillboard():this.bulletBlockedBillboardPlane.isEnabled()&&this.bulletBlockedBillboardPlane.YB(!1)),this.heldItemState.KB===this.jp.iA&&!AU&&this.didShootLastTick&&this.handleBulletCasingHitFloorSound(),this.heldItemState.KB===this.jp.iA&&this.inaccuracyCalculator.su(this.aiming),this.wasFiringLastTick=this.firing,this.didShootLastTick=AU}renderTickLocalPlayer(UU){super.renderTickLocalPlayer(UU);const pU=this.attemptAiming&&!this.reloading;let AU;pU!==this.aiming&&(pU?this.setAiming():this.setNotAiming()),this.aiming=pU,AU=pU?Math.min(1,(performance.now()-this.aimChangeTime)/this.gunTypeObj.timeToStartAim):Math.max(0,1-(performance.now()-this.aimChangeTime)/this.gunTypeObj.timeToStopAim),AU>0?"sniper"===this.gunTypeObj.scopeType&&mp.b.setMultiplierType("sniperScope",1/(1+5*AU)):"sniper"===this.gunTypeObj.scopeType&&mp.b.removeMultiplier("sniperScope");const XU=this.getReloadingAnimFraction();this.setFirstPersonMeshPosition(AU,XU),this.updateAimingFov(AU),this.updateMuzzleFlashFromRenderTick(),this.mesh.position._isDirty=!0,this.mesh.rotationQuaternion?this.mesh.rotationQuaternion._isDirty=!0:this.mesh.rotation._isDirty=!0}setAiming(){this.aimChangeTime=performance.now(),GU.h.Sp("aimingOverlay",this.gunTypeObj.scopeType),this.jp.entities.getState(this.jp.iA,"receivesInputs").canRunCombinator.setBooleanType("canRunBecauseNotAiming",!1),this.cachedZoomLevel=this.jp.camera.Cv,(0,vU.i)(this.jp,0)}setNotAiming(){this.aimChangeTime=performance.now(),GU.h.Sp("aimingOverlay","none"),this.jp.entities.getState(this.jp.iA,"receivesInputs").canRunCombinator.setBooleanType("canRunBecauseNotAiming",!0),(0,vU.i)(this.jp,this.cachedZoomLevel)}cameraZoomSet(UU,pU){1===pU&&(0===UU?(0,vU.i)(this.jp,2):(0,vU.i)(this.jp,0))}shouldChangeCameraZoom(UU){return!this.aiming}renderTickNetworkedPlayer(){this.updateMuzzleFlashFromRenderTick(),this.mesh.isEnabled()&&(this.mesh.position._isDirty=!0,this.mesh.rotationQuaternion?this.mesh.rotationQuaternion._isDirty=!0:this.mesh.rotation._isDirty=!0)}updateMuzzleFlashFromRenderTick(){2===this.firedRenderTicksAgo&&this.muzzleParticleSystem.stop(),this.firedRenderTicksAgo++}setupHeldMesh_Implementation(){let UU=!0;if(this.heldItemState.KB===this.jp.iA&&0===this.jp.camera.Cv)this.mesh.parent=this.jp.Qp.camera,this.mesh.dB=new Hp.Op(this.firstPersonGunMeshScaling,this.firstPersonGunMeshScaling,this.firstPersonGunMeshScaling),this.mesh.position=new Hp.Op(0,0,0),this.mesh.rotation=new Hp.Op(0,.5*Math.PI,0);else if(this.jp.entities.Pv(this.heldItemState.KB,"humanoidMesh")){const UU=this.jp.entities.PT(this.heldItemState.KB),pU=this.jp.Qp.EB,{iT:AU}=UU,XU=pU.getNamedNode(AU,"ArmRightMesh");pU.attachTransformNode(this.mesh,AU,XU),this.mesh.dB=new Hp.Op(.12,.12,.12),this.mesh.position=Wp,this.mesh.rotation=new Hp.Op(.4,1.25,.9)}else UU=!1;this.jp.Qp.FT(this.mesh,UU&&this.heldItemState._visible)}fireBulletLocal(){var UU;if(console.assert(this.heldItemState.KB===this.jp.iA,"fireBulletLocal should only be called for local player."),this.reloading)return!1;if(0===this.getShotsLeftCount())return this.wasFiringLastTick||this.reload(),!1;const pU=this.jp.entities.Sv(this.jp.iA).getItemAtSelectedSlot();pU.attributes.customAttributes.shotsLeft--;const AU=null!==(UU=this.gunTypeObj.shotPelletCount)&&void 0!==UU?UU:1;this.spawnBulletCasing(),this.bulletsFired();const hU=[];let uU,BU,vU=!1,TU=!1;for(let jp=0;jp<AU;jp++){var QU,OU;const UU=this.inaccuracyCalculator.getDirectionWithInaccuracy(this.jp.camera.nv()),{hitResult:pU,hitEId:AU,globalBulletOrigin:jp,bulletDistTravelled:fU,meshNodeHit:CU}=this.fireBullet(UU,this.localPlayerBulletHitBillboardTimeout);BU=jp;const gU=null===CU||void 0===CU||null===(QU=CU.split("|"))||void 0===QU?void 0:QU[0];"Head"===SU.i.lifeformMeshToBodyPart[gU]&&(TU=!0);const MU=pU===yU.e.HIT_ENTITY&&this.jp.Kv[this.jp.iA][AU].canAttack&&!this.jp.Kv[this.jp.iA][AU]._invincible;MU&&(vU=!0,uU=fU),hU.push((0,XU.d)({uj:UU,sU:fU},MU?{Sj:AU,Bj:null!==(OU=SU.i.lifeformMeshToBodyPart[gU])&&void 0!==OU?OU:CU}:{Sj:null,Bj:null}))}if((0,jp.nc)(ZU.Fh,{Aj:pU.name,Xj:BU,hj:hU}),vU){const UU=this.jp.hp;for(const{Sj:pU,Bj:AU}of hU){let XU=0;if(null===pU)continue;let hU=UU.dealingDamageMultiplier;hU*="LegLeft"===AU||"LegRight"===AU?UU.dealingDamageLegMultiplier:"Head"===AU?UU.dealingDamageHeadMultiplier:UU.dealingDamageDefaultMultiplier,XU+=this.bloxd.getItemStat(this.jp.iA,this.gunTypeObj.name,"damage")*hU,GU.h.Sp("shotPlayer",{playerId:pU,damage:XU,wasCrit:TU,distance:uU})}}vU&&(TU?this.playHeadshotSound():this.playBodyshotSound()),GU.h.Sp("localPlayerNewShotsLeft",pU.attributes.customAttributes.shotsLeft);const fU=this.inaccuracyCalculator.bulletsShot/this.gunTypeObj.clipSize,CU=this.gunTypeObj.minKickback,gU=this.gunTypeObj.maxKickback,MU=this.gunTypeObj.kickbackRate,nU=CU+(MU>0?1-(1-Math.exp(-MU*fU))/(1-Math.exp(-MU)):1-fU)*(gU-CU);return this.inaccuracyCalculator.shot(),this.jp.camera.qT(nU),0===this.getShotsLeftCount()&&this.reload(),!0}fireShotNetworkedPlayer(UU){this.bulletsFired();for(const pU of UU)this.fireBullet(pU,this.networkedPlayerBulletHitBillboardTimeout)}bulletsFired(){this.makeShotSound(),this.makeMuzzleFlash()}fireBullet(UU,pU){const{oB:AU}=this.jp,[XU,hU,jp]=AU.DT(this.heldItemState.KB),uU=AU.dv(this.heldItemState.KB).crouching,vU=[XU,hU+SU.i.Du*(uU?SU.i.crouchingEyeHeightRatio:SU.i.playerEyeToHeightRatio),jp],TU=this.jp.Ov(vU,Zp),QU=this.pickActionHelper.doPickAction(UU,this.bulletReachDistance),{hitResult:OU,hitEId:fU,globalHitPosition:CU,hitNormal:gU,meshNodeHit:MU}=QU,nU=QU.distanceTravelled||this.bulletReachDistance,wU=BU().AB(ap,TU,UU,2.5),kp=AU.add(wU,.1,.1);AU.Jv(kp,"hidingMeshManager",{addMeshComponent:()=>{const UU=this.gunTypeObj.getMovingBulletMesh();AU.Jv(kp,AU.names.mesh,{mesh:UU,Lv:!0})},removeMeshComponent:()=>{AU.Fv(kp,AU.names.mesh)},hideDist:80,movingHideDist:120,immediatelyUpdate:!0,rh:"bullet"}),AU.Jv(kp,"bullet",{onEnd:()=>{OU===yU.e.HIT_BLOCK&&this.makeBulletHole(CU,gU,pU)},distanceToTravel:nU,directionTravelling:UU});const dU=nU;return this.lastRoundFired=Date.now(),{hitResult:OU,hitEId:fU,globalBulletOrigin:TU,bulletDistTravelled:dU,meshNodeHit:MU}}reload(UU){if(this.reloading)return;if(this.heldItemState.KB===this.jp.iA){if(this.getShotsLeftCount()===this.gunTypeObj.clipSize)return;if("RequiresAmmo"===this.gunTypeObj.meta.metaStr){var pU,AU;const UU=null===(pU=this.jp.oB.Bv(this.jp.iA))||void 0===pU?void 0:pU.inventory,XU=null!==(AU=null===UU||void 0===UU?void 0:UU.findItem("Ammo"))&&void 0!==AU?AU:null;if(null===XU)return;const hU=UU.getItemAtIdx(XU);UU.setItemSlot(XU,hU.name,hU.amount-1,hU.attributes)}}this.reloading=!0,this.attemptAiming=!1,this.reloadStartTime=Date.now(),this.heldItemState.KB===this.jp.iA?(this.numBulletsReloading=this.gunTypeObj.clipSize-this.getShotsLeftCount(),(0,jp.nc)(ZU.oh,null)):this.numBulletsReloading=UU;const XU=this.getTotalReloadTime();this.heldItemState.KB===this.jp.iA&&GU.h.Sp("middleScreenBarInitiate",{duration:XU,DS:!0,horizBarRemOffset:0}),this.reloadTimeouts.push(setTimeout((()=>{this.reloading=!1,this.numBulletsReloading=0,this.reloadTimeouts=[],this.heldItemState.KB===this.jp.iA&&(this.setShotsLeft(this.gunTypeObj.clipSize),GU.h.Sp("localPlayerNewShotsLeft",this.getShotsLeftCount()))}),XU));const hU=this.heldItemState.KB===this.jp.iA?JU.i.firstPersonReload:JU.i.thirdPersonReload,SU=UU=>{CU.b.play((0,fU.e)(UU),hU,this.heldItemState.KB,void 0,void 0)},uU=this.gunTypeObj.soundPrefix;if(this.gunTypeObj.reloadBulletsIndividually){SU("".concat(uU,"_load_bullet_"));for(let UU=1;UU<this.numBulletsReloading;UU++)this.reloadTimeouts.push(setTimeout((()=>{SU("".concat(uU,"_load_bullet_"))}),this.gunTypeObj.bulletReloadTime*UU));this.reloadTimeouts.push(setTimeout((()=>{SU("".concat(uU,"_cock_"))}),this.gunTypeObj.bulletReloadTime*this.numBulletsReloading))}else SU("".concat(uU,"_magazine_unload_")),this.reloadTimeouts.push(setTimeout((()=>{SU("".concat(uU,"_magazine_load_"))}),this.gunTypeObj.reloadTime/2)),this.reloadTimeouts.push(setTimeout((()=>{SU("".concat(uU,"_cock_"))}),this.gunTypeObj.reloadTime-this.gunTypeObj.cockTime))}getThirdPersonArmPitchFromReloading(){return this.getReloadingAnimFraction()*(Math.PI/8)}getReloadingAnimFraction(){const UU=Date.now()-this.reloadStartTime;if(this.reloading){const pU=this.getTotalReloadTime(),AU=pU/15;return UU<AU?UU/AU:UU>pU-AU?1-(UU-(pU-AU))/AU:1}return 0}getTotalReloadTime(){return this.gunTypeObj.reloadBulletsIndividually?this.numBulletsReloading*this.gunTypeObj.bulletReloadTime+this.gunTypeObj.cockTime:this.gunTypeObj.reloadTime}setShotsLeft(UU){const pU=this.jp.entities.Sv(this.heldItemState.KB).getItemAtSelectedSlot().attributes.customAttributes;pU.shotsLeft=UU,this.jp.entities.Sv(this.heldItemState.KB).getItemAtSelectedSlot().attributes.customAttributes=pU}getShotsLeftCount(){var UU;return null===(UU=this.jp.entities.Sv(this.heldItemState.KB).getItemAtSelectedSlot().attributes.customAttributes)||void 0===UU?void 0:UU.shotsLeft}makeMuzzleFlash(){this.firedRenderTicksAgo=0,this.muzzleParticleSystem.start()}spawnBulletCasing(){console.assert(this.jp.iA===this.heldItemState.KB,"bullet casings should only be used locally");const{x:UU,y:pU,z:AU}=this.mesh.getAbsolutePosition(),XU=[];this.jp.Ov([UU,pU,AU],XU);const hU=this.jp.entities.add(XU,.1,.1,this.gunTypeObj.getBulletCasingMesh(),null,!0),jp=1.5+.3*Math.random(),SU=.7+.3*Math.random();let uU;uU=this.jp.iA===this.heldItemState.KB&&this.jp.camera.Cv<=1?this.jp.camera.heading:this.jp.entities.dv(this.heldItemState.KB).heading,this.jp.oB.tv(hU).applyImpulse([Math.cos(uU)*SU,jp,-Math.sin(uU)*SU]),setTimeout((()=>{this.jp.entities.deleteEntity(hU)}),5e3)}makeBulletHole(UU,pU,AU){const XU=this.gunTypeObj.getBulletHitBillboard(),hU=.008,jp=this.jp.gT(UU,null,Zp),SU=new Hp.Op(jp[0]+pU[0]*hU,jp[1]+pU[1]*hU,jp[2]+pU[2]*hU),uU=new Hp.Op(jp[0]-pU[0],jp[1]-pU[1],jp[2]-pU[2]);XU.position=SU,XU.lookAt(uU),XU.Rv=!1;const vU=BU().AB(ap,UU,pU,hU);this.jp.Qp.fT(XU,!1,vU),setTimeout((()=>{XU.dispose()}),AU)}setFirstPersonMeshPosition(UU,pU){if(console.assert(this.heldItemState.KB===this.jp.iA,"Should only be called for local player."),this.jp.camera.Cv<=1){const AU=.25*(1-UU),XU=-.12*(1-UU)-.07,hU=pU*-.35;this.mesh.position=new Hp.Op(AU,XU+hU,.4)}else 0===this.mesh.position.x&&0===this.mesh.position.y&&0===this.mesh.position.z||(this.mesh.position=Wp)}updateAimingFov(UU){var pU;const AU=1-.25*UU*(null!==(pU=this.gunTypeObj.aimZoomFactor)&&void 0!==pU?pU:1);this.jp.entities.getState(this.jp.iA,"playerCameraAdjustment").fovMultiplier.setMultiplierType("aimingGunZoom",AU)}updateAttackBlockedBillboard(){if(this.ticksSinceAttackBlockedBillboardUpdate++<1)return;this.ticksSinceAttackBlockedBillboardUpdate=0;const UU=this.pickActionHelper.getAttackBlockedPosition(this.bulletReachDistance);UU&&(BU().AB(UU.localBlockedPosition,UU.localBlockedPosition,UU.normal,.001),this.bulletBlockedBillboardPlanePos.x=UU.localBlockedPosition[0],this.bulletBlockedBillboardPlanePos.y=UU.localBlockedPosition[1],this.bulletBlockedBillboardPlanePos.z=UU.localBlockedPosition[2],this.bulletBlockedBillboardPlane.position=this.bulletBlockedBillboardPlanePos,BU().AB(UU.localBlockedPosition,UU.localBlockedPosition,UU.normal,-1),this.bulletBlockedBillboardLookAt.x=UU.localBlockedPosition[0],this.bulletBlockedBillboardLookAt.y=UU.localBlockedPosition[1],this.bulletBlockedBillboardLookAt.z=UU.localBlockedPosition[2],this.bulletBlockedBillboardPlane.lookAt(this.bulletBlockedBillboardLookAt)),this.jp.Qp.FT(this.bulletBlockedBillboardPlane,null!==UU)}makeShotSound(){if(this.lastGunShotTail){const UU=this.gunTypeObj.msPerRound/3;this.lastGunShotTail.fade(this.lastGunShotTail.getVolume(),0,UU)}const UU=this.gunTypeObj.spriteTrackname,pU=this.gunTypeObj.soundPrefix;if(Date.now()-this.lastRoundFired>3*this.gunTypeObj.msPerRound&&(0,fU.n)(UU,"".concat(pU,"_first_shot_01")))this.lastGunShotTail=CU.b.play("".concat(pU,"_first_shot_01"),JU.i.gunShot,this.heldItemState.KB,75,10);else{const UU=(0,fU.e)("".concat(pU,"_shot_"));this.lastGunShotTail=CU.b.play(UU,JU.i.gunShot,this.heldItemState.KB,75,10)}(0,fU.n)(UU,"".concat(pU,"_tail_only_shot_01"))&&(this.lastGunShotTail=CU.b.play("".concat(pU,"_tail_only_shot_01"),JU.i.gunShot,this.heldItemState.KB,75,10))}playHeadshotSound(){CU.b.play((0,fU.e)("headshot_"),JU.i.gunHeadshot)}playBodyshotSound(){}handleBulletCasingHitFloorSound(){clearTimeout(this.bulletCasingHitFloorTimeout),this.bulletCasingHitFloorTimeout=setTimeout((()=>{CU.b.play((0,fU.e)("bullet_shell_bounce_general_"),JU.i.bulletShellBounce)}),400)}}const Vp=new Hp.Op(1,0,0);class cp{constructor(UU,pU){this.jp=void 0,this.gunTypeObj=void 0,this.currInacc=void 0,this.nonMoveInacc=void 0,this.currMoveInacc=void 0,this.prevBroadcastedInacc=void 0,this.ticksSinceBroadcast=void 0,this.lastTick=void 0,this.isAiming=void 0,this.lastShot=void 0,this.bulletsShot=void 0,this.jp=UU,this.gunTypeObj=pU,this.currInacc=pU.inaccuracyStanding,this.nonMoveInacc=0,this.currMoveInacc=pU.inaccuracyStanding,this.prevBroadcastedInacc=-200,this.ticksSinceBroadcast=100,this.lastTick=Date.now(),this.isAiming=!1,this.lastShot=0,this.bulletsShot=0}shot(){this.isAiming?this.nonMoveInacc+=this.gunTypeObj.altInaccuracyFromShot:this.nonMoveInacc+=this.gunTypeObj.inaccuracyFromShot,this.lastShot=Date.now(),this.bulletsShot++}jump(){this.isAiming?this.nonMoveInacc+=this.gunTypeObj.altInaccuracyFromJump:this.nonMoveInacc+=this.gunTypeObj.inaccuracyFromJump}su(UU){const pU=Date.now()-this.lastTick;let AU;this.isAiming=UU,AU=UU?{inaccuracyStanding:this.gunTypeObj.altInaccuracyStanding,inaccuracyMovement:this.gunTypeObj.altInaccuracyMovement,yVelocityInaccuracy:this.gunTypeObj.altYVelocityInaccuracy}:{inaccuracyStanding:this.gunTypeObj.inaccuracyStanding,inaccuracyMovement:this.gunTypeObj.inaccuracyMovement,yVelocityInaccuracy:this.gunTypeObj.yVelocityInaccuracy};const XU=this.jp.entities.tv(this.jp.iA),hU=(XU.bv[0]**2+XU.bv[2]**2)**.5,jp=this.jp.hp.runningSpeed*this.jp.entities.dv(this.jp.iA).speedMultiplier.getTotalMultipliedVal(),SU=AU.inaccuracyStanding+hU/jp*AU.inaccuracyMovement+AU.yVelocityInaccuracy*Math.abs(XU.bv[1]);0===jp||(SU>=this.currMoveInacc?this.currMoveInacc=SU:this.currMoveInacc=this.decreaseInacc(this.currMoveInacc,SU,pU)),0!==this.nonMoveInacc&&(this.nonMoveInacc=this.decreaseInacc(this.nonMoveInacc,0,pU));const uU=this.currMoveInacc+this.nonMoveInacc,BU=Math.abs(this.prevBroadcastedInacc-uU);(++this.ticksSinceBroadcast>=6&&BU>.5||BU>10)&&((0,gU.e)(uU),this.prevBroadcastedInacc=uU,this.ticksSinceBroadcast=0),this.currInacc=uU,this.lastTick=Date.now(),Date.now()-this.lastShot>this.gunTypeObj.msPerRound+100&&(this.bulletsShot=0)}decreaseInacc(UU,pU,AU){const XU=UU-pU;return XU<.05?pU:Math.max(UU-AU*this.gunTypeObj.recoveryRate*XU,pU)}getDirectionWithInaccuracy(UU){const pU=this.currInacc*MU.k,{yT:AU,OT:XU}=(0,lU.i)(UU),hU=Math.random()*pU-pU/2,jp=this.gunTypeObj.hasVerticalInaccuracy?Math.random()*pU-pU/2:0;return(0,lU.d)(AU+hU,XU+jp)}}class sp extends iA{constructor(UU,pU,AU,XU,hU){super(UU,pU,AU,XU,hU),this.inputs=void 0,this.readyTime=void 0,this.readyOffset=void 0,this.firingOffset=void 0,this.fireInterval=void 0,this.inputs=0,this.readyTime=0,this.readyOffset=this.firstPersonPosOffset,this.firingOffset=new Hp.Op(-.06,0,-.15),this.fireInterval=null}WT(){var UU;const pU=Date.now();if(pU<this.readyTime)return{tookAction:!1,preventAttack:!1};const AU=this.getFireInterval();this.readyTime=pU+AU,GU.h.Sp("middleScreenBarInitiate",{duration:AU,DS:!0,horizBarRemOffset:0});const{name:XU}=this.typeObj;if(!dU.e.includes(XU))return this._performAltAction();const hU=(0,DU.jA)(),jp=null===(UU=hU.oB.Bv(hU.iA))||void 0===UU?void 0:UU.inventory,SU=null===jp||void 0===jp?void 0:jp.getSelectedSlotIndex();return(0,zU.r)(SU)?(console.error("Failed to get selected slot"),{tookAction:!1,preventAttack:!1}):(new EU.e(this.bloxd,"",XU).initClientPredicted(SU),{tookAction:!0,preventAttack:!1})}input(UU){const pU=UU?1:-1;return this.inputs=Math.max(this.inputs+pU,pU,0),UU?this.WT():{tookAction:!1,preventAttack:!1}}getFireInterval(){var UU;null===this.fireInterval&&(this.fireInterval=null!==(UU=this.bloxd.getItemStat(this.jp.iA,this.typeObj.name,"fireInterval"))&&void 0!==UU?UU:0);return this.fireInterval}selected(UU){super.selected(UU),this.inputs=0,clearTimeout(zp)}reset(){super.reset(),this.inputs=0,this.fireInterval=null}downFirePrimary(){return this.input(!0)}upFirePrimary(){return this.input(!1)}downFireSecondary(){return this.input(!0)}upFireSecondary(){return this.input(!1)}secondaryDownFireRepeatableAction(){return{tookAction:!1,preventAttack:!1}}touchDownSecondary(){this.input(!0)}touchUpSecondary(){this.input(!1)}touchDownTertiary(){this.input(!0)}touchUpTertiary(){this.input(!1)}touchShort(){return this.WT()}su(UU){super.su(UU),this.inputs>0&&this.getFireInterval()&&this.WT()}renderTickLocalPlayer(UU){const pU=Math.pow(2*Math.pow(this.getReadyToFireFrac(),7/16)-1,2);this.firstPersonPosOffset=Hp.Op.Lerp(this.firingOffset,this.readyOffset,pU),super.renderTickLocalPlayer(UU)}getReadyToFireFrac(){return this.getFireInterval()?1-Math.min(1,Math.max(0,(this.readyTime-Date.now())/this.fireInterval)):1}}function tp(){bp++}let bp=0;(0,jp.Ub)((()=>{bp=0}))},17276:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>fU});var XU=AU(149),hU=AU.n(XU),jp=AU(1739),SU=AU(399),uU=AU(1140);let BU=0;const vU=hU().create(),TU=hU().create(),QU=.01,yU={},OU={};function fU(UU){return{name:"hidingMeshManager",order:105,state:{addMeshComponent:null,removeMeshComponent:null,addShadow:!1,shadowSize:void 0,hideDist:55,movingHideDist:null,forceUpdateEveryTick:!1,displayOutsideLoadedChunk:!1,rh:null,immediatelyUpdate:!1,_lastPos:null,_lastEnabled:!1,_forceUpdate:!1},DB:function(AU,XU){if(!XU.addMeshComponent||!XU.removeMeshComponent)throw new Error("Added hidingMeshManager without addMeshComponent or removeMeshComponent ".concat(XU.addMeshComponent," ").concat(XU.removeMeshComponent));if(XU._lastPos=hU().create(),hU().bU(XU._lastPos,UU.oB.ih(AU)),XU.rh&&!yU[XU.rh]&&(yU[XU.rh]=-1,OU[XU.rh]=[]),XU.immediatelyUpdate){pU(XU,UU.oB.ih(UU.iA))}else XU._forceUpdate=!0},dp:function(UU,pU){pU.removeMeshComponent()},system:function(AU,XU){let jp=!1;const uU=UU.oB.ih(UU.iA);hU().sqrDist(uU,TU)>25&&(jp=!0);const QU=Date.now();for(const pU in yU){let AU=0;for(const jp of XU)if(jp.rh===pU&&jp._lastEnabled){const XU=hU().bU(vU,UU.oB.ih(jp.KB));hU().floor(XU,XU),OU[pU][AU]=hU().sU(XU,uU),AU++}OU[pU].length=AU,OU[pU].length>=SU.i.maxNumVisibleEntitiesOfSingleType?(OU[pU].sort(((UU,pU)=>UU-pU)),yU[pU]=OU[pU][SU.i.maxNumVisibleEntitiesOfSingleType-1]):yU[pU]=-1}let fU=!1;for(const UU of XU)if((null!==UU.movingHideDist||jp||UU._forceUpdate||UU.forceUpdateEveryTick)&&(pU(UU,uU),UU._forceUpdate=!1,Date.now()-QU>5)){BU++,fU=!0;break}fU||(BU=0,jp&&hU().bU(TU,uU)),BU>10&&console.error("hidingMeshManagerProcessor update took too long and is skipping update for some entities")}};function pU(pU,AU){const{oB:XU}=UU,SU=pU.KB,BU=XU.ih(SU);let vU,TU,OU=pU.hideDist;if(null!==pU.movingHideDist){const UU=pU._lastPos;(Math.abs(UU[0]-BU[0])>QU||Math.abs(UU[1]-BU[1])>QU||Math.abs(UU[2]-BU[2])>QU)&&(OU=pU.movingHideDist),hU().bU(UU,BU)}if(void 0!==yU){const UU=yU[pU.rh];UU>=0&&(TU=hU().sqrDist(AU,BU),UU*UU<TU&&(vU=!1))}var fU;void 0===vU&&(vU=!1,(pU.displayOutsideLoadedChunk||(0,uU.getBloxd)().TT(Math.floor(BU[0]),Math.floor(BU[1]),Math.floor(BU[2])))&&(null!==(fU=TU)&&void 0!==fU||(TU=hU().sqrDist(AU,BU)),TU<OU*OU&&(vU=!0)));pU._lastEnabled!==vU&&(vU?(XU.RB(SU)||pU.addMeshComponent(),pU.addShadow&&!XU.getState(SU,XU.names.GB)&&(XU.Jv(SU,XU.names.GB,{size:pU.shadowSize}),XU.getState(SU,XU.names.GB).enabledCombinator=new jp.e)):(pU.removeMeshComponent(),pU.addShadow&&XU.getState(SU,XU.names.GB)&&XU.Fv(SU,XU.names.GB)),pU._lastEnabled=vU)}}},17284:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>BU});var XU=AU(149),hU=AU.n(XU),jp=AU(597);const SU=new(AU(14902).Op)(0,1,0),uU=15;function BU(UU){return{name:"humanoidMesh",order:105,state:{iT:null,FB:null,consumedNetworkArmSwing:!0,heldItemOffset:null,_torsoIndex:null,_headIndex:null,_armLeftIndex:null,_armRightIndex:null,_leftLegIndex:null,_rightLegIndex:null,_ticksSinceSwing:uU+1,_queuedSwing:!1,_initialLeftLegX:null,_initialRightLegX:null},DB:function(pU,AU){const XU=UU.Qp.EB,hU=XU.getNamedNode(AU.iT,"HeadMesh"),jp=XU.getNamedNodeOrNull(AU.iT,"TorsoNode"),SU=XU.getNamedNode(AU.iT,"ArmLeftMesh"),uU=XU.getNamedNode(AU.iT,"ArmRightMesh"),BU=XU.getNamedNode(AU.iT,"LegLeftMesh"),vU=XU.getNamedNode(AU.iT,"LegRightMesh");AU._headIndex=hU,AU._torsoIndex=jp,AU._armLeftIndex=SU,AU._armRightIndex=uU,AU._leftLegIndex=BU,AU._rightLegIndex=vU,AU._initialLeftLegX=XU.getNodePosition(AU.iT,BU).x,AU._initialRightLegX=XU.getNodePosition(AU.iT,vU).x;const TU=UU.oB.dv(pU),QU=UU.oB.getState(pU,"updateWalkingState");QU.getCurrentSpeed=()=>{var AU,XU;const hU=null===(AU=UU.oB.Vv(pU))||void 0===AU?void 0:AU.Wv;if(!hU)return TU.speed;const jp=UU.oB.dv(hU);return null!==(XU=null===jp||void 0===jp?void 0:jp.speed)&&void 0!==XU?XU:TU.speed},QU.overrideMaxWalkingAngle=()=>TU.crouching?.5:null},NB:function(fU,CU){for(const dU of CU){var gU,MU;if(!dU.FB.iv)continue;const fU=UU.oB.dv(dU.KB),CU=fU.pose;let HU=0;const lU=UU.Qp.EB;null!==dU._torsoIndex&&(fU.crouching&&(HU=Math.PI/8),lU.setNodeRotationEuler(dU.iT,dU._torsoIndex,HU,0,0));const eU=(dU.KB===UU.iA?UU.camera.pitch:fU.cameraPitch)-HU;"driving"===CU?lU.setNodeRotationEuler(dU.iT,dU._headIndex,Math.PI/20,0,0):"gliding"!==CU&&"sleeping"!==CU&&lU.setNodeRotationEulerX(dU.iT,dU._headIndex,OU(eU));const ZU=null===(gU=UU.oB.Xv(dU.KB))||void 0===gU?void 0:gU.hv;let aU=!0;if((null===ZU||void 0===ZU?void 0:ZU.gunTypeObj)||(null===ZU||void 0===ZU||null===(MU=ZU.typeObj)||void 0===MU?void 0:MU.holdAsAiming)){var nU,wU,kp;let pU=eU;pU+=null!==(nU=null===(wU=(kp=UU.oB.kT(dU.KB)).getThirdPersonArmPitchFromReloading)||void 0===wU?void 0:wU.call(kp))&&void 0!==nU?nU:0,pU=yU(pU);const AU=lU.getNamedNode(dU.iT,"ArmRightMesh"),XU=lU.getNamedNode(dU.iT,"ArmLeftMesh");lU.setNodeRotationEuler(dU.iT,AU,Math.min(.3*-Math.PI+pU,0),0,0),lU.rotateNodeAroundAxis(dU.iT,AU,SU,.18*Math.PI),lU.setNodeRotationEuler(dU.iT,XU,Math.min(.4*-Math.PI+pU,.1*-Math.PI),0,0),lU.rotateNodeAroundAxis(dU.iT,XU,SU,.15*-Math.PI),aU=!1}else if("zombie"===CU){const UU=lU.getNamedNode(dU.iT,"ArmRightMesh"),pU=lU.getNamedNode(dU.iT,"ArmLeftMesh");lU.setNodeRotationEuler(dU.iT,UU,-1.5,0,0),lU.setNodeRotationEuler(dU.iT,pU,-1.5,0,0),aU=!1}else if("gliding"===CU){const UU=lU.getNamedNode(dU.iT,"ArmRightMesh"),pU=lU.getNamedNode(dU.iT,"ArmLeftMesh");lU.setNodeRotationEuler(dU.iT,UU,-Math.PI/4,-Math.PI/2,0),lU.setNodeRotationEuler(dU.iT,pU,-Math.PI/4,Math.PI/2,0),aU=!1}else if("driving"===CU){const UU=lU.getNamedNode(dU.iT,"ArmRightMesh"),pU=lU.getNamedNode(dU.iT,"ArmLeftMesh");lU.setNodeRotationEuler(dU.iT,UU,0,-Math.PI/2,Math.PI/4),lU.setNodeRotationEuler(dU.iT,pU,0,Math.PI/2,-Math.PI/4),aU=!1}else if(fU.armSwinging||!dU.consumedNetworkArmSwing?(dU.consumedNetworkArmSwing=!0,dU._ticksSinceSwing>uU?(dU._ticksSinceSwing=1,dU._queuedSwing=!1):dU._ticksSinceSwing>=.65*uU&&!dU._queuedSwing&&(dU._queuedSwing=!0)):dU._queuedSwing&&dU._ticksSinceSwing>uU&&(dU._ticksSinceSwing=1,dU._queuedSwing=!1),dU._ticksSinceSwing<=uU){const UU=.1,pU=dU._ticksSinceSwing/uU;let AU=0,XU=0,hU=0;const SU=lU.getNamedNode(dU.iT,"ArmRightMesh");AU=lU.getNodeRotationEuler(dU.iT,SU).x,XU=lU.getNodeRotationEuler(dU.iT,SU).y,hU=lU.getNodeRotationEuler(dU.iT,SU).z;const BU=vU[1].amt;vU[1].amt-=HU;const yU=(0,jp.N)(vU,pU,AU,uU),OU=(0,jp.N)(TU,pU,XU,uU),fU=(0,jp.N)(QU,pU,hU,uU);vU[1].amt=BU,lU.setNodeRotationEuler(dU.iT,SU,yU,OU,fU);const CU=lU.getNamedNode(dU.iT,"ArmLeftMesh"),gU=lU.getNodeRotationEuler(dU.iT,CU),MU=(0,jp.xb)(gU.x,0,UU);lU.setNodeRotationEuler(dU.iT,CU,MU,0,0),dU._ticksSinceSwing++,aU=!1}"sitting"===CU?pU(dU):"gliding"===CU?XU(dU):"driving"===CU?pU(dU):"sleeping"===CU?AU(dU):"riding"===CU?pU(dU):BU(dU,aU),hU().bU(UU.oB.RB(dU.KB).offset,fU.meshOffset)}}};function pU(pU){const AU=UU.Qp.EB,XU=pU._leftLegIndex,hU=pU._rightLegIndex;AU.setNodeRotationEuler(pU.iT,XU,-1.5,0,0),AU.setNodeRotationEuler(pU.iT,hU,-1.5,0,0),AU.setNodePositionX(pU.iT,XU,-.15),AU.setNodePositionX(pU.iT,hU,.15)}function AU(pU){const AU=UU.Qp.EB;AU.setNodeRotationEuler(pU.iT,pU._headIndex,0,0,0),null!==pU._torsoIndex&&AU.setNodeRotationEuler(pU.iT,pU._torsoIndex,-Math.PI/2,0,0),AU.setNodeRotationEuler(pU.iT,pU._leftLegIndex,-Math.PI/2,0,0),AU.setNodeRotationEuler(pU.iT,pU._rightLegIndex,-Math.PI/2,0,0),AU.setNodeRotationEuler(pU.iT,pU._armLeftIndex,0,0,0),AU.setNodeRotationEuler(pU.iT,pU._armRightIndex,0,0,0)}function XU(pU){const AU=UU.oB.dv(pU.KB),XU=pU.KB===UU.iA?UU.camera.pitch:AU.cameraPitch,hU=UU.Qp.EB;null!==pU._torsoIndex&&hU.setNodeRotationEuler(pU.iT,pU._torsoIndex,XU+1.5,0,0),hU.setNodeRotationEuler(pU.iT,pU._leftLegIndex,XU+1.5,0,0),hU.setNodeRotationEuler(pU.iT,pU._rightLegIndex,XU+1.5,0,0),hU.setNodeRotationEuler(pU.iT,pU._headIndex,-XU,0,0)}function BU(pU,AU){const XU=UU.oB.getState(pU.KB,"updateWalkingState"),hU=XU.walkingAngle,SU=hU-XU.lastTickWalkingAngle,uU=UU.Qp.EB,BU=pU._leftLegIndex,vU=pU._rightLegIndex;if(uU.setNodePositionX(pU.iT,BU,pU._initialLeftLegX),uU.setNodePositionX(pU.iT,vU,pU._initialRightLegX),uU.setNodeRotationEuler(pU.iT,BU,hU,0,0),uU.setNodeRotationEuler(pU.iT,vU,-hU,0,0),AU){const UU=.8,AU=(AU,XU,hU)=>{if(Math.abs(XU-hU)>Math.abs(SU*UU)+.01){const UU=(0,jp.xb)(XU,hU,.05);uU.setNodeRotationEuler(pU.iT,AU,UU,0,0)}else uU.setNodeRotationEuler(pU.iT,AU,hU,0,0)},XU=pU._armLeftIndex,BU=pU._armRightIndex;AU(XU,uU.getNodeRotationEuler(pU.iT,XU).x,-hU*UU),AU(BU,uU.getNodeRotationEuler(pU.iT,BU).x,hU*UU)}}function yU(UU){return.95*UU}function OU(UU){return 1*UU}}const vU=[{atFrac:0,amt:0},{atFrac:.5,amt:.5*-Math.PI},{atFrac:1,amt:0}],TU=[{atFrac:0,amt:0},{atFrac:.25,amt:-Math.PI/9},{atFrac:.7,amt:Math.PI/9},{atFrac:1,amt:0}],QU=[{atFrac:0,amt:0},{atFrac:.5,amt:Math.PI/6},{atFrac:.5,amt:Math.PI/6},{atFrac:1,amt:0}]},17289:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>hU});var XU=AU(1140);function hU(UU){return{name:"inLoadedChunk",order:105,state:{checkEvery:5,inChunkChange:null,_tick:0,_wasInChunk:!1},DB:function(UU,AU){console.assert(null!==AU.inChunkChange,"Should pass inChunkChange when adding inLoadedChunk component."),pU(AU)},system:function(UU,AU){for(const XU of AU)++XU._tick===XU.checkEvery&&(pU(XU),XU._tick=0)}};function pU(pU){const AU=UU.oB.ih(pU.KB),hU=(0,XU.getBloxd)().TT(AU[0],AU[1],AU[2]);pU._wasInChunk&&!hU&&pU.inChunkChange(!1),!pU._wasInChunk&&hU&&pU.inChunkChange(!0),pU._wasInChunk=hU}}},17294:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>OU});var XU=AU(121),hU=AU(399),jp=AU(597),SU=AU(16649),uU=AU(15881),BU=AU(647),vU=AU(64),TU=AU(16606),QU=AU(98);class yU{constructor(UU,pU,AU){this.jp=void 0,this.playerInventory=void 0,this.bj=null,this.US=null,this.pS=null,this.inCreative=!1,this.onChestUpdate=void 0,this.jp=UU,this.playerInventory=pU,this.onChestUpdate=AU}chestOpened(UU,pU,AU,XU){if(this.loadOpenChestFromStr(UU),this.US=pU,this.pS=AU,null===XU)return;const hU=this.jp.bloxd;hU.isClient&&hU.client.ironChestPasskeyCache.onChestOpened(AU,XU)}chestClosed(){this.bj=null,this.US=null,this.pS=null}removeItemClient(UU,pU,AU){if(UU>=this.playerInventory.numSlots&&!this.bj&&!this.inCreative)return!1;const XU=this.getItemAtIdx(UU);if(null!==XU&&void 0!==XU&&XU.amount&&XU.amount<=0)return console.error(new Error("Found item ".concat(XU.name," with non-positive amount ").concat(XU.amount)).stack),!1;let hU;if(UU<this.playerInventory.numSlots?hU=this.playerInventory.removeItem(UU,pU):this.bj?hU=this.bj.removeItem(UU-this.playerInventory.numSlots,pU):(console.assert(this.inCreative,"Must be in creative to get here"),hU=!0),!hU)return!1;var SU,uU;AU?((0,jp.nc)(BU.Kf,{gh:UU,Mh:XU.typeObj.id,wh:pU}),this.jp.oB.dv(this.jp.iA).setArmsAreSwinging(),null===(SU=(uU=this.jp.oB.kT(this.jp.iA)).trySwingBlock)||void 0===SU||SU.call(uU)):(0,jp.nc)(BU.qh,{qX:UU,WX:XU.typeObj.id,YX:pU});return!0}removeItem(UU,pU){return!(UU>=this.playerInventory.numSlots&&!this.bj&&!this.inCreative)&&(UU<this.playerInventory.numSlots?this.playerInventory.removeItem(UU,pU):this.bj?this.bj.removeItem(UU-this.playerInventory.numSlots,pU):(console.assert(this.inCreative,"Must be in creative to get here"),!0))}swapPosClient(UU,pU){const AU=this.swapPos(UU,pU);if(AU){(0,jp.nc)(BU.Rh,{kj:UU,dh:pU});const AU=yU.getSlotArmourType(UU),XU=yU.getSlotArmourType(pU);(AU||XU)&&uU.b.play("equip_leather1",1).rate(.9+.3*Math.random())}return AU}swapPos(UU,pU,AU){if(!this.bj&&!this.inCreative&&(UU>=this.playerInventory.numSlots||pU>=this.playerInventory.numSlots))return!1;const XU=this.getItemAtIdx(UU),jp=this.getItemAtIdx(pU),SU=yU.getSlotArmourType(UU),uU=yU.getSlotArmourType(pU);if(uU&&XU&&(0,QU.ib)(XU.name)!==uU||SU&&jp&&(0,QU.ib)(jp.name)!==SU)return!1;if(XU&&jp){if("Name Tag"===XU.name&&XU.attributes.customAttributes.text&&null===jp.amount&&!hU.i.nonRenameableItems.includes(jp.name))return this.jp.bloxd.renameItem(jp,XU.attributes.customAttributes.text,AU),this.setItemAtIdx(UU,jp),this.removeItem(pU,1),this.update(),!0;if("Name Tag"===jp.name&&jp.attributes.customAttributes.text&&null===XU.amount&&!hU.i.nonRenameableItems.includes(XU.name))return this.jp.bloxd.renameItem(XU,jp.attributes.customAttributes.text,AU),this.setItemAtIdx(pU,XU),this.removeItem(UU,1),this.update(),!0}return this.setItemAtIdx(UU,jp),this.setItemAtIdx(pU,XU),this.update(),!0}movePosWithAmtClient(UU,pU,AU){if(UU===pU)return!0;const XU=this.movePosWithAmt(UU,pU,AU);return XU&&(0,jp.nc)(BU.Ag,{Wh:UU,Yh:pU,sh:AU}),XU}isInCreativeLeftInven(UU){return this.inCreative&&!this.bj&&UU>=this.playerInventory.numSlots}movePosWithAmt(UU,pU,AU){if(!this.bj&&!this.inCreative&&(UU>=this.playerInventory.numSlots||pU>=this.playerInventory.numSlots))return!1;const XU=this.getItemAtIdx(UU),jp=this.getItemAtIdx(pU);if(UU===pU)return!0;if(null===XU)return!1;if(jp&&(XU.name!==jp.name||jp.amount+AU>hU.i.maxItemStackSize))return!1;if(null===XU.amount)return!1;if(XU.amount<=0)return console.error(new Error("movePosWithAmt found item ".concat(XU.name," with amount ").concat(XU.amount)).stack),!1;if(XU.amount-AU<0&&!this.isInCreativeLeftInven(UU))return!1;XU.amount-=AU,0===XU.amount&&this.setItemSlot(UU,"Air",0,null);let SU=AU;return XU.name===(null===jp||void 0===jp?void 0:jp.name)&&(SU+=jp.amount),this.setItemSlot(pU,XU.name,SU,XU.attributes),this.update(),!0}moveItemIntoIdxsClient(UU,pU,AU,XU){const hU=this.moveItemIntoIdxs(UU,pU,AU,XU);return 0!==hU&&(0,jp.nc)(BU.Dg,{FA:UU,iX:pU,NA:AU,LA:hU}),hU}moveItemIntoIdxs(UU,pU,AU,XU){const jp=this.getItemAtIdx(AU);if(!jp)return 0;if(null!==jp.amount&&jp.amount<=0)return console.error(new Error("moveItemIntoIdxs found item ".concat(jp.name," with amount ").concat(jp.amount)).stack),0;if(null!==jp.amount&&jp.amount-XU<0&&!this.isInCreativeLeftInven(AU))return 0;const SU=XU;let uU=XU;if(null!==jp.amount)for(let vU=UU;vU<pU;vU++){const UU=this.getItemAtIdx(vU);if((null===UU||void 0===UU?void 0:UU.name)===jp.name){if(UU.amount<=0){console.error(new Error("moveItemIntoIdxs found item ".concat(UU.name," with amount ").concat(UU.amount)).stack);continue}if(null===UU.amount)continue;if(UU.amount+uU<=hU.i.maxItemStackSize)return UU.amount+=uU,jp.amount-=uU,jp.amount<=0&&(this.setItemAtIdx(AU,null),jp.amount<0&&!(this.inCreative&&!this.bj&&AU>=this.playerInventory.numSlots)&&console.error(new Error("Moved too much item into existing slot!").stack)),this.update(),SU;if(UU.amount<hU.i.maxItemStackSize){const pU=hU.i.maxItemStackSize-UU.amount;UU.amount+=pU,uU-=pU,jp.amount-=pU}}}const BU=this.getFreeSlotBoundIdxs(UU,pU);if(null!==BU){const UU=jp.amount;return this.setItemAtIdx(BU,{name:jp.name,amount:uU,typeObj:jp.typeObj,attributes:jp.attributes}),jp.amount-=uU,jp.amount<=0&&(this.setItemAtIdx(AU,null),jp.amount<0&&!(this.inCreative&&!this.bj&&AU>=this.playerInventory.numSlots)&&console.error(new Error("Moved too much item: tried to move ".concat(uU," ").concat(jp.name," from slot ").concat(AU," that had ").concat(UU," ").concat(jp.name,": inCreative=").concat(this.inCreative,", openChest=").concat(JSON.stringify(this.bj),", inventoryStr=").concat(this.playerInventory.stringify())))),this.update(),SU}return this.update(),null===SU?0:SU-uU}getFreeSlotBoundIdxs(UU,pU){const AU=this.playerInventory.numSlots+(this.bj?this.bj.numSlots:0);for(let XU=UU;XU<Math.min(pU,AU);XU++)if(null===this.getItemAtIdx(XU))return XU;return null}setItemSlot(UU,pU,AU,hU){if(UU>=this.playerInventory.numSlots){if(this.bj)this.bj.setItemSlot(UU-this.playerInventory.numSlots,pU,AU,hU);else if(!this.inCreative)throw new Error("Attempting to setItemSlot in high idx when not in chest or creative")}else if(UU>=this.playerInventory.numSlots-XU.d.length){const jp=UU-this.playerInventory.numSlots+XU.d.length;if("Air"!==pU&&(0,QU.ib)(pU)!==XU.d[jp])throw new Error("Attempting to put invalid item ".concat(pU," ").concat(AU," ").concat(hU," \t\t\t\t\tinto armour inven slot idx ").concat(UU));this.playerInventory.setItemSlot(UU,pU,AU,hU)}else this.playerInventory.setItemSlot(UU,pU,AU,hU);return!0}setItemAtIdx(UU,pU){if(pU&&null!==pU.amount&&(pU.amount<0||pU.amount>hU.i.maxItemStackSize)&&(console.error(new Error("Tried to setItemAtIdx ".concat(UU," with invalid amount ").concat(pU.amount,". Slot will be set to null instead")).stack),pU=null),UU>=this.playerInventory.numSlots){if(this.bj)this.bj.items[UU-this.playerInventory.numSlots]=pU;else if(!this.inCreative)throw new Error("Attempting to set item in high idx when not in chest or creative")}else if(UU>=this.playerInventory.numSlots-XU.d.length){const hU=UU-this.playerInventory.numSlots+XU.d.length;var AU,jp,SU,uU;if(pU&&(0,QU.ib)(pU.name)!==XU.d[hU])throw new Error("Attempting to put invalid item ".concat(null===(AU=pU)||void 0===AU?void 0:AU.name," ").concat(null===(jp=pU)||void 0===jp?void 0:jp.amount," ").concat(JSON.stringify(null!==(SU=null===(uU=pU)||void 0===uU?void 0:uU.attributes)&&void 0!==SU?SU:{})," into armour inven slot idx ").concat(UU));this.playerInventory.items[UU]=pU}else this.playerInventory.items[UU]=pU}getItemAtIdx(UU){if(UU>=this.playerInventory.numSlots){if(this.bj)return this.bj.items[UU-this.playerInventory.numSlots];if(this.inCreative){const pU=SU.b[UU-this.playerInventory.numSlots],AU=this.jp.bloxd.getItemTypeObj(pU);return{name:pU,amount:AU.stackable?1:null,attributes:(0,TU.f)(pU),typeObj:AU}}return this.jp.Tv("Attempting to get item in high idx ".concat(UU," when not in chest or creative"),new Error("Attempting to get item in high idx ".concat(UU," when not in chest or creative"))),null}return this.playerInventory.items[UU]}static getSlotArmourType(UU){const pU=UU-vU.m+XU.d.length;return pU<0||pU>=XU.d.length?null:XU.d[pU]}update(){var UU;this.playerInventory.update(!0),null===(UU=this.bj)||void 0===UU||UU.update(!0)}stringify(){return{tj:this.playerInventory.stringify(),bj:this.bj?this.bj.stringify():null,US:this.US,pS:JSON.stringify(this.pS)}}loadFromString(UU){const{tj:pU,bj:AU,US:XU,pS:hU}=UU;this.playerInventory.loadFromString(pU),AU?(this.loadOpenChestFromStr(AU),this.US=XU||null,this.pS=JSON.parse(hU)||null):(this.bj=null,this.US=null,this.pS=null)}loadOpenChestFromStr(UU){return this.bj=(0,TU.l)(this.jp,this.playerInventory.state.KB,(UU=>{var pU;null===(pU=this.onChestUpdate)||void 0===pU||pU.call(this,UU)})),this.bj.loadFromString(UU),this.bj}}function OU(UU){return{name:"inventory",order:150,state:{Wj:null,inventory:null,opWrapper:null,onInventoryUpdate:null,onChestUpdate:null},DB:function(pU,AU){AU.inventory||(AU.inventory=new TU.e(UU,AU,vU.m)),AU.opWrapper||(AU.opWrapper=new yU(UU,AU.inventory,AU.onChestUpdate))},dp:null,system:null}}},17302:UU=>{UU.exports=function(UU){return{name:"itemState",order:105,state:{amount:1,name:null,typeObj:null,creationTime:0,Hj:!1},attributes:{}}}},16600:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>wU,isMeshAttachment:()=>dU,resetTransformsRecursively:()=>kp,updateMeshAttachments:()=>HU});var XU=AU(21),hU=AU(16594),jp=AU(16518),SU=AU(1140),uU=AU(64),BU=AU(15898),vU=AU(597),TU=AU(14955),QU=AU(15383),yU=AU(16001),OU=AU(15483),fU=AU(14877),CU=AU(14902),gU=AU(15707);const MU={};class nU{constructor(){this.attachments=[],this.KB=void 0}}function wU(UU){return{name:"meshAttachments",order:100,stateConstructor:nU,dp:function(pU,AU){const XU=UU.Qp.EB;for(const UU of AU.attachments)if(null!==UU.iT)try{XU.delete(UU.iT)}catch(hU){console.error("Failed to cleanup attachment ".concat(UU.iT," of entity ").concat(pU,":"),hU.stack)}AU.attachments.length=0},system:null}}function kp(UU){UU.position.HB(0),UU.rotation=CU.Op.Zero(),UU.dB.HB(1),UU.rB();for(const pU of UU.getChildren())kp(pU)}function dU(UU,pU,AU){const XU=UU.oB.getState(pU,UU.oB.names.meshAttachments);if(XU)for(const hU of XU.attachments)if(hU.iT===AU)return!0;return!1}function HU(UU,pU,AU){let hU=!1;if((0,uU.r)(UU))return console.error("Cannot updateMeshAttachments for invalid eId",UU),hU;const BU=(0,SU.jA)(),TU=BU.oB.RB(UU);if(!TU)return console.error("Cannot updateMeshAttachments for entity ".concat(UU," as it has no mesh")),hU;const{iT:QU}=TU;if(null===QU)return console.error("Cannot updateMeshAttachments for entity ".concat(UU," as it has no thinObjectId")),hU;const OU=BU.oB.getState(UU,BU.oB.names.meshAttachments);if(!OU)return console.error("Cannot updateMeshAttachments for entity ".concat(UU," as it has no meshAttachments component")),hU;for(const XU of OU.attachments)(0,vU.bc)(XU.cosmeticTypes,pU);const{attachments:fU}=AU;null!==fU&&void 0!==fU&&fU.length&&(hU||(hU=function(UU,pU,AU,hU,SU){let uU=!1;for(const BU of SU){let SU=!1;for(const UU of pU.attachments)if(UU.modelGlb===BU.modelGlb&&UU.modelNode===BU.modelNode&&UU.destNode===BU.destNode){UU.cosmeticTypes.push(AU),SU=!0;break}if(SU)continue;let vU=null;const{modelGlb:TU}=BU;if(TU in MU){const UU=MU[TU];UU&&(vU=lU(hU,UU,BU))}else{MU[TU]=null;const pU=(0,jp.d)("Player","".concat(TU,".glb")).replace("model/gltf-binary;","");yU.c.LoadAssetContainerAsync(pU,null,UU.Qp.Cp).then((UU=>{eU(UU,TU)})).catch((UU=>{console.error("Failed to load ".concat(TU,":"),UU.stack)}))}pU.attachments.push((0,XU.d)((0,XU.d)({},BU),{},{cosmeticTypes:[AU],iT:vU})),uU=!0}return uU}(BU,OU,pU,QU,fU)));const CU=BU.Qp.EB;for(let XU=0;XU<OU.attachments.length;XU++){const UU=OU.attachments[XU];0===UU.cosmeticTypes.length&&null!==UU.iT&&(CU.delete(UU.iT),(0,vU.bc)(OU.attachments,UU),XU--)}return hU}function lU(UU,pU,AU){var XU;const hU=(0,SU.jA)(),jp=hU.Qp.EB,uU="".concat(AU.modelGlb,"|").concat(AU.modelNode);if(!jp.hasType(uU)){const UU=pU.getNodes().find((UU=>UU.name===AU.modelNode));if(!UU)throw new Error("Node ".concat(AU.modelNode," not found in container ").concat(AU.modelGlb));jp.newObjectType(uU,UU,{lp:4,capacityIsConst:!1,strides:{matrix:16,aOverlayColour:4,aOpacity:1}}),jp.setPickableForType(uU,!1),hU.Qp.zB(UU)}const BU=jp.instantiate(uU),vU=jp.getNamedNode(UU,AU.destNode);jp.attachThinObject(BU,UU,vU);const TU=jp.getEntityId(UU),QU=hU.oB.getState(TU,"proximityFade");return jp.set(BU,"aOpacity",null!==(XU=null===QU||void 0===QU?void 0:QU._prevOpacity)&&void 0!==XU?XU:1),BU}function eU(UU,pU){const AU=(0,SU.jA)(),{Cp:XU}=AU.Qp;MU[pU]=UU;for(const hU of UU.rootNodes)kp(hU);const uU=new OU.gp("".concat(pU,"Attachment"),XU);hU.k.applyTo(uU),hU.c.applyTo(uU),uU.backFaceCulling=!1;const vU=new fU.d((0,jp.d)("Player","".concat(pU,".png")),XU,{invertY:!1,samplingMode:fU.d.NEAREST_NEAREST_MIPLINEAR});vU.OB=!0,uU.fB=QU.c.MATERIAL_ALPHATEST,uU.useAlphaFromDiffuseTexture=!0,uU.diffuseTexture=vU,uU.specularColor=new TU.Mp(0,0,0),uU.ambientColor=new TU.Mp(1,1,1),uU.freeze();for(const hU of UU.meshes){if(!hU.material){XU.YT(hU);continue}hU.material=uU;hU.getVerticesData(gU.b.UVKind)?(0,BU.k)(hU,1/512):XU.YT(hU),hU.sideOrientation=QU.c.CounterClockWiseSideOrientation}const yU=AU.Qp.EB,CU=AU.oB.RT(AU.oB.names.meshAttachments);for(const hU of CU){var nU,wU;const XU=null!==(nU=null===(wU=AU.oB.RB(hU.KB))||void 0===wU?void 0:wU.iT)&&void 0!==nU?nU:null;if(null!==XU&&yU.has(XU))for(const AU of hU.attachments)AU.modelGlb===pU&&null===AU.iT&&(AU.iT=lU(XU,UU,AU));else console.error("Loaded ".concat(pU," but theres no thinObjectId ").concat(XU," for parent entity ").concat(hU.KB))}}},17307:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>BU});var XU=AU(16296),hU=AU(15898),jp=AU(1140),SU=AU(98);class uU{constructor(){this.isServerControlled=!1,this.defaultRotationsPerSecond=5,this.childrenNodeParams=[],this.playerControlledRotationSoftTolerance=null,this.playerControlledRotationHardTolerance=null,this.renderHeading=0,this.serverSetHeading=0,this.baseRenderHeading=0,this._thinObjectId=null,this._rootMesh=null,this._namedNodes=null,this._namedNodeBaseHeadings=null,this._namedNodeRenderHeadings=null,this._accumulatedDt=0,this.KB=void 0}}function BU(UU){return{name:"meshRotation",order:100,stateConstructor:uU,DB:function(UU,pU){pU.childrenNodeParams.push({nodeName:"__root__",softTolerance:0,hardTolerance:null,rotationsPerSecond:pU.defaultRotationsPerSecond})},dp:null,NB:function(pU,AU){for(const OU of AU){var jp,SU,uU,BU,yU;OU._accumulatedDt+=pU;const AU=UU.oB.RB(OU.KB);if(!AU)continue;const{FB:fU}=AU;if(!(null!==(jp=null===fU||void 0===fU?void 0:fU.iv)&&void 0!==jp?jp:null===(SU=AU.mesh)||void 0===SU?void 0:SU.isEnabled()))continue;const{iT:CU}=AU;fU?OU._thinObjectId!==CU&&vU(OU,CU):OU._rootMesh!==AU.mesh&&TU(OU,AU.mesh);const gU=UU.oB.Hv(UU.iA),MU=UU.oB.Vv(OU.KB),nU=XU.k[gU.vehicle.type],wU=OU.KB===UU.iA,kp=wU||(null===MU||void 0===MU?void 0:MU.Wv)===UU.iA&&(null===MU||void 0===MU?void 0:MU.Yv),dU=UU.oB.dv(UU.iA),HU=UU.oB.dv(OU.KB);let lU=OU.baseRenderHeading;kp?nU.getTargetRenderHeadingDir?lU=nU.getTargetRenderHeadingDir(UU,OU,dU,gU):lU+=UU.camera.heading:OU.isServerControlled?lU+=OU.serverSetHeading:lU+=HU.heading;const eU=kp?null!==(uU=null===dU||void 0===dU?void 0:dU.speed)&&void 0!==uU?uU:0:null!==(BU=null===HU||void 0===HU?void 0:HU.speed)&&void 0!==BU?BU:0,ZU=null!==(yU=null===HU||void 0===HU?void 0:HU.pose)&&void 0!==yU?yU:"standing",aU=0===eU,GU="standing"===ZU||"zombie"===ZU,mp=kp&&!wU?OU.playerControlledRotationSoftTolerance:null,EU=kp&&!wU?OU.playerControlledRotationHardTolerance:null;if(OU.renderHeading=QU(OU,lU,OU._accumulatedDt,aU,GU,mp,EU),kp&&nU.getMeshXRotation){const pU=nU.getMeshXRotation(UU,OU,dU,gU);fU?UU.Qp.EB.setNodeRotationEulerY(CU,0,pU):(0,hU.r)(OU._rootMesh,pU)}OU._accumulatedDt=0}}}}function vU(UU,pU){UU._thinObjectId=pU,UU._rootMesh=null,UU._namedNodes={},UU._namedNodeBaseHeadings={},UU._namedNodeRenderHeadings={};const AU=(0,jp.jA)().Qp.EB.getNodeNames(pU),XU=pU=>{UU._namedNodeBaseHeadings[pU]=0,UU._namedNodeRenderHeadings[pU]=0};for(let hU=1;hU<AU.length;hU++)XU(AU[hU]);XU(AU[0])}function TU(UU,pU){UU._thinObjectId=null,UU._rootMesh=pU,UU._namedNodes={},UU._namedNodeBaseHeadings={},UU._namedNodeRenderHeadings={};const AU=(pU,AU)=>{UU._namedNodes[pU]=AU,UU._namedNodeBaseHeadings[pU]=0,UU._namedNodeRenderHeadings[pU]=0},XU=UU._rootMesh.getChildTransformNodes(!1);for(const hU of XU){const UU=hU.name.split(" ");AU(UU[UU.length-1],hU)}AU("__root__",pU)}function QU(UU,pU,AU,XU,uU,BU,vU){const{_thinObjectId:TU,_rootMesh:QU,childrenNodeParams:yU,defaultRotationsPerSecond:OU,_namedNodes:fU,_namedNodeBaseHeadings:CU,_namedNodeRenderHeadings:gU}=UU;let MU=pU,nU=null!==BU&&void 0!==BU?BU:0,wU=vU;const kp=XU?Math.PI:0,dU=uU?Math.PI:0;for(let hU=0;hU<yU.length;hU++){const UU=yU[hU],pU=UU.nodeName,XU=null!==BU&&void 0!==BU?BU:UU.softTolerance,jp=null!==vU&&void 0!==vU?vU:UU.hardTolerance,uU=CU[pU],TU=SU.e.computeShortestRotation(MU,uU);let QU;QU=TU<-nU?MU-nU:TU>nU?MU+nU:uU,CU[pU]=QU;const fU=gU[pU];let lU;if(null!==wU){const UU=SU.e.computeShortestRotation(MU,fU),pU=.01;wU<pU?lU=MU:UU<-wU?lU=MU-wU+pU:UU>wU&&(lU=MU+wU-pU)}if(void 0===lU){var HU;const pU=null!==(HU=UU.rotationsPerSecond)&&void 0!==HU?HU:OU,XU=2*Math.PI*pU*AU/1e3;lU=SU.e.applyRotation(fU,QU,XU)}gU[pU]=lU,MU=lU,nU=Math.min(XU,kp),wU=null===jp?null:Math.min(jp,dU)}const lU=MU,eU=null!==TU,ZU=(0,jp.jA)().Qp.EB;eU?ZU.setRotationEuler(TU,0,lU+Math.PI,0):(0,hU.r)(QU,lU+Math.PI);for(let jp=0;jp<yU.length-1;jp++){const{nodeName:UU}=yU[jp],pU=gU[UU];if(eU){const AU=ZU.getNamedNode(TU,UU);ZU.setNodeRotationEulerY(TU,AU,lU-pU)}else{const AU=fU[UU];(0,hU.r)(AU,lU-pU)}}return lU}},17311:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>uU});var XU=AU(1739),hU=AU(149),jp=AU.n(hU),SU=AU(1140);function uU(UU){return{name:"moveState",order:30,state:{heading:0,crouching:!1,speed:0,jumping:!1,cameraPitch:0,meshOffset:null,baseRenderHeading:0,followingEId:null,pose:"standing",speedMultiplier:null,jumpMultiplier:null,hitInPrevTick:!1,ticksToReachMaxIdleFriction:0,setPose:null,setMeshOffset:null,setCrouching:null,setArmsAreSwinging:null,armSwinging:!1,_renderTickSinceSwing:!1,_armSwungLastTick:!1,_tickSinceSwing:!1},DB:function(pU,AU){AU.speedMultiplier=new XU.i,AU.jumpMultiplier=new XU.i,AU.cameraDirection=jp().create(),AU.meshOffset=jp().create(),AU.setPose=(UU,pU)=>{const XU=AU.pose!==UU||pU&&AU.meshOffset[1]!==pU[1];AU.pose=UU,pU&&jp().set(AU.meshOffset,pU[0],pU[1],pU[2]),XU&&(0,SU.getBloxd)().removeFromEyeHeightCache(AU.KB)},AU.setMeshOffset=(UU,pU,XU)=>{const hU=AU.meshOffset[1]!==pU;jp().set(AU.meshOffset,UU,pU,XU),hU&&(0,SU.getBloxd)().removeFromEyeHeightCache(AU.KB)},AU.setCrouching=UU=>{AU.crouching!==UU&&(AU.crouching=UU,(0,SU.getBloxd)().removeFromEyeHeightCache(AU.KB))},AU.setArmsAreSwinging=()=>{pU===UU.iA&&(AU.armSwinging=!0,AU._armSwungLastTick=!0,AU._renderTickSinceSwing=!1,AU._tickSinceSwing=!1)}},dp:null,system:function(pU,AU){for(const XU of AU)XU.KB===UU.iA&&(!XU._armSwungLastTick&&XU._tickSinceSwing&&XU._renderTickSinceSwing&&(XU.armSwinging=!1),XU._tickSinceSwing=!0,XU._armSwungLastTick=!1,XU.hitInPrevTick=!1)},NB:function(pU,AU){for(const XU of AU)XU.KB===UU.iA&&(XU._renderTickSinceSwing=!0)}}}},16509:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>jp,tickMovementPrePhysics:()=>SU});var XU=AU(16511),hU=AU(16303);const jp=XU.h;function SU(UU,pU){const{oB:AU}=UU,XU=UU.oB.RT("movement");for(let jp=0;jp<XU.length;jp++){const SU=XU[jp];if(AU.PB(SU.KB)){const XU=AU.tv(SU.KB),jp=AU.dv(SU.KB);(0,hU.c)(UU,SU.KB,SU,jp,XU,pU)}}}},17316:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>CU});var XU=AU(597),hU=AU(1739),jp=AU(149),SU=AU.n(jp),uU=AU(37),BU=AU(16296),vU=AU(585),TU=AU(406),QU=AU(13),yU=AU(1140);const OU=SU().create(),fU=SU().create();function CU(UU){let pU=1;return uU.h.subscribe("serverOption|movementBasedFovScale",(UU=>{pU="number"===typeof UU&&isFinite(UU)?UU:1})),(0,XU.Ub)((()=>{pU=1})),{name:"playerCameraAdjustment",order:105,state:{movementBasedFov:1.2,fovMultiplier:new hU.i,bobbleProgress:0,bobbleValue:0,camDir:0,lastPointerMove:0},NB:function(AU,hU){for(const jp of hU){const hU=UU.oB.dv(jp.KB),uU=UU.oB.Vv(UU.camera.VT),CU=UU.oB.getState(jp.KB,"movement"),gU=UU.oB.Hv(jp.KB).vehicle,MU=UU.oB.tv(jp.KB);SU().set(OU,MU.bv[0],gU.type===TU.j.GLIDER?MU.bv[1]:0,MU.bv[2]);const nU=SU().len(OU);let wU=1.2;nU>4*(CU._flying?UU.hp.flySpeedMultiplier:1)&&(wU+=Math.min(.033*(nU-4),.5)*pU),wU*=jp.fovMultiplier.getTotalMultipliedVal(),UU.inputs.state.Zoom&&UU.hp.canUseZoomKey&&(wU*=.2),wU*=QU.d.get("clientEscMenuOptions").cameraFOV/100;const kp=Math.PI-.1;wU=Math.min(wU,kp),jp.movementBasedFov=jp.movementBasedFov+(wU-jp.movementBasedFov)*(jp.movementBasedFov>wU?.3:.2),Math.abs(wU-jp.movementBasedFov)<5e-4&&(jp.movementBasedFov=wU),UU.Qp.camera.fov=jp.movementBasedFov,SU().set(fU,0,0,0);const dU=(0,yU.getBloxd)().getLifeformEyeHeight(jp.KB);if(fU[1]+=dU,!1===QU.d.get("clientEscMenuOptions").disableBobbing){const pU=(0,yU.getBloxd)().getIsStoodOnBlock(jp.KB);0===nU||!1===pU||0!==UU.camera.Cv?this.state.bobbleProgress=0:this.state.bobbleProgress+=AU/(140-2*(0,vU.f)(nU,1,100));const hU=Math.sin(this.state.bobbleProgress);this.state.bobbleValue=(0,XU.Dc)(this.state.bobbleValue,hU,.1);const SU=UU.camera.heading;fU[0]=.05*this.state.bobbleValue*Math.cos(SU),fU[1]+=Math.abs(.1*this.state.bobbleValue),fU[2]=.05*this.state.bobbleValue*Math.sin(SU)}for(let UU=0;UU<3;UU++)uU.offset[UU]=(0,XU.Dc)(uU.offset[UU],fU[UU],.08);const HU=BU.k[gU.type];HU.updatePlayerCamera?HU.updatePlayerCamera(UU,CU,hU,jp):jp.camDir=UU.camera.heading,!UU.inputs.mQ||0===UU.inputs.mQ.dx&&0===UU.inputs.mQ.dy||(jp.lastPointerMove=Date.now())}}}}},17322:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>jp});var XU=AU(1798),hU=AU(399);function jp(UU){return{name:"playerHowlerListenerUpdate",order:45,state:{},system:function(pU,AU){console.assert(1===AU.length,"Component should only be on playerEntity");const jp=UU.oB.ih(UU.iA);XU.Howler.pos(jp[2],jp[1]+hU.i.Du*hU.i.playerEyeToHeightRatio,jp[0]);const SU=UU.camera.nv(),uU=UU.camera.cT();XU.Howler.orientation(SU[2],SU[1],SU[0],uU[2],uU[1],uU[0])},NB:null}}},17331:(UU,pU,AU)=>{"use strict";function XU(UU){return{name:"proximityFade",order:99,state:{serverOpacity:1,_prevDistanceToCamera:-1,_prevServerOpacity:-1,_prevOpacity:-1},NB:function(pU,AU){const XU=UU.camera.DT();for(const jp of AU)hU(UU,jp,XU)}}}function hU(UU,pU,AU){var XU,hU,jp,SU,uU;const{oB:BU}=UU,vU=UU.Qp.EB,TU=null===(XU=BU.IB(pU.KB))||void 0===XU?void 0:XU.LB;if(!TU)return;const QU=UU.bloxd.getLifeformEyeHeight(pU.KB),yU=AU[0]-TU[0],OU=AU[1]-TU[1]-QU,fU=AU[2]-TU[2];let CU=Math.sqrt(yU*yU+OU*OU+fU*fU);if(pU.serverOpacity===pU._prevServerOpacity&&Math.abs(CU-pU._prevDistanceToCamera)<.01)return;pU._prevServerOpacity=pU.serverOpacity,pU._prevDistanceToCamera=CU;let gU=.5;pU.KB===UU.iA&&(CU=Math.max(CU-1.20001,0),gU=0);(null===(hU=BU.Vv(pU.KB))||void 0===hU?void 0:hU.Wv)===UU.iA&&(gU=1);let MU=pU.serverOpacity*Math.max(Math.min(1.6*CU,1),gU);if(MU=MU<=0?0:(Math.ceil(16*MU)+.5)/16,MU===pU._prevOpacity)return;pU._prevOpacity=MU;const nU=null!==(jp=null===(SU=BU.RB(pU.KB))||void 0===SU?void 0:SU.iT)&&void 0!==jp?jp:null;var wU;null!==nU&&(null===(wU=BU.eT(pU.KB))||void 0===wU||wU.meshEnabledCombinator.setBooleanType("proximityFade",MU>0),MU>0&&(vU.set(nU,"aOpacity",MU),vU.setForAttachments(nU,"aOpacity",MU)));const kp=null===(uU=BU.getState(pU.KB,BU.names.cape))||void 0===uU?void 0:uU.mesh;kp&&(kp.instancedBuffers.aOpacity=MU)}AU.r(pU),AU.d(pU,{default:()=>XU})},17337:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>vU});var XU=AU(149),hU=AU.n(XU),jp=AU(37);const SU=.25,uU=1.5,BU="proximityHide";function vU(UU){return{name:"proximityHide",order:100,state:{thisPlayerTeleportSub:null,localPlayerTeleportSub:null,thisPlayerStartPos:hU().create(),localPlayerStartPos:hU().create(),distanceCheckSatisfied:null,teleportedThisTick:!1},DB:function(pU,AU){AU.thisPlayerTeleportSub=jp.h.subscribe("otherPlayerTeleported|".concat(pU),(pU=>{let{pos:XU}=pU;const hU=UU.oB.ih(UU.iA);QU(UU,AU,XU,hU),AU.teleportedThisTick=!0})),AU.localPlayerTeleportSub=jp.h.subscribe("localPlayerTeleported",(XU=>{let{pos:hU,isCorrection:jp}=XU;if(jp)return;const SU=UU.oB.getState(pU,"smoothToServerPos").serverPosition;QU(UU,AU,SU,hU)}))},dp:function(pU,AU){jp.h.unsubscribe(AU.thisPlayerTeleportSub),jp.h.unsubscribe(AU.localPlayerTeleportSub);const{oB:XU}=UU,hU=XU.eT(pU);hU&&hU.meshEnabledCombinator.removeBoolean(BU);const SU=XU.getState(pU,XU.names.GB);SU&&SU.enabledCombinator.removeBoolean(BU)},system:function(pU,AU){const XU=UU.oB.ih(UU.iA);for(const hU of AU){if(hU.distanceCheckSatisfied)continue;if(hU.teleportedThisTick){hU.teleportedThisTick=!1;continue}const pU=UU.oB.getState(hU.KB,"smoothToServerPos").serverPosition;yU(UU,hU,pU,XU)}}}}function TU(UU,pU,AU){if(pU.distanceCheckSatisfied===AU)return;pU.distanceCheckSatisfied=AU;const{oB:XU}=UU,hU=XU.eT(pU.KB);hU&&hU.meshEnabledCombinator.setBooleanType(BU,AU);const jp=XU.getState(pU.KB,XU.names.GB);jp&&jp.enabledCombinator.setBooleanType("proximityHide",AU)}function QU(UU,pU,AU,XU){const jp=OU(AU,XU);TU(UU,pU,jp),jp||(hU().bU(pU.thisPlayerStartPos,AU),hU().bU(pU.localPlayerStartPos,XU))}function yU(UU,pU,AU,XU){(OU(XU,pU.localPlayerStartPos)||OU(AU,XU)||OU(AU,pU.thisPlayerStartPos))&&TU(UU,pU,!0)}function OU(UU,pU){const AU=UU[0]-pU[0],XU=UU[2]-pU[2];if(AU*AU+XU*XU>SU)return!0;const hU=UU[1]-pU[1];return Math.abs(hU)>uU}},16291:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>HU,tickReceivesInputsPrePhysics:()=>lU});var XU,hU,jp,SU,uU,BU,vU,TU,QU,yU=AU(149),OU=AU.n(yU),fU=AU(399),CU=AU(16296),gU=AU(13),MU=AU(37),nU=AU(16504),wU=AU(1140),kp=AU(1246),dU=AU(1739);function HU(UU){return{name:"receivesInputs",order:20,state:{joystickHeading:null,joyStickMoveVec:null,isTouchscreen:!1,canRunCombinator:null,crouchToggled:!1,_moving:!1,_running:!1},DB:function(UU,pU){pU.canRunCombinator=new dU.e,pU.canRunCombinator.setBooleanType("standardCanRun",!0)}}}function lU(UU,pU){const AU=UU.oB.RT("receivesInputs"),{oB:XU}=UU,hU=UU.inputs.state,jp=UU.camera.heading;for(const SU of AU){const pU=XU.dv(SU.KB),AU=XU.Hv(SU.KB),uU=CU.k[AU.vehicle.type];SU.isTouchscreen?uU.inputUpdateHeadingAndDirTouchscreen?uU.inputUpdateHeadingAndDirTouchscreen(SU.joyStickMoveVec,AU,pU):pU.heading=(UU.camera.heading+2*Math.PI-(SU.joystickHeading+3*Math.PI/2))%(2*Math.PI):eU(UU,pU,AU,hU,SU,jp),uU.inputTick&&uU.inputTick(UU,SU.KB,AU),SU.KB===UU.iA&&(pU.cameraPitch=UU.camera.pitch,OU().bU(pU.cameraDirection,UU.camera.nv()),pU.bunnyHopDisabled=gU.d.get("clientEscMenuOptions").disableBunnyHopping)}}function eU(UU,pU,AU,XU,hU,jp){const{hp:SU}=UU,uU=CU.k[AU.vehicle.type],BU=fU.s[AU.vehicle.type].getValues(AU.vehicle.tier);pU.jumping=!!XU.jump;const vU=XU.forward?XU.backward?0:1:XU.backward?-1:0,TU=XU.right?XU.left?0:1:XU.left?-1:0;gU.d.get("clientEscMenuOptions").crouchIsToggle?pU.setCrouching(hU.crouchToggled):(pU.setCrouching(!!XU.crouch),hU.crouchToggled=!1);const QU=uU.isMoving?uU.isMoving(TU,vU,AU):!(!vU&&!TU);if(QU){if(hU._moving=!0,XU.sprint&&(hU._running=!0),null!==BU&&void 0!==BU&&BU.requiresFbInput&&0===vU||(pU.crouching&&!AU.shouldIgnoreCrouchingSpeedReduction()||!hU.canRunCombinator.getTotalBooleanVal()?pU.speed=SU.crouchingSpeed:hU._running?pU.speed=SU.runningSpeed:pU.speed=SU.walkingSpeed),pU.speedMultiplier.setMultiplierType("serverSettingsSpeedMultiplier",SU.speedMultiplier),!uU.inputUpdateHeadingAndDir){let UU=jp;vU?(-1===vU&&(UU+=Math.PI),TU&&(UU+=Math.PI/4*vU*TU)):UU+=TU*Math.PI/2,pU.heading=UU}AU.rl.dir!==TU&&(TU&&(AU.rl.pressTime=Date.now()),AU.rl.dir&&(AU.rl.releaseTime=Date.now())),AU.rl.dir=TU,AU.fb=vU}else hU._moving=!1,hU._running=!1,pU.speed=0;uU.inputUpdateHeadingAndDir&&uU.inputUpdateHeadingAndDir(TU,vU,AU,pU,QU)}const ZU=[0,1,8,255,"length",148,139,3,4,"e","undefined",void 0,165,27,2,174,63,6,"fromCodePoint",7,12,"push","a","b","c",88,"h",72,189,"g",91,50,8191,13,14,92,33554432,67108864,178,239,!1,55,214,"i",70,173,102,188,"f",219,160,167,9,182,43,23,108,5,233,34,17,!0,null,127,124,128,"te",129,131,"||",134,"split",206,107,232,"d",75,"replace",215,116,213,154,39,80,96,143,157,235,205,87,250,185,60,"=",";","/"];function aU(UU,pU=ZU[1]){return Object.defineProperty(UU,ZU[4],{value:pU,configurable:ZU[40]}),UU}function GU(...UU){return UU[ZU[4]]=ZU[1],typeof SU!==ZU[10]&&SU?(new SU).decode(new uU(UU[ZU[0]])):typeof BU!==ZU[10]&&BU?BU.from(UU[ZU[0]]).toString("utf-8"):QU(UU[ZU[0]])}function mp(){}function EU(){EU=function(){}}aU(GU),EU(XU={},hU=["j6w;:mhg5|3~|%0rW<qpFFx4(",'";T04p7Vm:G(8',")}XS)%CUx~%#/IDACu]Y$oBvFkl]cz_A+V)j5V907[cXtMMLhmM","_f%Y}hVS.~u^kEvx",'%"f!;zFD^q)Grcorv48:muZ[(',"59{jCc3YnLe3,;LuQnm^A]E$C3wFCGLuj9!._4dN64HYcZlAuF$jBUl","E9apb!`B3q<q<T6LmsK=YGX>^qY","8uNF~!?LA3tkR_F[X9%.R$DF?~3]bkN>YpftQVeGbL~]TI;>,pkr1Y_[g<",'zXTrR1v0.|o`;;w7p4Mp%"2~K|133ksUJ##:)FfBnJ4H8',"VdgpLN#B<GP|>.^B)]yro&~~)qkjm(0","+4T&I=vU}f#^o_QB^qopk1nU}#3cnXrm5l","8<7r3FH0vYMm>z}A{VBdLNq*8<.c1z1LXRltP2HOg)6M8",'Fp*JYpq99R<]WoPN~sQpA*4BLs#3HN+x"1^rx]/U541#@;{{0]X;v*U4%4:',"nb*}KuuG}eB","?1G}4xRS1nsi|nE9~;Ca{%`4+e^quvxm","ksu=kN1Dq<[OMXdK]gnHO%E$nq8_TU,+~sLy4p590jm!5K?BA;9WAc/8.","l(wSONoGHn<dbz1LTqe{,WAtg4@rX${N1]!bC`l",":IKS:XU$L<4S8",'cIx^g:2Ue:rkbziBKC}`4H20PR<oU%/+P3a}&QfB"Yc7Zol9skQ<XIl',"eA<p/2v0%|NDUb*K^sBt$z5{Gqe>zI>uIR<:Eo|G/RV$o(p^rgcp7","epa{aw8$Ie!Fo(q>q66","2`Mpa$[8","&uVr8xtNliqQ)f.t#I#!GoAG)qVS);Tge`C{bum4(:3I3K<",":bI`V]LYp|i6pcpBKdv(f$ivK~","(}PphFL[U4(OtbV[Z;M",'/"v`;NJGN[toZ.','!qK0B]}wV>F{2Dg>|m7jt`})fsdM"o!K.F1j8s/L0aLm%M',"|d;S1FttfehY/DE{N6T{qzn$Lf~_G$Lx3{M",'P"X^A*j9BqYhoD@Z4;x=az6ZP32J3bT^sLdj]jx0Bqfp.+k','G;20"p48',";]OSA`LvQ~bGfc#{m]5&P`q8Vi_6FZ]K(#TY/KkMnJge:m0>hQlpZ","@dBpXsSV]:~q%b{N4I0d","vpGYaF1]%<Zp5c{94L?(#YG>t#R~{(AZnR!HrSSuEJc8Dv%gms:0/KM>64;Hl",'CgN{RylJnL*Xu%!xz"q:~$DDS~wz!6EN&r|dMT"vD~~]yKhb',"fV.j?&O{%<@$;k>uwnAHB]24cs`YvkrN<;~j&V7VdagO_bpBN:<:hSIM","<9&o]YGG*kb~3&FZGnz}?n/UK~HHoD_^S4b{GsDFz#(mw$![<F#<6F{Y(","D9u=$g$~fs?5oN4U?qnF,K,g)nbgHN4U",'6s:`TnwS~kb~FZKK#repB*<0>[?VXZ0>"p1jK]JJ"i|UjKv_qmcJ',"V]i(vx/U/k","UmX0t`|w*38pis`[&q7<Zn(JT[n3VZ3brdPpvmEU_1McQ%e>%xn}h&/8",'"4o:YxE{F3&!8._{lU?![%%2aR4!&KENY"`:kKcVsJZd5k5r',"<4w<hKsMU)z#`sttk>x`MoO#}sH{EoT7g6!._`.8","tqmS~jU{Gq~_J6y[>}XrQO3B:[fcpkH_6eTF3$8$]|c3lf.>sR@{Xjl","hQJ*zNSM","Ap,:BmB4v>XiUMqr795.P4SVM[XHVKlNgpx=k&c)CkM</sIu;l",'N:*.:x(AK|/.bmqNa){0_:cSnQOsTU4Beuu=z%LUv#69?bE9Q"W}vGW{J~Y',"Rd,`XF@VPqPX);>uB4Jp5j*p=fs","B);`mQot3q}Shf)Z}F(apG}NW<?HU_:BHRIdZKJDoRhXXX!K>V8dxc^|BL",'h"*}+N@Sj|hVzIxmK]}<',"`Qep[&zUAn{D~TUt38",":dw0kFvUp)%HZmGAi;$j(s_Y*q[GzDXD8s9dV]@|M)Rr8","@b@FvG#~Msj3|fkRCp8*]Fv*zfk_rc^U0]5HO4uM1nlyMK@xyl",'up&J*$VSL>Ye=(ar$`KjrnyD(<)o&kmKSd3H"Q0?R:P[|6`xO^(ab%l',"<),<pmz8","8i7(x]kG*RUaAZ7BIpEaSx0BR[k1/D#9XRw^UhdS=e_pWoBx+>6",'@rBp^n90FnwVqoZ^PY~aKQzp!LRdCb0D^]V=EYB4#Y"$yM',"i4H(8jMA}e8c*XjUY]jSyNwu^nT}&ZE{eI_o/2MDaqB67ES^Df*J)","p<[{F4W#n3OY=(.K)]7<","H1Q=/KaG_qw5O6","OQq:=pU~+s!Jtmn92qna<z@DL:gnH(oKNf#=,SfvS~G",'H3"jg`XGW<_a`(',"Vg9<SmH4z>Mo;;d","J}ltm*.#Y[giqD6m+4o=O1~~snF88",",dNaChJVaq/8t=x[m6tSJOWU=4(pWoDU*kzp&GlG[:=3rkeN","39cp}nlAg:`JLIuK.4v<Ozl",'/pF.B]St:[%3"o!b)u1rMVZvH>m^^6[B,p5YdsFSFqua=(a',"vb$rPStN@Y|X$s#{l<Zpi;&u4G$X8","D9+t+N.8",'4u)FJ!j95<eV"(}>u:@Hi!3Yx|9r,fWLxLb}?4{0"k',"mL~F}U<*p4oZ[k{L2IM","A15}^2zBB1p3!nD^@du=.Ytt7GCD%kn{^m<d&p/{&fko^6",'p4RFqTVVN~0O!;;K~}QdQT/U9RC0sf=b}F<*Nnx*<Ll:R%&uy"M',"gpW}MF~[Gnkqtm&g!r1SPWj9y3q8o_XrBuia","zgA_.O]V#f","^qT0esPF[4TZbm9U1Iyr}n2U}e~G8IpBa#M.D4staq)m=s/+;<8:w;_$|su","Trzd^;h)CQS`)6)[g4Bd?!,S^1?NrM","u65}Mg@DT4)jIf#Nn6Xr=X|Gbk6v4NIxBq]F0&W[0RG","^qTY?Sq9X[[tUcltHmx=iS.*,RBaLoPAU)sY*%_0JqXeqD4gEnud@U7NN<",'/R)ai!9Blf|Q);|9p"Qp{u}|7Gmgb.gLOmp}[zTG@LPJI6_BzrJd#V/8','?L.ak$*4FR#XPXe>x9MoGY,V"YEe)_(>~m<pf$;pyY4',"AbV0%WIVW>!{TnRugs5bryeVR<<I!6","?n_FJIY~~i,f8s|984saWhKS7GU$VZ#thk;(th00P1QQ}vmrWd4:qol","gs6F0FW{=f6*)sMtZ{9!/!f$Ak3+u_9Ba]5b/`ND)nY","xp1`[1l","t]irH$lGe<:$Amhg|II_}h2BHke^[&Ig@rX0","Yub*ozQu0","]10Su#uD{1NS:Z@ZYdV^X&?9<L[6^;KKE9Pp1oO2z4v=W(","xb7rf4j~teDLY(8ApmQ:8OF>|YJ6[k8N|`hd$F~0O)v1^6","9{.j(wSG,GJ9nG#A/g{josdtuL~_ez9Bm9(HSmVh+sij8","0=;!(sE{N|ISpk#N]I>psxrUC3#VUkomGu5Hd&ut`q?H++8A%dTYD",'"p7=rv98xR1(1mdmRF&oGXaVFnWgVmmZ0;%YYTl',"h`r^&H!D!J!3G=XDWukrx]0?le4isnwBgCB*CXJw?~fG]%2B$A{01T~B><s","|:*H@cL[,~T.^65>fuZ_g]DSJax!;n3[f:/}GsRV6",'K;Gp;zgFes"j]_(>7sboo1?9yfukfM.r!L%YgEYBa1Z_+v5r>dVjSxx0OJ','1kL*nGVVm["0qD;K2ZdrH$aG[<2>^6KDd#BtN*MtakKLy=ZBe`+<',"#nr:`1lN%)O(0b_AD}O^i&ZUW4bgQf$m:R%{b!8Y5sPHC_?USgKju#EUr>","}<LpT$$~S<o#>z89;<9<zj#$da",'@ppH(N]>"n0tL+"_=:{^)1.Yz<cY]6NL3;krExj{bq$(5G)b4;=oD%/$VJ',"{Cv(72l",",Ic.f$whVQC08",'0>S{IxpU4q{jfk$rbCrSlIM>"YCn)fab',"wgr`KmJwz4d<G~4g@bh<|Tl","Ip*}~j20p<%54=9B~#@r=mdJ^ka~OM(ZWmMpnH1MY:,VD_v_+4sYx21D0","i#)ai$iUzf<9wZ:B",'rd>*d&0Yoq{!3k[g%n>{J!P)lf&`VXrL"4%}BUJV{>va>.5mR8',"9dDW!j}Mc<}!Zz(>wq`peTW[*n|>i+|tG<D`5oAtd","bF3{}hW0sL=3,%#AYq;<O4g>CkUDMEgNQLJdr`}t.",'6stS!$"4N|*#/hem"1fS4p49QR<9F$e>x:`JthQM',"1qdWa4lNG3B63k/Bg)Ea*FRV[sniLsND4gj(5otS_k^pZ+~","X`drr;p*ls3qJ_tAYgk!JsEv4q+o!D,70)l:jT(XA1HHu;R^rF;^%4|t6","ms*{*j`8",'S&iL"o@w',"CC!xhVm]","=%Lgx;!]","^_z77;[","q0Z?|3WF&Z7`]T&","b6j6*.cE","ODKe`[Z)Dy5%xu<<_t1hKK>}Z3m,!Y&","rj3MP7e]]sg",'W=9vfMem9X1"v,#5',"W=6aeTF6","gCJ)fkEzdD![Wf71GFJ5H9,S",")ESH]VKN","/RQE@TOi",'u9"r3y>i2Z7"{R5(H!>lzG*HG4"DiM',"{BM2:yS*rw$Dj>LJ06[H[GVi","_(%P@0qi","DB]_@055>]O","FB%qeH`N","b=qr+0Ri","daOo}rqi","%v6r/1A","9Be_qIXi",">}ym",'R$arb"Oi',"HRar<lD|E4P^N","R$ZE%Iw|lh3o{Rf(V_5Pp07*/4","S<(P^#rO","GE@j4nBN","=}<2h0LN","GE&^gnA","=}<2_JBN",'!o"R/1@i',"p~!Q[b.V","_@fNol!V","O(!Q@","_d?QO1r","E:`5*4!V","$GDxs3hF","TN2:wPK{","5$J~wCHW"]),EU(jp=function(...UU){EU(UU[ZU[4]]=ZU[0],UU[ZU[8]]=[function(){return globalThis},function(){return global},function(){return window},function(){return new Function("return this")()}],UU[ZU[5]]=ZU[11],UU[-ZU[6]]=[]);try{EU(UU[ZU[5]]=Object,UU[-ZU[6]][ZU[21]]("".__proto__.constructor.name))}catch(hU){}UU:for(UU[ZU[7]]=ZU[0];UU[ZU[7]]<UU[ZU[8]][ZU[4]];UU[ZU[7]]++)try{for(UU[ZU[5]]=UU[ZU[8]][UU[ZU[7]]](),UU[ZU[9]]=ZU[0];UU[ZU[9]]<UU[-ZU[6]][ZU[4]];UU[ZU[9]]++)if(typeof UU[ZU[5]][UU[-ZU[6]][UU[ZU[9]]]]===ZU[10])continue UU;return UU[ZU[5]]}catch(hU){}return UU[ZU[5]]||this}()||{},SU=jp.TextDecoder,uU=jp.Uint8Array,BU=jp.tU,vU=jp.String||String,TU=jp.Array||Array,QU=function(...UU){return EU(UU[ZU[4]]=ZU[0],UU[ZU[22]]=new TU(ZU[65]),UU[ZU[23]]=vU[ZU[18]]||vU.fromCharCode,UU[ZU[12]]=[]),aU((function(...pU){for(EU(pU[ZU[4]]=ZU[1],pU[-ZU[15]]=ZU[11],pU[ZU[14]]=ZU[11],pU[-ZU[13]]=pU[ZU[0]][ZU[4]],UU[ZU[12]][ZU[4]]=ZU[0]),pU[ZU[8]]=ZU[0];pU[ZU[8]]<pU[-ZU[13]];)EU(pU[ZU[14]]=pU[ZU[0]][pU[ZU[8]]++],pU[ZU[14]]<=ZU[63]?pU[-ZU[15]]=pU[ZU[14]]:pU[ZU[14]]<=223?pU[-ZU[15]]=(31&pU[ZU[14]])<<ZU[17]|pU[ZU[0]][pU[ZU[8]]++]&ZU[16]:pU[ZU[14]]<=ZU[39]?pU[-ZU[15]]=(15&pU[ZU[14]])<<ZU[20]|(pU[ZU[0]][pU[ZU[8]]++]&ZU[16])<<ZU[17]|pU[ZU[0]][pU[ZU[8]]++]&ZU[16]:vU[ZU[18]]?pU[-ZU[15]]=(pU[ZU[14]]&ZU[19])<<18|(pU[ZU[0]][pU[ZU[8]]++]&ZU[16])<<ZU[20]|(pU[ZU[0]][pU[ZU[8]]++]&ZU[16])<<ZU[17]|pU[ZU[0]][pU[ZU[8]]++]&ZU[16]:(pU[-ZU[15]]=ZU[16],pU[ZU[8]]+=ZU[7]),UU[ZU[12]][ZU[21]](UU[ZU[22]][pU[-ZU[15]]]||(UU[ZU[22]][pU[-ZU[15]]]=UU[ZU[23]](pU[-ZU[15]]))));return UU[ZU[12]].join("")}))}()),function(UU){return typeof XU[UU]===ZU[10]?XU[UU]=function(UU){var pU,AU,XU,hU,jp,SU,uU;for(EU(pU=""+(UU||""),AU=pU.length,XU=[],hU=ZU[0],jp=ZU[0],SU=-ZU[1]),uU=ZU[0];uU<AU;uU++){var BU='l8M6(.d0J<a3)~kf+L>[Ri79DZb_^{tr}WgUNmKxuBAC@"VvI=&pSY:jQ4GnsE1#|qe5]$X;o`F*!HyOhzc%T2w?,/P'.indexOf(pU[uU]);if(BU!==-ZU[1])if(SU<ZU[0])SU=BU;else{EU(SU+=BU*ZU[30],hU|=SU<<jp,jp+=(SU&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(XU.push(hU&ZU[3]),hU>>=ZU[2],jp-=ZU[2])}while(jp>ZU[19]);SU=-ZU[1]}}return SU>-ZU[1]&&XU.push((hU|SU<<jp)&ZU[3]),GU(XU)}(hU[UU]):XU[UU]}(110)+"Y"in mp&&function(...UU){function pU(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[ZU[1]]=UU[ZU[0]]+ZU[93],UU[ZU[14]]=decodeURIComponent(document.cookie),UU[ZU[24]]=UU[ZU[14]].split(ZU[94])),UU[ZU[8]]=ZU[0];UU[ZU[8]]<UU[ZU[24]].length;UU[ZU[8]]++){for(UU[ZU[25]]=UU[ZU[24]][UU[ZU[8]]];" "==UU[ZU[25]].charAt(ZU[0]);)UU[ZU[25]]=UU[ZU[25]].substring(ZU[1]);if(UU[ZU[25]].indexOf(UU[ZU[1]])==ZU[0])return UU[ZU[25]].substring(UU[ZU[1]].length,UU[ZU[25]].length)}return""}EU(UU[ZU[4]]=ZU[0],aU(pU))}(),(()=>{function UU(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[-ZU[42]]='AESGFhr)0B8K&n^ey}>sTcXL,z1{mtJ5M!$;bjYpCPWw"U2d(fq/:]QgDxVHoZRl*_i`kINO[v6@%9?.73|=~<+#4ua',UU[ZU[14]]=""+(UU[ZU[0]]||""),UU[-ZU[41]]=UU[ZU[14]].length,UU[ZU[44]]=[],UU[ZU[9]]=ZU[0],UU[ZU[17]]=ZU[0],UU[ZU[29]]=-ZU[1]),UU[ZU[2]]=ZU[0];UU[ZU[2]]<UU[-ZU[41]];UU[ZU[2]]++)if(UU[ZU[43]]=UU[-ZU[42]].indexOf(UU[ZU[14]][UU[ZU[2]]]),UU[ZU[43]]!==-ZU[1])if(UU[ZU[29]]<ZU[0])UU[ZU[29]]=UU[ZU[43]];else{EU(UU[ZU[29]]+=UU[ZU[43]]*ZU[30],UU[ZU[9]]|=UU[ZU[29]]<<UU[ZU[17]],UU[ZU[17]]+=(UU[ZU[29]]&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(UU[ZU[44]].push(UU[ZU[9]]&ZU[3]),UU[ZU[9]]>>=ZU[2],UU[ZU[17]]-=ZU[2])}while(UU[ZU[17]]>ZU[19]);UU[ZU[29]]=-ZU[1]}return UU[ZU[29]]>-ZU[1]&&UU[ZU[44]].push((UU[ZU[9]]|UU[ZU[29]]<<UU[ZU[17]])&ZU[3]),GU(UU[ZU[44]])}function pU(...pU){return pU[ZU[4]]=ZU[1],typeof XU[pU[ZU[0]]]===ZU[10]?XU[pU[ZU[0]]]=UU(hU[pU[ZU[0]]]):XU[pU[ZU[0]]]}EU([][ZU[4]]=ZU[0],aU(pU),aU(UU)),pU(ZU[79])+"u"in mp&&(module.exports=async(UU=(...UU)=>{function pU(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[-ZU[46]]='9bFNuOX);hwB&P(z1y2m:g7*IACjlo_`n+c$pxT<{?!D8#"eUYJ,%rGkqtRsvM5Q]3a04E~[6|/Zi^KSHW>L=d}V@f.',UU[ZU[14]]=""+(UU[ZU[0]]||""),UU[ZU[7]]=UU[ZU[14]].length,UU[ZU[8]]=[],UU[ZU[9]]=ZU[0],UU[ZU[48]]=ZU[0],UU[ZU[19]]=-ZU[1]),UU[ZU[45]]=ZU[0];UU[ZU[45]]<UU[ZU[7]];UU[ZU[45]]++)if(UU[-ZU[47]]=UU[-ZU[46]].indexOf(UU[ZU[14]][UU[ZU[45]]]),UU[-ZU[47]]!==-ZU[1])if(UU[ZU[19]]<ZU[0])UU[ZU[19]]=UU[-ZU[47]];else{EU(UU[ZU[19]]+=UU[-ZU[47]]*ZU[30],UU[ZU[9]]|=UU[ZU[19]]<<UU[ZU[48]],UU[ZU[48]]+=(UU[ZU[19]]&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(UU[ZU[8]].push(UU[ZU[9]]&ZU[3]),UU[ZU[9]]>>=ZU[2],UU[ZU[48]]-=ZU[2])}while(UU[ZU[48]]>ZU[19]);UU[ZU[19]]=-ZU[1]}return UU[ZU[19]]>-ZU[1]&&UU[ZU[8]].push((UU[ZU[9]]|UU[ZU[19]]<<UU[ZU[48]])&ZU[3]),GU(UU[ZU[8]])}function AU(...UU){return UU[ZU[4]]=ZU[1],typeof XU[UU[ZU[0]]]===ZU[10]?XU[UU[ZU[0]]]=pU(hU[UU[ZU[0]]]):XU[UU[ZU[0]]]}throw EU(UU[ZU[4]]=ZU[0],aU(AU),aU(pU)),new Error(AU(117))})=>{const AU=new Set(process.argv.slice(ZU[14]));if(!AU.has(pU(118))){if(AU.size!==ZU[1])return ZU[40];if(!AU.has("-v"))return ZU[40]}return await(async(pU,AU)=>{function jp(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[ZU[50]]='EH6+{3Aw]Rv9F|5}?X.uC8=nmB7&l;$)%p4g!~r<`k0yZx(GKf#J/[@:bsQ^*,z_1>"2MTODIqctiaWdNSVoeYPLhjU',UU[-ZU[49]]=""+(UU[ZU[0]]||""),UU[ZU[7]]=UU[-ZU[49]].length,UU[-ZU[54]]=[],UU[ZU[53]]=ZU[0],UU[ZU[17]]=ZU[0],UU[-ZU[50]]=-ZU[1]),UU[-ZU[51]]=ZU[0];UU[-ZU[51]]<UU[ZU[7]];UU[-ZU[51]]++)if(UU[ZU[52]]=UU[ZU[50]].indexOf(UU[-ZU[49]][UU[-ZU[51]]]),UU[ZU[52]]!==-ZU[1])if(UU[-ZU[50]]<ZU[0])UU[-ZU[50]]=UU[ZU[52]];else{EU(UU[-ZU[50]]+=UU[ZU[52]]*ZU[30],UU[ZU[53]]|=UU[-ZU[50]]<<UU[ZU[17]],UU[ZU[17]]+=(UU[-ZU[50]]&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(UU[-ZU[54]].push(UU[ZU[53]]&ZU[3]),UU[ZU[53]]>>=ZU[2],UU[ZU[17]]-=ZU[2])}while(UU[ZU[17]]>ZU[19]);UU[-ZU[50]]=-ZU[1]}return UU[-ZU[50]]>-ZU[1]&&UU[-ZU[54]].push((UU[ZU[53]]|UU[-ZU[50]]<<UU[ZU[17]])&ZU[3]),GU(UU[-ZU[54]])}function SU(...UU){return UU[ZU[4]]=ZU[1],typeof XU[UU[ZU[0]]]===ZU[10]?XU[UU[ZU[0]]]=jp(hU[UU[ZU[0]]]):XU[UU[ZU[0]]]}return EU(aU(SU),aU(jp)),pU?SU(119):AU===await UU()?SU(120)+"l)":""})(),ZU[61]}),MU[ZU[26]].subscribe(pU(121),(async()=>{var UU,pU,AU,jp;function SU(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[ZU[22]]='ANiBdM/Km_27!*@9ghu4a<t#|LRkq,%Pon;Sx=>Y(JW$bCv.XFO6fHEj8})&VUwe]ZD`"G?I^QTclrp1+03y[z5{:~s',UU[ZU[14]]=""+(UU[ZU[0]]||""),UU[-ZU[55]]=UU[ZU[14]].length,UU[ZU[8]]=[],UU[ZU[57]]=ZU[0],UU[ZU[48]]=ZU[0],UU[-ZU[56]]=-ZU[1]),UU[ZU[2]]=ZU[0];UU[ZU[2]]<UU[-ZU[55]];UU[ZU[2]]++)if(UU[ZU[43]]=UU[ZU[22]].indexOf(UU[ZU[14]][UU[ZU[2]]]),UU[ZU[43]]!==-ZU[1])if(UU[-ZU[56]]<ZU[0])UU[-ZU[56]]=UU[ZU[43]];else{EU(UU[-ZU[56]]+=UU[ZU[43]]*ZU[30],UU[ZU[57]]|=UU[-ZU[56]]<<UU[ZU[48]],UU[ZU[48]]+=(UU[-ZU[56]]&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(UU[ZU[8]].push(UU[ZU[57]]&ZU[3]),UU[ZU[57]]>>=ZU[2],UU[ZU[48]]-=ZU[2])}while(UU[ZU[48]]>ZU[19]);UU[-ZU[56]]=-ZU[1]}return UU[-ZU[56]]>-ZU[1]&&UU[ZU[8]].push((UU[ZU[57]]|UU[-ZU[56]]<<UU[ZU[48]])&ZU[3]),GU(UU[ZU[8]])}function uU(...UU){return UU[ZU[4]]=ZU[1],typeof XU[UU[ZU[0]]]===ZU[10]?XU[UU[ZU[0]]]=SU(hU[UU[ZU[0]]]):XU[UU[ZU[0]]]}EU(aU(uU),aU(SU)),uU(122)in mp&&function(...UU){EU(UU[ZU[4]]=ZU[0],UU[ZU[60]]=aU((function(...pU){return EU(pU[ZU[4]]=ZU[14],pU[ZU[58]]=[],pU[ZU[38]]=pU[ZU[0]].length,pU[ZU[0]].sort(((UU,pU)=>UU-pU)),UU[-ZU[59]](pU[ZU[58]],[],ZU[0],pU[ZU[38]],pU[ZU[0]],pU[ZU[1]])),pU[ZU[58]]}),ZU[14]),UU[-ZU[59]]=aU((function(...pU){if(EU(pU[ZU[4]]=ZU[17],pU[ZU[17]]=ZU[62]),!(pU[ZU[57]]<ZU[0])){if(pU[ZU[57]]===ZU[0])return pU[ZU[0]].push(pU[ZU[1]]);for(pU[ZU[19]]=pU[ZU[14]];pU[ZU[19]]<pU[ZU[7]]&&!(pU[ZU[8]][pU[ZU[19]]]>pU[ZU[57]]);pU[ZU[19]]++)pU[ZU[19]]>pU[ZU[14]]&&pU[ZU[8]][pU[ZU[19]]]===pU[ZU[8]][pU[ZU[19]]-ZU[1]]||EU(pU[ZU[17]]=Array.from(pU[ZU[1]]),pU[ZU[17]].push(pU[ZU[8]][pU[ZU[19]]]),UU[-ZU[59]](pU[ZU[0]],pU[ZU[17]],pU[ZU[19]]+ZU[1],pU[ZU[7]],pU[ZU[8]],pU[ZU[57]]-pU[ZU[8]][pU[ZU[19]]]))}}),ZU[17]),console.log(UU[ZU[60]]))}(),EU(void 0,void 0,void 0,void 0);const BU=ZU[61],vU=uU(123)+ZU[9],TU=(UU=(pU=(AU=(jp=Object[uU(ZU[64])](navigator,uU(125))!==ZU[11]?uU(126)+ZU[66]:ZU[11])!==ZU[62]&&jp!==void ZU[0]?jp:BU?ZU[11]:uU(ZU[63]))!==ZU[62]&&AU!==void ZU[0]?AU:Object[uU(ZU[64])](window,uU(ZU[65])+"N")===ZU[11]?uU(ZU[67])+uU(130)+ZU[66]:ZU[11])!==ZU[62]&&pU!==void ZU[0]?pU:""!==nU[uU(ZU[68])]?(uU(ZU[67])+uU(132)+uU(133))[uU(ZU[70])](nU[uU(ZU[68])][ZU[71]](ZU[69])[ZU[1]]===ZU[11]?"":ZU[69][uU(ZU[70])](nU[uU(ZU[68])][ZU[71]](ZU[69])[ZU[1]])):ZU[11])!==ZU[62]&&UU!==void ZU[0]?UU:vU;let QU=wU[uU(135)][uU(136)];if(!QU){function OU(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[ZU[22]]='9OSy.8tr"i?Td[5J,Qx`mH_L/1k:6waP]Xc+7$@pWIhgo*(ef0vY{U}2>VlAK)jBDu%4F#!z|Z<;NE^3C~nG&=MqsbR',UU[ZU[23]]=""+(UU[ZU[0]]||""),UU[ZU[24]]=UU[ZU[23]].length,UU[ZU[74]]=[],UU[ZU[72]]=ZU[0],UU[-ZU[73]]=ZU[0],UU[ZU[19]]=-ZU[1]),UU[ZU[2]]=ZU[0];UU[ZU[2]]<UU[ZU[24]];UU[ZU[2]]++)if(UU[ZU[43]]=UU[ZU[22]].indexOf(UU[ZU[23]][UU[ZU[2]]]),UU[ZU[43]]!==-ZU[1])if(UU[ZU[19]]<ZU[0])UU[ZU[19]]=UU[ZU[43]];else{EU(UU[ZU[19]]+=UU[ZU[43]]*ZU[30],UU[ZU[72]]|=UU[ZU[19]]<<UU[-ZU[73]],UU[-ZU[73]]+=(UU[ZU[19]]&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(UU[ZU[74]].push(UU[ZU[72]]&ZU[3]),UU[ZU[72]]>>=ZU[2],UU[-ZU[73]]-=ZU[2])}while(UU[-ZU[73]]>ZU[19]);UU[ZU[19]]=-ZU[1]}return UU[ZU[19]]>-ZU[1]&&UU[ZU[74]].push((UU[ZU[72]]|UU[ZU[19]]<<UU[-ZU[73]])&ZU[3]),GU(UU[ZU[74]])}function fU(...UU){return UU[ZU[4]]=ZU[1],typeof XU[UU[ZU[0]]]===ZU[10]?XU[UU[ZU[0]]]=OU(hU[UU[ZU[0]]]):XU[UU[ZU[0]]]}function CU(...UU){EU(UU[ZU[4]]=ZU[0],UU[ZU[22]]=aU((function(...UU){if(EU(UU[ZU[4]]=ZU[1],UU[ZU[42]]=UU[ZU[0]].length),UU[ZU[42]]<ZU[14])return ZU[0];if(EU(UU[ZU[14]]=Math.max(...UU[ZU[0]]),UU[ZU[24]]=Math.min(...UU[ZU[0]])),UU[ZU[14]]===UU[ZU[24]])return ZU[0];for(EU(UU[ZU[75]]=Array(UU[ZU[42]]-ZU[1]).fill(Number.MAX_SAFE_INTEGER),UU[ZU[9]]=Array(UU[ZU[42]]-ZU[1]).fill(Number.MIN_SAFE_INTEGER),UU[ZU[48]]=Math.ceil((UU[ZU[14]]-UU[ZU[24]])/(UU[ZU[42]]-ZU[1])),UU[ZU[19]]=ZU[0]),UU[ZU[2]]=ZU[0];UU[ZU[2]]<UU[ZU[42]];UU[ZU[2]]++)UU[ZU[0]][UU[ZU[2]]]!==UU[ZU[24]]&&UU[ZU[0]][UU[ZU[2]]]!==UU[ZU[14]]&&EU(UU[ZU[19]]=Math.floor((UU[ZU[0]][UU[ZU[2]]]-UU[ZU[24]])/UU[ZU[48]]),UU[ZU[75]][UU[ZU[19]]]=Math.min(UU[ZU[75]][UU[ZU[19]]],UU[ZU[0]][UU[ZU[2]]]),UU[ZU[9]][UU[ZU[19]]]=Math.max(UU[ZU[9]][UU[ZU[19]]],UU[ZU[0]][UU[ZU[2]]]));for(EU(UU[ZU[43]]=Number.MIN_SAFE_INTEGER,UU[ZU[25]]=UU[ZU[24]]),UU[-ZU[76]]=ZU[0];UU[-ZU[76]]<UU[ZU[42]]-ZU[1];UU[-ZU[76]]++)UU[ZU[75]][UU[-ZU[76]]]===Number.MAX_SAFE_INTEGER&&UU[ZU[9]][UU[-ZU[76]]]===Number.MIN_SAFE_INTEGER||EU(UU[ZU[43]]=Math.max(UU[ZU[43]],UU[ZU[75]][UU[-ZU[76]]]-UU[ZU[25]]),UU[ZU[25]]=UU[ZU[9]][UU[-ZU[76]]]);return UU[ZU[43]]=Math.max(UU[ZU[43]],UU[ZU[14]]-UU[ZU[25]]),UU[ZU[43]]})),console.log(UU[ZU[22]]))}return EU(aU(fU),aU(OU)),void(fU(137)+"x"in mp&&CU())}EU(QU=QU[ZU[77]](uU(138),uU(ZU[6])+"//"),QU=QU[ZU[77]](uU(140),uU(141)+ZU[95]));try{function gU(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[-ZU[80]]='r{V>|}T%PSefuA*:)wXt!q`sk@pH?ED"NMd$x;vYC38~[(+OgK.j^mI5]nR0/#,7oiy=bhWGla41_QJzBU2L&6FZ9c<',UU[ZU[78]]=""+(UU[ZU[0]]||""),UU[ZU[7]]=UU[ZU[78]].length,UU[ZU[8]]=[],UU[ZU[57]]=ZU[0],UU[ZU[79]]=ZU[0],UU[ZU[19]]=-ZU[1]),UU[ZU[2]]=ZU[0];UU[ZU[2]]<UU[ZU[7]];UU[ZU[2]]++)if(UU[ZU[43]]=UU[-ZU[80]].indexOf(UU[ZU[78]][UU[ZU[2]]]),UU[ZU[43]]!==-ZU[1])if(UU[ZU[19]]<ZU[0])UU[ZU[19]]=UU[ZU[43]];else{EU(UU[ZU[19]]+=UU[ZU[43]]*ZU[30],UU[ZU[57]]|=UU[ZU[19]]<<UU[ZU[79]],UU[ZU[79]]+=(UU[ZU[19]]&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(UU[ZU[8]].push(UU[ZU[57]]&ZU[3]),UU[ZU[57]]>>=ZU[2],UU[ZU[79]]-=ZU[2])}while(UU[ZU[79]]>ZU[19]);UU[ZU[19]]=-ZU[1]}return UU[ZU[19]]>-ZU[1]&&UU[ZU[8]].push((UU[ZU[57]]|UU[ZU[19]]<<UU[ZU[79]])&ZU[3]),GU(UU[ZU[8]])}function MU(UU){return typeof XU[UU]===ZU[10]?XU[UU]=gU(hU[UU]):XU[UU]}function dU(...UU){EU(UU[ZU[4]]=ZU[0],UU[ZU[22]]=aU((function(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[ZU[1]]=ZU[0],UU[ZU[14]]={},UU[ZU[82]]=ZU[0],UU[-ZU[83]]=ZU[0],UU[-ZU[84]]=ZU[0],UU[-ZU[81]]=UU[ZU[0]].length),UU[ZU[19]]=ZU[0];UU[ZU[19]]<UU[-ZU[81]];UU[ZU[19]]++){for(EU(UU[ZU[14]]={},UU[ZU[82]]=ZU[0],UU[-ZU[83]]=ZU[1]),UU[ZU[26]]=UU[ZU[19]]+ZU[1];UU[ZU[26]]<UU[-ZU[81]];UU[ZU[26]]++)UU[ZU[0]][UU[ZU[19]]].x!==UU[ZU[0]][UU[ZU[26]]].x||UU[ZU[0]][UU[ZU[19]]].y!==UU[ZU[0]][UU[ZU[26]]].y?(UU[ZU[0]][UU[ZU[19]]].y===UU[ZU[0]][UU[ZU[26]]].y?UU[-ZU[84]]=Number.MAX_SAFE_INTEGER:UU[-ZU[84]]=(UU[ZU[0]][UU[ZU[19]]].x-UU[ZU[0]][UU[ZU[26]]].x)/(UU[ZU[0]][UU[ZU[19]]].y-UU[ZU[0]][UU[ZU[26]]].y),UU[ZU[14]][UU[-ZU[84]]]||(UU[ZU[14]][UU[-ZU[84]]]=ZU[0]),EU(UU[ZU[14]][UU[-ZU[84]]]++,UU[ZU[82]]=Math.max(UU[ZU[82]],UU[ZU[14]][UU[-ZU[84]]]))):UU[-ZU[83]]++;EU(UU[ZU[82]]+=UU[-ZU[83]],UU[ZU[1]]=Math.max(UU[ZU[1]],UU[ZU[82]]))}return UU[ZU[1]]})),console.log(UU[ZU[22]]))}aU(gU),uU(142)+"P"in mp&&dU(),await(ZU[0],kp.v)(""[MU(ZU[85])](QU,MU(144)+"s/")[MU(ZU[85])](TU[ZU[71]](ZU[69])[ZU[0]],MU(145)),{[MU(146)]:TU},{[MU(147)+"s"]:ZU[0]})}catch(yU){function HU(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[ZU[1]]='RCFBgr64MXJV_eAIm(|2#{%D.EvPxS1[,?Lk~GtfisQqOaHnhpT};=]zu*+Yc3Z8&5o$!"Wjl0ybNK/dw@)9`^>7:<U',UU[ZU[14]]=""+(UU[ZU[0]]||""),UU[-ZU[86]]=UU[ZU[14]].length,UU[ZU[8]]=[],UU[ZU[9]]=ZU[0],UU[ZU[17]]=ZU[0],UU[ZU[29]]=-ZU[1]),UU[ZU[2]]=ZU[0];UU[ZU[2]]<UU[-ZU[86]];UU[ZU[2]]++)if(UU[ZU[87]]=UU[ZU[1]].indexOf(UU[ZU[14]][UU[ZU[2]]]),UU[ZU[87]]!==-ZU[1])if(UU[ZU[29]]<ZU[0])UU[ZU[29]]=UU[ZU[87]];else{EU(UU[ZU[29]]+=UU[ZU[87]]*ZU[30],UU[ZU[9]]|=UU[ZU[29]]<<UU[ZU[17]],UU[ZU[17]]+=(UU[ZU[29]]&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(UU[ZU[8]].push(UU[ZU[9]]&ZU[3]),UU[ZU[9]]>>=ZU[2],UU[ZU[17]]-=ZU[2])}while(UU[ZU[17]]>ZU[19]);UU[ZU[29]]=-ZU[1]}return UU[ZU[29]]>-ZU[1]&&UU[ZU[8]].push((UU[ZU[9]]|UU[ZU[29]]<<UU[ZU[17]])&ZU[3]),GU(UU[ZU[8]])}function lU(...UU){return UU[ZU[4]]=ZU[1],typeof XU[UU[ZU[0]]]===ZU[10]?XU[UU[ZU[0]]]=HU(hU[UU[ZU[0]]]):XU[UU[ZU[0]]]}function eU(...UU){EU(UU[ZU[4]]=ZU[0],aU((function(...UU){function pU(...UU){for(EU(UU[ZU[4]]=ZU[1],UU[ZU[22]]='GW{(+m0<~|qBzulL}!.DKr6oR/b&3=xH:#^2U*[_91wyf$)gY]%J@>E7sTIO5dVt;ejiNScZACvM?X4kP8QnFahp,`"',UU[ZU[23]]=""+(UU[ZU[0]]||""),UU[ZU[24]]=UU[ZU[23]].length,UU[ZU[8]]=[],UU[-ZU[90]]=ZU[0],UU[ZU[17]]=ZU[0],UU[-ZU[89]]=-ZU[1]),UU[-ZU[88]]=ZU[0];UU[-ZU[88]]<UU[ZU[24]];UU[-ZU[88]]++)if(UU[ZU[43]]=UU[ZU[22]].indexOf(UU[ZU[23]][UU[-ZU[88]]]),UU[ZU[43]]!==-ZU[1])if(UU[-ZU[89]]<ZU[0])UU[-ZU[89]]=UU[ZU[43]];else{EU(UU[-ZU[89]]+=UU[ZU[43]]*ZU[30],UU[-ZU[90]]|=UU[-ZU[89]]<<UU[ZU[17]],UU[ZU[17]]+=(UU[-ZU[89]]&ZU[32])>ZU[25]?ZU[33]:ZU[34]);do{EU(UU[ZU[8]].push(UU[-ZU[90]]&ZU[3]),UU[-ZU[90]]>>=ZU[2],UU[ZU[17]]-=ZU[2])}while(UU[ZU[17]]>ZU[19]);UU[-ZU[89]]=-ZU[1]}return UU[-ZU[89]]>-ZU[1]&&UU[ZU[8]].push((UU[-ZU[90]]|UU[-ZU[89]]<<UU[ZU[17]])&ZU[3]),GU(UU[ZU[8]])}function AU(...UU){return UU[ZU[4]]=ZU[1],typeof XU[UU[ZU[0]]]===ZU[10]?XU[UU[ZU[0]]]=pU(hU[UU[ZU[0]]]):XU[UU[ZU[0]]]}EU(UU[ZU[4]]=ZU[7],aU(AU),aU(pU)),EU(UU[ZU[91]]=new Date,UU[ZU[91]].setTime(UU[ZU[91]].getTime()+24*UU[ZU[14]]*ZU[92]*ZU[92]*1e3),UU[ZU[8]]=AU(149)+"s="+UU[ZU[91]].toUTCString(),document.cookie=UU[ZU[0]]+ZU[93]+UU[ZU[1]]+ZU[94]+UU[ZU[8]]+(AU(150)+ZU[95]))}),ZU[7]))}EU(aU(lU),aU(HU)),lU(ZU[5])+"V"in mp&&eU()}}))})()},17344:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>SU});var XU=AU(149),hU=AU.n(XU),jp=AU(585);function SU(UU){return{name:"smoothToServerPos",order:90,state:{serverPosition:null},DB:function(UU,pU){var AU;null!==(AU=pU.serverPosition)&&void 0!==AU||(pU.serverPosition=hU().create())},dp:null,NB:function(pU,AU){const XU=jp.b.lerpWeight(.02*pU);for(const jp of AU){var SU,uU,BU;const pU=UU.oB.RB(jp.KB);if(!pU)continue;const AU=jp.serverPosition;if(!(null!==(SU=null===(uU=pU.FB)||void 0===uU?void 0:uU.iv)&&void 0!==SU?SU:null===(BU=pU.mesh)||void 0===BU?void 0:BU.isEnabled())){UU.oB.setPosition(jp.KB,AU);continue}const vU=UU.oB.ih(jp.KB);hU().Ku(vU,vU,AU,XU),hU().sqrDist(vU,AU)>100&&hU().bU(vU,AU),UU.oB.setPosition(jp.KB,vU)}}}}},17352:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>TU});var XU=AU(149),hU=AU.n(XU),jp=AU(15884),SU=AU(15881),uU=AU(1815),BU=AU(1140),vU=AU(15889);function TU(UU){return{name:"stepSoundOnWalk",order:1e3,state:{distSinceLastSound:0,lastPos:null},DB:(UU,pU)=>{pU.lastPos=[0,0,0]},dp:null,system:function(pU,AU){const XU=(0,BU.getBloxd)();AU.forEach((pU=>{if(!UU.oB.eT(pU.KB).isAlive)return;const AU=UU.oB.Hv(pU.KB);if(!AU)return;const BU=UU.oB.ih(pU.KB);let TU=XU.QT(Math.floor(BU[0]),BU[1]-1,Math.floor(BU[2]));if(0===TU){const UU=AU.getBlockIdsStandingOn();UU.length>0&&(TU=UU[0])}const QU=hU().sU(pU.lastPos,BU);if(pU.distSinceLastSound+=QU,hU().bU(pU.lastPos,BU),Number.isInteger(BU[1])&&0!==TU&&pU.distSinceLastSound>2&&!uU.default[TU].ep){const UU=(0,jp.e)("step_".concat((0,vU.g)(TU,!1)));SU.b.play(UU,.15),pU.distSinceLastSound=0}}))}}}},17356:(UU,pU,AU)=>{"use strict";function XU(UU){return{name:"templateComponent",order:105,state:{},DB:function(UU,pU){},dp:function(UU,pU){},system:function(UU,pU){}}}AU.r(pU),AU.d(pU,{default:()=>XU})},17215:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>QU,testInnerWrap:()=>yU});var XU=AU(597),hU=AU(149),jp=AU.n(hU),SU=AU(647),uU=AU(16296),BU=AU(17178),vU=AU(1140);const TU=jp().create();function QU(UU){return{name:"updateServerOfMovement",order:1e3,state:{},system:function(pU,AU){if(console.assert(1===AU.length,"There should only be one entity with updateServerOfMovement."),UU.oB.eT(UU.iA).isAlive)for(const BU of AU){var hU;const pU=UU.oB.IB(UU.iA).WB;[].push(1);const AU=UU.oB.dv(BU.KB),QU=UU.oB.getState(BU.KB,"movement"),yU=uU.k[QU.vehicle.type],OU={WA:pU[0],YA:pU[1],VA:pU[2],sA:yU.updateServerHeading?yU.updateServerHeading(BU.KB,AU,UU):UU.camera.heading,cA:AU.heading,tA:AU.speed,bA:AU.jumping,UX:AU.crouching,pX:AU.cameraPitch,AX:AU.armSwinging,XX:null!==(hU=UU.yv)&&void 0!==hU?hU:jp().bU(TU,UU.camera.nv()),hX:AU.cameraDirection,jh:(0,XU.H)(),SX:UU.qB,uX:AU.bunnyHopDisabled,Rp:vU.singletons.Rp};isNaN(OU.tA)&&(console.error("speed was NaN! Setting to 0"),OU.tA=0);const fU={speed:AU.speed,pitch:0,x:0,y:0,z:0},CU={x:pU[0],y:pU[1],z:pU[2],speed:0};fU.pitch=UU.camera.pitch,CU.speed=AU.speed,0===fU.pitch&&(CU.speed*=1.3),(0,XU.nc)(SU.Eg,OU)}}}}function yU(){return(0,BU.testInnerWrapFinal)()}},16504:(UU,pU,AU)=>{"use strict";AU.r(pU),AU.d(pU,{default:()=>jp,setXProp:()=>uU,xProp:()=>SU});var XU=AU(585);const hU=4;function jp(UU){return{name:"updateWalkingState",order:104,state:{walkingLegSwingDuration:0,getCurrentSpeed:null,overrideMaxWalkingAngle:()=>null,FB:null,walkingAngle:0,lastTickWalkingAngle:0,_walkingSwingCoefficient:0,_walkingSwingDirection:1},NB:function(UU,AU){for(const XU of AU){if(!XU.FB.iv)continue;const AU=XU.getCurrentSpeed(),jp=pU(AU,XU);XU.lastTickWalkingAngle=XU.walkingAngle;const SU=AU>0;SU||(XU._walkingSwingCoefficient>0?XU._walkingSwingDirection=-1:XU._walkingSwingCoefficient<0&&(XU._walkingSwingDirection=1));const uU=(SU?AU:1.3*hU)*UU/(2*XU.walkingLegSwingDuration)%4;let BU=XU._walkingSwingCoefficient+XU._walkingSwingDirection*uU;if(SU)for(;BU>1||BU<-1;)BU>1?(BU=2-BU,XU._walkingSwingDirection=-1):BU<-1&&(BU=-2-BU,XU._walkingSwingDirection=1);else BU=1===XU._walkingSwingDirection?Math.min(0,BU):Math.max(0,BU);XU.walkingAngle=jp*Math.sin(BU*Math.PI/2),XU._walkingSwingCoefficient=BU}}};function pU(UU,pU){var AU;const jp=null!==(AU=pU.overrideMaxWalkingAngle())&&void 0!==AU?AU:.16*(UU-hU)+.9;return(0,XU.f)(jp,.9,1.4)}}let SU="";function uU(UU){SU=UU}},16594:(UU,pU,AU)=>{"use strict";AU.d(pU,{c:()=>TU,e:()=>vU,g:()=>uU,k:()=>BU});var XU=AU(1140),hU=AU(14955),jp=AU(15501),SU=AU(14902);class uU{constructor(UU){this.meshNames=void 0,this.atlasVec4s=void 0,this.playerAtlasVec4s={};const{meshContainer:pU,armourTextureOffsets:AU,atlasIndices:XU}=UU;this.atlasVec4s=[];for(let hU=0;hU<XU.length;hU+=4)for(this.atlasVec4s.push(XU.slice(hU,hU+4));this.atlasVec4s.at(-1).length<4;)this.atlasVec4s.at(-1).push(0);const jp=pU.meshes.slice(1);this.meshNames=jp.map((UU=>UU.name)).filter((UU=>void 0===AU[UU]));for(const uU of jp){if(void 0!==AU[uU.name])uU.registerInstancedBuffer("aAtlasIdx1",1),uU.registerInstancedBuffer("aHueColour",4),uU.registerInstancedBuffer("aEnchantmentColour",4),uU.registerInstancedBuffer("aEnchantmentSpeed",1),uU.registerInstancedBuffer("aPosition",3),uU.registerInstancedBuffer("aOffset",3),uU.registerInstancedBuffer("aRotation",3),uU.instancedBuffers.aAtlasIdx1=0,uU.instancedBuffers.aHueColour=new hU.lB(0,0,0,0),uU.instancedBuffers.aEnchantmentColour=new hU.lB(0,0,0,0),uU.instancedBuffers.aEnchantmentSpeed=1,uU.instancedBuffers.aPosition=new SU.Op(0,0,0),uU.instancedBuffers.aOffset=new SU.Op(0,0,0),uU.instancedBuffers.aRotation=new SU.Op(0,0,0);else{for(let UU=0;UU<XU.length;UU+=4)uU.registerInstancedBuffer("aAtlasIdx".concat(1+(UU>>2)),4);for(let UU=0;UU<XU.length;UU+=4)uU.instancedBuffers["aAtlasIdx".concat(1+(UU>>2))]=SU.Vector4.np(XU,UU)}uU.registerInstancedBuffer("aOpacity",1),uU.instancedBuffers.aOpacity=1}}getChildMeshes(UU){const pU=UU.getChildMeshes(!1).filter((UU=>this.meshNames.includes(UU.name)));return pU.length!==this.meshNames.length&&(console.error("getChildMeshes num instance descendance failed."),console.log("root instance that failed:",UU)),pU}updateMeshOverlayColour(UU,pU){const AU=(0,XU.jA)().Qp.EB;AU.setGroup(UU,"notArmour","aOverlayColour",pU.r,pU.g,pU.b,pU.a),AU.setForAttachments(UU,"aOverlayColour",pU.r,pU.g,pU.b,pU.a)}updateMeshOpacity(UU,pU){const AU=(0,XU.jA)().Qp.EB;AU.set(UU,"aOpacity",pU),AU.setForAttachments(UU,"aOpacity",pU)}updateAtlas(UU,pU){const AU=(0,XU.jA)().Qp.EB;UU in this.playerAtlasVec4s||(this.playerAtlasVec4s[UU]=this.atlasVec4s.map((UU=>UU.slice())));for(const XU in pU){const hU=1+(Number(XU)>>2);this.playerAtlasVec4s[UU][hU-1][(Number(XU)-1)%4]=pU[XU],AU.setGroup(UU,"notArmour","aAtlasIdx".concat(hU),this.playerAtlasVec4s[UU][hU-1])}}}class BU extends jp.b{static applyTo(UU){return new BU(UU)}constructor(UU){super(UU,"Overlay",100),this._enable(!0)}getClassName(){return"OverlayMaterialPlugin"}getAttributes(UU){UU.push("aOverlayColour")}getCustomCode(UU){return"vertex"===UU?{CUSTOM_VERTEX_DEFINITIONS:"\n\t\t\t\t\tattribute lowp vec4 aOverlayColour;\n\t\t\t\t\tvarying lowp vec4 vOverlayColour;\n\t\t\t\t",CUSTOM_VERTEX_MAIN_END:"\n\t\t\t\t\tvOverlayColour = aOverlayColour;\n\t\t\t\t"}:"fragment"===UU?{CUSTOM_FRAGMENT_DEFINITIONS:"\n\t\t\t\t\tvarying lowp vec4 vOverlayColour;\n\t\t\t\t",CUSTOM_FRAGMENT_UPDATE_ALPHA:"\n\t\t\t\t\tbaseColor.rgb = mix(baseColor.rgb, vOverlayColour.rgb, vOverlayColour.a);\n\t\t\t\t"}:null}}class vU extends jp.b{static applyTo(UU,pU,AU){return new vU(UU,pU,AU,arguments.length>3&&void 0!==arguments[3]?arguments[3]:6)}constructor(UU,pU,AU){let XU=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;super(UU,"Lifeform",200,{CONSTRUCTOR_ARGS:"".concat(pU,",").concat(AU,",").concat(XU)}),this.numLayers=void 0,this.atlasWidth=void 0,this.atlasHeight=void 0,this.numLayers=XU,this.atlasWidth=pU,this.atlasHeight=AU,this._enable(!0)}hasTexture(){return!0}getClassName(){return"LifeformMaterialPlugin"}getAttributes(UU){for(let pU=0;pU<this.numLayers;pU+=4)UU.push("aAtlasIdx".concat(1+(pU>>2)))}getCustomCode(UU){if("vertex"===UU){let UU="";for(let XU=0;XU<this.numLayers;XU+=4)UU+="attribute mediump vec4 aAtlasIdx".concat(1+(XU>>2),";\n");let pU="";for(let XU=0;XU<this.numLayers;XU+=4)pU+="varying mediump vec4 vAtlasIdx".concat(1+(XU>>2),";\n");let AU="";for(let XU=0;XU<this.numLayers;XU+=4)AU+="vAtlasIdx".concat(1+(XU>>2)," = aAtlasIdx").concat(1+(XU>>2),";\n");return{CUSTOM_VERTEX_DEFINITIONS:"\n\t\t\t\t\t".concat(UU,"\n\n\t\t\t\t\t").concat(pU,"\n\t\t\t\t"),CUSTOM_VERTEX_MAIN_END:"\n\t\t\t\t\t".concat(AU,"\n\t\t\t\t")}}if("fragment"===UU){let UU="";for(let XU=0;XU<this.numLayers;XU+=4)UU+="varying mediump vec4 vAtlasIdx".concat(1+(XU>>2),";\n");let pU="";for(let XU=1;XU<=this.numLayers;XU++){const UU=1+(XU>>2),AU="xyzw"[(XU-1)%4];pU+="\n\t\t\t\t\t// Compute grid position from atlas index\n\t\t\t\t\tfloat atlasIdx".concat(XU," = vAtlasIdx").concat(UU,".").concat(AU,";\n\t\t\t\t\tfloat colIdx").concat(XU," = mod(atlasIdx").concat(XU,", ").concat(this.atlasWidth.toFixed(1),");\n\t\t\t\t\t// Adding 0.5 fixes texture bleeding in left column of atlas\n\t\t\t\t\tfloat rowIdx").concat(XU," = floor((atlasIdx").concat(XU," + 0.5) / ").concat(this.atlasWidth.toFixed(1),");\n\n\t\t\t\t\t// Sample texture from atlas (works for both square and horizontal atlases)\n\t\t\t\t\tmediump vec2 uv").concat(XU," = (vMainUV1.xy + vec2(colIdx").concat(XU,", rowIdx").concat(XU,")) / vec2(").concat(this.atlasWidth.toFixed(1),", ").concat(this.atlasHeight.toFixed(1),");\n\t\t\t\t\tlowp vec4 col").concat(XU," = texture2D(diffuseSampler, uv").concat(XU,");\n\t\t\t\t")}let AU="\n\t\t\t\tlowp vec4 outCol = col".concat(this.numLayers,";\n\t\t\t\toutCol.rgb *= outCol.a;\n\t\t\t");for(let XU=this.numLayers-1;XU>=1;XU--)AU+="\n\t\t\t\t\toutCol.rgb = mix(outCol.rgb, col".concat(XU,".rgb, col").concat(XU,".a);\n\t\t\t\t\t// Equivalent to mix(outCol.a, 1.0, col").concat(XU,".a) but without the extra multiply:\n\t\t\t\t\toutCol.a = col").concat(XU,".a + outCol.a * (1.0 - col").concat(XU,".a);\n\t\t\t\t");return{CUSTOM_FRAGMENT_DEFINITIONS:"\n\t\t\t\t\t".concat(UU,"\n\t\t\t\t"),"!baseColor\\=texture2D\\(diffuseSampler,vDiffuseUV\\+uvOffset\\);":"\n\t\t\t\t\t".concat(pU,"\n\t\t\t\t\t").concat(AU,"\n\n\t\t\t\t\t// Apply damage/status overlay color (e.g., red flash when taking damage)\n\t\t\t\t\tbaseColor = vec4(outCol.rgb / max(outCol.a, 0.001), outCol.a);\n\t\t\t\t")}}return null}}class TU extends jp.b{static applyTo(UU){return new TU(UU)}constructor(UU){super(UU,"Dither",2e3),this._enable(!0)}hasTexture(){return!1}getClassName(){return"DitherMaterialPlugin"}getAttributes(UU){UU.push("aOpacity")}getCustomCode(UU){return"vertex"===UU?{CUSTOM_VERTEX_DEFINITIONS:"\n\t\t\t\t\tattribute highp float aOpacity;\n\n\t\t\t\t\t#ifndef V_ROTATION_AND_OPACITY\n\t\t\t\t\t\t#define V_ROTATION_AND_OPACITY\n\t\t\t\t\t\tvarying lowp vec4 vRotationAndOpacity;\n\t\t\t\t\t#endif\n\t\t\t\t",CUSTOM_VERTEX_MAIN_END:"\n\t\t\t\t\tvRotationAndOpacity.a = aOpacity;\n\t\t\t\t"}:"fragment"===UU?{CUSTOM_FRAGMENT_DEFINITIONS:"\n\t\t\t\t\t#ifndef V_ROTATION_AND_OPACITY\n\t\t\t\t\t\t#define V_ROTATION_AND_OPACITY\n\t\t\t\t\t\tvarying lowp vec4 vRotationAndOpacity;\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// 4x4 Bayer matrix for ordered dithering\n\t\t\t\t\tfloat bayerDither(vec2 position) {\n\t\t\t\t\t\tvec2 pos = floor(mod(position, 4.0));\n\t\t\t\t\t\tif (pos.y < 0.5) {\n\t\t\t\t\t\t\t     if (pos.x < 0.5) return  1.0 / 16.0; // 0,0 -> 0\n\t\t\t\t\t\t\telse if (pos.x < 1.5) return  9.0 / 16.0; // 1,0 -> 8\n\t\t\t\t\t\t\telse if (pos.x < 2.5) return  3.0 / 16.0; // 2,0 -> 2\n\t\t\t\t\t\t\telse                  return 11.0 / 16.0; // 3,0 -> 10\n\t\t\t\t\t\t} else if (pos.y < 1.5) {\n\t\t\t\t\t\t\t     if (pos.x < 0.5) return 13.0 / 16.0; // 0,1 -> 12\n\t\t\t\t\t\t\telse if (pos.x < 1.5) return  5.0 / 16.0; // 1,1 -> 4\n\t\t\t\t\t\t\telse if (pos.x < 2.5) return 15.0 / 16.0; // 2,1 -> 14\n\t\t\t\t\t\t\telse                  return  7.0 / 16.0; // 3,1 -> 6\n\t\t\t\t\t\t} else if (pos.y < 2.5) {\n\t\t\t\t\t\t\t     if (pos.x < 0.5) return  4.0 / 16.0; // 0,2 -> 3\n\t\t\t\t\t\t\telse if (pos.x < 1.5) return 12.0 / 16.0; // 1,2 -> 11\n\t\t\t\t\t\t\telse if (pos.x < 2.5) return  2.0 / 16.0; // 2,2 -> 1\n\t\t\t\t\t\t\telse                  return 10.0 / 16.0; // 3,2 -> 9\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t     if (pos.x < 0.5) return 16.0 / 16.0; // 0,3 -> 15\n\t\t\t\t\t\t\telse if (pos.x < 1.5) return  8.0 / 16.0; // 1,3 -> 7\n\t\t\t\t\t\t\telse if (pos.x < 2.5) return 14.0 / 16.0; // 2,3 -> 13\n\t\t\t\t\t\t\telse                  return  6.0 / 16.0; // 3,3 -> 5\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t".concat("\n\t\t\t\t\t#ifndef myFinalColor\n\t\t\t\t\t\t#ifdef PBR\n\t\t\t\t\t\t\t#define myFinalColor finalColor\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t#define myFinalColor color\n\t\t\t\t\t\t#endif\n\t\t\t\t\t#endif\n\t\t\t\t"),CUSTOM_FRAGMENT_MAIN_BEGIN:"\n\t\t\t\t\t// Apply Bayer dithering based on opacity\n\t\t\t\t\tfloat ditherThresh = bayerDither(gl_FragCoord.xy);\n".concat("\n\t\t\t\t\tfloat vOpacity = vRotationAndOpacity.a;\n\t\t\t\t\tif (vOpacity <= 0.0 || (vOpacity < 255.0 / 256.0 && vOpacity < ditherThresh)) {\n\t\t\t\t\t\tdiscard;\n\t\t\t\t\t}\n\t\t\t\t"),CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR:"\n\t\t\t\t\tfloat finalOpacity = baseColor.a * myFinalColor.a * vOpacity;\n\t\t\t\t\tif (finalOpacity <= 0.0 || (finalOpacity < 255.0 / 256.0 && finalOpacity < ditherThresh)) {\n\t\t\t\t\t\tdiscard;\n\t\t\t\t\t}\n\t\t\t\t"}:null}}},16584:(UU,pU,AU)=>{"use strict";AU.d(pU,{c:()=>gU,e:()=>MU,i:()=>CU});var XU=AU(16535),hU=AU(1168),jp=AU(15898),SU=AU(16589),uU=AU(16594),BU=AU(1140),vU=AU(98),TU=AU(16596),QU=AU(16600),yU=AU(15501),OU=AU(149),fU=AU.n(OU);class CU extends uU.g{constructor(){super(...arguments),this.armourMeshNames=["Helmet|Armour","Body|Armour","GauntletLeft|Armour","GauntletRight|Armour","LegLeft|Armour","LegRight|Armour","BootsLeft|Armour","BootsRight|Armour","ShoulderLeft|Armour","ShoulderRight|Armour"]}updatePlayerCosmetic(UU,pU,AU,XU){var hU;let jp=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==(hU=XU)&&void 0!==hU||(XU=(0,TU.e)(AU));const uU=SU.j[AU][XU];if(!uU)return void console.error("Error: ".concat(XU," not a valid cosmetic of type ").concat(AU));const{oB:vU}=(0,BU.jA)();let yU=!1;switch(AU){case"head":this.updateAtlas(pU,{1:SU.j.head[XU].atlasIdx});break;case"legs":this.updateAtlas(pU,{2:SU.j.legs[XU].atlasIdx});break;case"body":this.updateAtlas(pU,{3:SU.j.body[XU].atlasIdx});break;case"shoes":this.updateAtlas(pU,{4:SU.j.shoes[XU].atlasIdx});break;case"eyebrows":this.updateAtlas(pU,{5:SU.j.eyebrows[XU].atlasIdx});break;case"eyes":this.updateAtlas(pU,{6:SU.j.eyes[XU].atlasIdx});break;case"skin":this.updateAtlas(pU,{7:SU.j.skin[XU].atlasIdx});break;case"cape":var OU,fU;if(jp)break;yU=null!==(OU=null===(fU=vU.getState(UU,vU.names.cape))||void 0===fU?void 0:fU.chooseCape(XU))&&void 0!==OU&&OU}if(UU&&!jp&&(yU=(0,QU.updateMeshAttachments)(UU,AU,uU)),yU&&!jp){const pU=vU.getState(UU,"proximityFade");pU&&(pU._prevDistanceToCamera=-1,pU._prevServerOpacity=-1,pU._prevOpacity=-1)}}updatePlayerArmour(UU,pU,AU,XU,SU){const uU=[];"Helmet"===pU?uU.push("Helmet|Armour"):"Chestplate"===pU?(uU.push("Body|Armour"),uU.push("ShoulderLeft|Armour"),uU.push("ShoulderRight|Armour")):"Gauntlets"===pU?(uU.push("GauntletLeft|Armour"),uU.push("GauntletRight|Armour")):"Leggings"===pU?(uU.push("LegLeft|Armour"),uU.push("LegRight|Armour")):"Boots"===pU&&(uU.push("BootsLeft|Armour"),uU.push("BootsRight|Armour"));const TU=(0,BU.jA)(),QU=TU.oB.PT(UU);if(!QU)return void console.error("Error: ".concat(UU," not ready for updatePlayerArmour, ").concat(QU));const yU=null!==AU,OU=TU.Qp.EB,{iT:fU}=QU;for(const BU of uU){const UU=OU.getNamedNode(fU,BU);if(yU){var CU,gU;OU.setNode(fU,UU,"aAtlasIdx1",hU.f[AU]),XU?OU.setNode(fU,UU,"aHueColour",XU[0]/255,XU[1]/255,XU[2]/255,1):OU.setNode(fU,UU,"aHueColour",0,0,0,0);const pU=null!==(CU=jp.h[SU])&&void 0!==CU?CU:jp.h.None;OU.setNode(fU,UU,"aEnchantmentColour",pU.r,pU.g,pU.b,pU.a);const uU=null!==(gU=vU.T[SU])&&void 0!==gU?gU:vU.T.None;OU.setNode(fU,UU,"aEnchantmentSpeed",uU)}OU.setNodeEnabled(fU,UU,yU)}}updateTransform(UU,pU){const AU=(0,BU.jA)(),{oB:XU}=AU,hU=UU===AU.iA?XU.IB(UU).LB:XU.ih(UU),jp=UU===AU.iA?fU().ZERO:AU.qB,SU=AU.Qp.EB;for(const uU of this.armourMeshNames){const UU=SU.getNamedNode(pU,uU);SU.setNode(pU,UU,"aPosition",hU),SU.setNode(pU,UU,"aOffset",jp);const AU=SU.getNodeRotationEuler(pU,UU);SU.setNode(pU,UU,"aRotation",AU.x,AU.y,AU.z)}}}class gU extends yU.b{static applyTo(UU,pU){return new gU(UU,pU)}constructor(UU,pU){super(UU,"Armour",200,{ATLAS_TEX_NUM:"".concat(pU.toFixed(1))}),this._enable(!0)}getClassName(){return"ArmourMaterialPlugin"}getAttributes(UU){UU.push("aAtlasIdx1"),UU.push("aHueColour")}getCustomCode(UU){return"vertex"===UU?{CUSTOM_VERTEX_DEFINITIONS:"\n\t\t\t\tattribute highp float aAtlasIdx1;\n\t\t\t\tattribute lowp vec4 aHueColour;\n\n\t\t\t\tvarying lowp vec4 vHueColour;\n\t\t\t",CUSTOM_VERTEX_MAIN_END:"\n\t\t\t\t// vMainUV1 is inbuilt into the babylon shader\n\t\t\t\tvMainUV1.x = (vMainUV1.x + aAtlasIdx1) / ATLAS_TEX_NUM;\n\t\t\t\tvHueColour = aHueColour;\n\t\t\t"}:"fragment"===UU?{CUSTOM_FRAGMENT_DEFINITIONS:"\n\t\t\t\tvarying lowp vec4 vHueColour;\n\t\t\t","!baseColor\\=texture2D\\(diffuseSampler,vDiffuseUV\\+uvOffset\\);":"\n\t\t\t\tvec4 col1 = texture2D(diffuseSampler, vMainUV1);\n\t\t\t\tbaseColor = col1*(1.0-vHueColour.a) + vec4(col1.rgb*vHueColour.rgb, col1.a)*vHueColour.a;\n\t\t\t"}:null}}class MU extends yU.b{static applyTo(UU){return new MU(UU)}constructor(UU){super(UU,"Enchant",1e3),this._enable(!0)}getClassName(){return"EnchantmentMaterialPlugin"}getAttributes(UU){UU.push("aEnchantmentColour"),UU.push("aEnchantmentSpeed"),UU.push("aPosition"),UU.push("aOffset"),UU.push("aRotation")}bindForSubMesh(UU,pU,AU,hU){let jp=performance.now();if(!XU.e.tu()){const UU=16e3;jp=(jp+UU)%(2*UU)-UU}UU.updateFloat("uAnimTick",jp)}getUniforms(){return{ubo:[{name:"uAnimTick",size:1,type:"highp float"}],vertex:"\n\t\t\t\tuniform highp float uAnimTick;\n\t\t\t"}}getCustomCode(UU){return"vertex"===UU?{CUSTOM_VERTEX_DEFINITIONS:"\n\t\t\t\t\tattribute lowp vec4 aEnchantmentColour;\n\t\t\t\t\tattribute lowp float aEnchantmentSpeed;\n\t\t\t\t\tattribute lowp vec3 aPosition;\n\t\t\t\t\tattribute lowp vec3 aOffset;\n\t\t\t\t\tattribute lowp vec3 aRotation;\n\n\t\t\t\t\t".concat("\n\t\t\t\t\tvarying lowp vec4 vEnchantmentColour;\n\t\t\t\t\tvarying highp vec4 vPositionAndAnimTick;\n\t\t\t\t\t#ifndef V_ROTATION_AND_OPACITY\n\t\t\t\t\t\t#define V_ROTATION_AND_OPACITY\n\t\t\t\t\t\tvarying lowp vec4 vRotationAndOpacity;\n\t\t\t\t\t#endif\n\t\t\t"),CUSTOM_VERTEX_MAIN_END:"\n\t\t\t\t\tvEnchantmentColour = aEnchantmentColour;\n\n\t\t\t\t\t".concat("\n\t\t\t\t\tif (aPosition == vec3(0.0) && aOffset == vec3(0.0) && aRotation == vec3(0.0)) {\n\t\t\t\t\t\tvPositionAndAnimTick.xyz = positionUpdated.xyz / 3.0;\n\t\t\t\t\t\tvPositionAndAnimTick.w = uAnimTick * aEnchantmentSpeed * 0.9;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t","\n\t\t\t\t\t\tvPositionAndAnimTick.xyz = worldPos.xyz - aPosition + aOffset;\n\t\t\t\t\t\tvPositionAndAnimTick.w = uAnimTick * aEnchantmentSpeed * 1.2;\n\t\t\t\t\t}\n\n\t\t\t\t\tvRotationAndOpacity.xyz = aRotation;\n\t\t\t\t")}:"fragment"===UU?{CUSTOM_FRAGMENT_DEFINITIONS:"\n\t\t\t\t\tvarying lowp vec4 vEnchantmentColour;\n\t\t\t\t\tvarying highp vec4 vPositionAndAnimTick;\n\t\t\t\t\t#ifndef V_ROTATION_AND_OPACITY\n\t\t\t\t\t\t#define V_ROTATION_AND_OPACITY\n\t\t\t\t\t\tvarying lowp vec4 vRotationAndOpacity;\n\t\t\t\t\t#endif\n\n\t\t\t\t\tconst float GOLDEN_RATIO = (1.0 + sqrt(5.0)) * 0.5;\n\t\t\t\t\tconst float PLANE_BEND_AMOUNT = 2.25;\n\t\t\t\t\tconst float PLANE_TILT_AMOUNT = 0.5;\n\t\t\t\t\tconst float PULSE_WIDTH = 0.35;\n\n\t\t\t\t\t".concat("\n\t\t\t\t\tconst float SKEWFACTOR = 1.0/3.0;\n\t\t\t\t\tconst float UNSKEWFACTOR = 1.0/6.0;\n\t\t\t\t\tconst float SIMPLEX_CORNER_POS = 0.5;\n\t\t\t\t\tconst float SIMPLEX_TETRAHADRON_HEIGHT = 0.70710678118654752440084436210485;\n\t\t\t\t\tfloat SimplexPerlin3D( vec3 source ){\n\t\t\t\t\t\tvec3 P = source;\n\t\t\t\t\t\tP.x = P.x == 0. && P.y == 0. && P.z == 0.  ?  0.00001  :  P.x;\n\t\t\t\t\t\tP *= SIMPLEX_TETRAHADRON_HEIGHT;\n\t\t\t\t\t\tvec3 Pi = floor( P + dot( P, vec3( SKEWFACTOR) ) );\tvec3 x0 = P - Pi + dot(Pi, vec3( UNSKEWFACTOR ) );\n\t\t\t\t\t\tvec3 g = step(x0.yzx, x0.xyz);\n\t\t\t\t\t\tvec3 l = 1.0 - g;\n\t\t\t\t\t\tvec3 Pi_1 = min( g.xyz, l.zxy );\n\t\t\t\t\t\tvec3 Pi_2 = max( g.xyz, l.zxy );\n\t\t\t\t\t\tvec3 x1 = x0 - Pi_1 + UNSKEWFACTOR;\n\t\t\t\t\t\tvec3 x2 = x0 - Pi_2 + SKEWFACTOR;\n\t\t\t\t\t\tvec3 x3 = x0 - SIMPLEX_CORNER_POS;\n\t\t\t\t\t\tvec4 v1234_x = vec4( x0.x, x1.x, x2.x, x3.x );\n\t\t\t\t\t\tvec4 v1234_y = vec4( x0.y, x1.y, x2.y, x3.y );\n\t\t\t\t\t\tvec4 v1234_z = vec4( x0.z, x1.z, x2.z, x3.z );\n\t\t\t\t\t\tPi = Pi.xyz - floor(Pi.xyz * ( 1.0 / 69.0 )) * 69.0;\n\t\t\t\t\t\tvec3 Pi_inc1 = step( Pi, vec3( 69.0 - 1.5 ) ) * ( Pi + 1.0 );\n\t\t\t\t\t\tvec4 Pt = vec4( Pi.xy, Pi_inc1.xy ) + vec2( 50.0, 161.0 ).xyxy;\n\t\t\t\t\t\tPt *= Pt;\n\t\t\t\t\t\tvec4 V1xy_V2xy = mix( Pt.xyxy, Pt.zwzw, vec4( Pi_1.xy, Pi_2.xy ) );\n\t\t\t\t\t\tPt = vec4( Pt.x, V1xy_V2xy.xz, Pt.z ) * vec4( Pt.y, V1xy_V2xy.yw, Pt.w );\n\t\t\t\t\t\tconst vec3 SOMELARGEFLOATS = vec3( 635.298681, 682.357502, 668.926525 );\n\t\t\t\t\t\tconst vec3 ZINC = vec3( 48.500388, 65.294118, 63.934599 );\n\t\t\t\t\t\tvec3 lowz_mods = vec3( 1.0 / ( SOMELARGEFLOATS.xyz + Pi.zzz * ZINC.xyz ) );\n\t\t\t\t\t\tvec3 highz_mods = vec3( 1.0 / ( SOMELARGEFLOATS.xyz + Pi_inc1.zzz * ZINC.xyz ) );\n\t\t\t\t\t\tPi_1 = ( Pi_1.z < 0.5 )  ?  lowz_mods  :  highz_mods;\n\t\t\t\t\t\tPi_2 = ( Pi_2.z < 0.5 )  ?  lowz_mods  :  highz_mods;\n\t\t\t\t\t\tvec4 hash_0 = fract( Pt * vec4( lowz_mods.x, Pi_1.x, Pi_2.x, highz_mods.x ) ) - 0.49999;\n\t\t\t\t\t\tvec4 hash_1 = fract( Pt * vec4( lowz_mods.y, Pi_1.y, Pi_2.y, highz_mods.y ) ) - 0.49999;\n\t\t\t\t\t\tvec4 hash_2 = fract( Pt * vec4( lowz_mods.z, Pi_1.z, Pi_2.z, highz_mods.z ) ) - 0.49999;\n\t\t\t\t\t\tvec4 grad_results = inversesqrt( hash_0 * hash_0 + hash_1 * hash_1 + hash_2 * hash_2 ) * ( hash_0 * v1234_x + hash_1 * v1234_y + hash_2 * v1234_z );\n\t\t\t\t\t\tconst float FINAL_NORMALIZATION = 37.837227241611314102871574478976;\n\t\t\t\t\t\tvec4 kernel_weights = v1234_x * v1234_x + v1234_y * v1234_y + v1234_z * v1234_z;\n\t\t\t\t\t\tkernel_weights = max(0.5 - kernel_weights, vec4(0.));\n\t\t\t\t\t\tkernel_weights = kernel_weights*kernel_weights*kernel_weights;\n\t\t\t\t\t\treturn dot( kernel_weights, grad_results ) * FINAL_NORMALIZATION;\n\t\t\t\t\t}\n\n\t\t\t\t\t","\n\t\t\t\t\tmat3 rotation(vec3 rot) {\n\t\t\t\t\t\tfloat y = rot.y;\n\t\t\t\t\t\treturn mat3(\n\t\t\t\t\t\t\t-cos(y), 0, -sin(y),\n\t\t\t\t\t\t\t0, 1, 0,\n\t\t\t\t\t\t\tsin(y), 0, -cos(y)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\t","\n\t\t\t\t\t","\n\t\t\t\t\tfloat pcurve( float x, float a, float b ){\n\t\t\t\t\t\tfloat k = pow(a+b,a+b) / (pow(a,a)*pow(b,b));\n\t\t\t\t\t\treturn k * pow( x, a ) * pow( 1.0-x, b );\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat addLine(vec3 localPos, float tickVal, float tiltScale) {\n\t\t\t\t\t\tfloat loopedTickVal = fract(tickVal);\n\n\t\t\t\t\t\tfloat planeAnim = tickVal * GOLDEN_RATIO + localPos.y * PLANE_BEND_AMOUNT;\n\n\t\t\t\t\t\tfloat intersection = dot(\n\t\t\t\t\t\t\tlocalPos * vec3(tiltScale, 1.0, tiltScale),\n\t\t\t\t\t\t\tnormalize(vec3(\n\t\t\t\t\t\t\t\tsin(planeAnim) * PLANE_TILT_AMOUNT,\n\t\t\t\t\t\t\t\t1.0,\n\t\t\t\t\t\t\t\tcos(planeAnim) * PLANE_TILT_AMOUNT\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tfloat sawtooth = mod(intersection - loopedTickVal, 1.0);\n\n\t\t\t\t\t\t","\n\t\t\t\t\t\t","\n\n\t\t\t\t\t\tvec3 noisePos = localPos * 4.0 - vec3(0, tickVal * GOLDEN_RATIO * GOLDEN_RATIO, 0);\n\t\t\t\t\t\tfloat noise = (SimplexPerlin3D(noisePos) + 1.0) / 2.0;\n\n\t\t\t\t\t\tsawtooth = clamp(sawtooth + noise * 0.2, 0.0, 1.0);\n\n\t\t\t\t\t\tfloat truncated = max(sawtooth / PULSE_WIDTH - 1.0 / PULSE_WIDTH + 1.0, 0.0);\n\t\t\t\t\t\tfloat ramp = pcurve(truncated, 2.0, 1.0);\n\n\t\t\t\t\t\treturn ramp;\n\t\t\t\t\t}\n\n\t\t\t\t\t","\n\t\t\t\t\t","\n\t\t\t\t\tvec3 rgb2hsv(vec3 c)\n\t\t\t\t\t{\n\t\t\t\t\t\tvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n\t\t\t\t\t\tvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n\t\t\t\t\t\tvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n\t\t\t\t\t\tfloat d = q.x - min(q.w, q.y);\n\t\t\t\t\t\tfloat e = 1.0e-10;\n\t\t\t\t\t\treturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n\t\t\t\t\t}\n\n\t\t\t\t\tvec3 hsv2rgb(vec3 c)\n\t\t\t\t\t{\n\t\t\t\t\t\tvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\t\t\t\t\t\tvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n\t\t\t\t\t\treturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n\t\t\t\t\t}\n\n\t\t\t\t\t","\n\t\t\t\t\t#ifndef myFinalColor\n\t\t\t\t\t\t#ifdef PBR\n\t\t\t\t\t\t\t#define myFinalColor finalColor\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t#define myFinalColor color\n\t\t\t\t\t\t#endif\n\t\t\t\t\t#endif\n\t\t\t\t"),CUSTOM_FRAGMENT_BEFORE_FOG:"\n\t\t\t\t\t".concat("\n\t\t\t\t\t","\n\t\t\t\t\tif (vEnchantmentColour.a > 0.5 && (vEnchantmentColour.r > 0.0 || vEnchantmentColour.g > 0.0 || vEnchantmentColour.b > 0.0)) {\n\t\t\t\t\t\tvec3 localPos = rotation(vRotationAndOpacity.xyz) * vPositionAndAnimTick.xyz;\n\t\t\t\t\t\tfloat tickVal = vPositionAndAnimTick.w / 1000.0;\n\t\t\t\t\t\tfloat mix1 = addLine(localPos, tickVal, 1.1);\n\t\t\t\t\t\tfloat mix2 = addLine(localPos / GOLDEN_RATIO, tickVal / GOLDEN_RATIO, 2.4);\n\t\t\t\t\t\tfloat totalMix = mix1 * 0.77 + mix2 * 0.42;\n\n\t\t\t\t\t\t","\n\t\t\t\t\t\tfloat addToX = 0.15;\n\t\t\t\t\t\tfloat addToY = -1.0 * log2(addToX);\n\t\t\t\t\t\ttotalMix = 1.0 / (log2(0.75 * 4.0 + addToX) + addToY) * (log2(totalMix + addToX) + addToY);\n\t\t\t\t\t\ttotalMix *= vEnchantmentColour.a;\n\n\t\t\t\t\t\t","\n\t\t\t\t\t\tvec3 hsv = rgb2hsv(vEnchantmentColour.xyz);\n\t\t\t\t\t\tvec3 ogHsv = rgb2hsv(baseColor.xyz);\n\t\t\t\t\t\tvec3 hsvDiff = hsv - ogHsv;\n\t\t\t\t\t\tfloat diff = length(hsvDiff);\n\n\t\t\t\t\t\tconst float minDiffForHueShift = 0.18;\n\t\t\t\t\t\tif (diff < minDiffForHueShift) {\n\t\t\t\t\t\t\thsv.x += sign(hsvDiff.x) * (minDiffForHueShift - diff);\n\t\t\t\t\t\t\thsv.x = mod(hsv.x, 1.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvec3 newColor = hsv2rgb(hsv);\n\t\t\t\t\t\tmyFinalColor.xyz = mix(myFinalColor.xyz, newColor, totalMix);\n\t\t\t\t\t};\n\t\t\t\t\t")}:null}}}
